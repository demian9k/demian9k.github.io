<!DOCTYPE html><html lang="en" class="scroll-smooth"><head><meta charSet="utf-8"/><script>!function(){try {var d=document.documentElement.classList;d.remove('light','dark');var e=localStorage.getItem('theme');if("system"===e||(!e&&true)){var t="(prefers-color-scheme: dark)",m=window.matchMedia(t);m.media!==t||m.matches?d.add('dark'):d.add('light')}else if(e) d.add(e)}catch(e){}}()</script><meta content="width=device-width, initial-scale=1" name="viewport"/><title>K8S network</title><meta name="robots" content="follow, index"/><meta name="description" content=""/><meta property="og:url" content="https://demian9k.github.io/blog/k8s_network"/><meta property="og:type" content="article"/><meta property="og:site_name" content="demian11k studylog"/><meta property="og:description" content=""/><meta property="og:title" content="K8S network"/><meta property="og:image" content="https://demian9k.github.io/static/images/twitter-card.png"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site"/><meta name="twitter:title" content="K8S network"/><meta name="twitter:description" content=""/><meta name="twitter:image" content="https://demian9k.github.io/static/images/twitter-card.png"/><link rel="canonical" href="https://demian9k.github.io/blog/k8s_network"/><meta property="article:published_time" content="2023-05-12T03:03:00.000Z"/><meta property="article:modified_time" content="2023-05-12T00:00:00.000Z"/><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "Article",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://demian9k.github.io/blog/k8s_network"
  },
  "headline": "K8S network",
  "image": [
    {
      "@type": "ImageObject",
      "url": "https://demian9k.github.io/static/images/twitter-card.png"
    }
  ],
  "datePublished": "2023-05-12T03:03:00.000Z",
  "dateModified": "2023-05-12T00:00:00.000Z",
  "author": {
    "@type": "Person",
    "name": "demian11k"
  },
  "publisher": {
    "@type": "Organization",
    "name": "demian11k",
    "logo": {
      "@type": "ImageObject",
      "url": "https://demian9k.github.io/static/images/logo.png"
    }
  },
  "description": ""
}</script><meta name="next-head-count" content="21"/><link rel="apple-touch-icon" sizes="76x76" href="/static/favicons/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/static/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/static/favicons/favicon-16x16.png"/><link rel="manifest" href="/static/favicons/site.webmanifest"/><link rel="mask-icon" href="/static/favicons/safari-pinned-tab.svg" color="#5bbad5"/><meta name="msapplication-TileColor" content="#000000"/><meta name="theme-color" media="(prefers-color-scheme: light)" content="#fff"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#000"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><link rel="preload" href="/_next/static/css/9da9539fac7f1ee9.css" as="style"/><link rel="stylesheet" href="/_next/static/css/9da9539fac7f1ee9.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-1667cddafac2eea3.js" defer=""></script><script src="/_next/static/chunks/main-bfc1a3b6dd286443.js" defer=""></script><script src="/_next/static/chunks/pages/_app-e097d8b875e64e46.js" defer=""></script><script src="/_next/static/chunks/140-77b8ab5a870d524b.js" defer=""></script><script src="/_next/static/chunks/574-40cb695d6b511631.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5B...slug%5D-48fd063b43fdbe6a.js" defer=""></script><script src="/_next/static/UAtAAybf6nPA5spfXrC06/_buildManifest.js" defer=""></script><script src="/_next/static/UAtAAybf6nPA5spfXrC06/_ssgManifest.js" defer=""></script><script src="/_next/static/UAtAAybf6nPA5spfXrC06/_middlewareManifest.js" defer=""></script></head><body class="bg-white text-black antialiased dark:bg-gray-900 dark:text-white"><div id="__next" data-reactroot=""><div class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><div class="flex h-screen flex-col justify-between"><header class="flex items-center justify-between py-10"><div><a aria-label="demian11k.studylog" href="/"><div class="flex items-center justify-between"><div class="mr-3"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%2740%27%20height=%2740%27/%3e"/></span><img alt="A" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="rounded-full object-cover object-center md:h-36 lg:h-48" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="A" srcSet="/_next/static/media/demian_avatar_logo.c12b9855.png?imwidth=48 1x, /_next/static/media/demian_avatar_logo.c12b9855.png?imwidth=96 2x" src="/_next/static/media/demian_avatar_logo.c12b9855.png?imwidth=96" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="rounded-full object-cover object-center md:h-36 lg:h-48" loading="lazy"/></noscript></span></div><div class="hidden h-6 text-2xl font-semibold sm:block">demian11k.studylog</div></div></a></div><div class="flex items-center text-base leading-5"><div class="hidden sm:block"><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/blog">Blog</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/tags">Tags</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/projects">Projects</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/about">About</a></div><button aria-label="Toggle Dark Mode" type="button" class="ml-1 mr-1 h-8 w-8 rounded p-1 sm:ml-4"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg></button><div class="sm:hidden"><button type="button" class="ml-1 mr-1 h-8 w-8 rounded py-1" aria-label="Toggle Menu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg></button><div class="fixed top-0 left-0 z-10 h-full w-full transform bg-gray-200 opacity-95 duration-300 ease-in-out dark:bg-gray-800 translate-x-full"><div class="flex justify-end"><button type="button" class="mr-5 mt-11 h-8 w-8 rounded" aria-label="Toggle Menu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><nav class="fixed mt-8 h-full"><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/blog">Blog</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/tags">Tags</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/projects">Projects</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/about">About</a></div></nav></div></div></div></header><main class="mb-auto"><div class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><div class="fixed right-8 bottom-8 hidden flex-col gap-3 md:hidden"><button aria-label="Scroll To Top" type="button" class="rounded-full bg-gray-200 p-2 text-gray-500 transition-all hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-400 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><article><div><header><div class="space-y-1 border-b border-gray-200 pb-10 text-center dark:border-gray-700"><dl><div><dt class="sr-only">Published on</dt><dd class="text-base font-medium leading-6 text-gray-500 dark:text-gray-400"><time dateTime="2023-05-12T03:03:00.000Z">May 12, 2023</time></dd></div></dl><div><h1 class="text-3xl font-extrabold leading-9 tracking-tight text-gray-900 dark:text-gray-100 sm:text-4xl sm:leading-10 md:text-5xl md:leading-14">K8S network</h1></div></div></header><div class="divide-y divide-gray-200 pb-8 dark:divide-gray-700 xl:divide-y-0 " style="grid-template-rows:auto 1fr"><div class="divide-y divide-gray-200 dark:divide-gray-700 xl:col-span-3 xl:row-span-2 xl:pb-0"><div class="prose max-w-none pt-10 pb-8 dark:prose-dark"><h2 id="기본-구조"><a href="#기본-구조" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>기본 구조</h2><h3 id="파드-네트워크"><a href="#파드-네트워크" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>파드 네트워크</h3><ul><li>pod는 여러개의 컨테이너를 가질 수 있다.</li><li>pod는 내부 네트워크가 있다.</li><li>파드는 내 컨테이너들은 파드의 IP를 공유하며 포트로 구분된다.</li><li>같은 pod의 다른 컨테이너와 통신하려면 localhost로 통신하는 것이 가능하다.</li><li>다른 pod의 컨테이너와 통신하려면 그 pod의 ip주소로 통신해야 한다.</li></ul><h3 id="노드-네트워크"><a href="#노드-네트워크" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>노드 네트워크</h3><ul><li><p>파드 외부에는 노드 네트워크가 있다.</p></li><li><p>내부 네트워크 구성은 CNI 구현에 따라 달라지지만 기본적으로 노드별로 다른 네트워크 세그먼트를 구성하고 노트간 트래픽은 VXLAN이나 L2 Routing으로 전송하여 통신한다.</p></li><li><p>노드 별 네트워크 세그먼트는 클러스터 전체에 할당된 세그먼트를 분할한 것이다.</p></li><li><p>클러스터에서 자동할당된다.</p></li></ul><p>describe 하면 pod와 노드의 ip 대역을 볼 수 있다.</p><h3 id="kubectl-describe-pod-pod-name"><a href="#kubectl-describe-pod-pod-name" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>kubectl describe pod [pod-name]</h3><div class="relative"><pre><code class="language-bash code-highlight"><span class="code-line">$ kubectl describe pod sample-deployment-7465f6db78-6rpht
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line">Name:             sample-deployment-7465f6db78-6rpht
</span><span class="code-line">Namespace:        default
</span><span class="code-line">Priority:         <span class="token number">0</span>
</span><span class="code-line">Service Account:  default
</span><span class="code-line">Node:             docker-desktop/192.168.65.4
</span><span class="code-line">Start Time:       Fri, <span class="token number">12</span> May <span class="token number">2023</span> <span class="token number">15</span>:17:01 +0900
</span><span class="code-line">Labels:           <span class="token assign-left variable">app</span><span class="token operator">=</span>sample-app
</span><span class="code-line">                  pod-template-hash<span class="token operator">=</span>7465f6db78
</span><span class="code-line">Annotations:      <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>
</span><span class="code-line">Status:           Running
</span><span class="code-line">IP:               <span class="token number">10.1</span>.0.115
</span><span class="code-line">IPs:
</span><span class="code-line">  IP:           <span class="token number">10.1</span>.0.115
</span><span class="code-line">Controlled By:  ReplicaSet/sample-deployment-7465f6db78
</span><span class="code-line">Containers:
</span><span class="code-line">  nginx-container:
</span><span class="code-line">    Container ID:   docker://d63d08630c198bc04e414e8742dd9a0ec78864c39c3138cda49daf6473959836
</span><span class="code-line">    Image:          nginx:1.12
</span><span class="code-line">    Image ID:       docker-pullable://nginx@sha256:72daaf46f11cc753c4eab981cbf869919bd1fee3d2170a2adeac12400f494728
</span><span class="code-line">    Port:           <span class="token number">80</span>/TCP
</span><span class="code-line">    Host Port:      <span class="token number">0</span>/TCP
</span><span class="code-line">    State:          Running
</span><span class="code-line">      Started:      Fri, <span class="token number">12</span> May <span class="token number">2023</span> <span class="token number">15</span>:17:02 +0900
</span><span class="code-line">    Ready:          True
</span><span class="code-line">    Restart Count:  <span class="token number">0</span>
</span><span class="code-line">    Environment:    <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>
</span><span class="code-line">    Mounts:
</span><span class="code-line">      /var/run/secrets/kubernetes.io/serviceaccount from kube-api-access-s6q95 <span class="token punctuation">(</span>ro<span class="token punctuation">)</span>
</span></code></pre></div><h3 id="kubectl-describe-node-node-name"><a href="#kubectl-describe-node-node-name" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>kubectl describe node [node-name]</h3><div class="relative"><pre><code class="language-bash code-highlight"><span class="code-line">$ kubectl describe node docker-desktop
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line">Name:               docker-desktop
</span><span class="code-line">Roles:              control-plane
</span><span class="code-line">Labels:             beta.kubernetes.io/arch<span class="token operator">=</span>amd64
</span><span class="code-line">                    beta.kubernetes.io/os<span class="token operator">=</span>linux
</span><span class="code-line">                    kubernetes.io/arch<span class="token operator">=</span>amd64
</span><span class="code-line">                    kubernetes.io/hostname<span class="token operator">=</span>docker-desktop
</span><span class="code-line">                    kubernetes.io/os<span class="token operator">=</span>linux
</span><span class="code-line">                    node-role.kubernetes.io/control-plane<span class="token operator">=</span>
</span><span class="code-line">                    node.kubernetes.io/exclude-from-external-load-balancers<span class="token operator">=</span>
</span><span class="code-line">Annotations:        kubeadm.alpha.kubernetes.io/cri-socket: unix:///var/run/cri-dockerd.sock
</span><span class="code-line">                    node.alpha.kubernetes.io/ttl: <span class="token number">0</span>
</span><span class="code-line">                    volumes.kubernetes.io/controller-managed-attach-detach: <span class="token boolean">true</span>
</span><span class="code-line">CreationTimestamp:  Tue, 09 May <span class="token number">2023</span> <span class="token number">15</span>:47:31 +0900
</span><span class="code-line">Taints:             <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>
</span><span class="code-line">Unschedulable:      <span class="token boolean">false</span>
</span><span class="code-line">Lease:
</span><span class="code-line">  HolderIdentity:  docker-desktop
</span><span class="code-line">  AcquireTime:     <span class="token operator">&lt;</span>unset<span class="token operator">&gt;</span>
</span><span class="code-line">  RenewTime:       Fri, <span class="token number">12</span> May <span class="token number">2023</span> <span class="token number">16</span>:03:12 +0900
</span><span class="code-line">Conditions:
</span><span class="code-line">  Type             Status  LastHeartbeatTime                 LastTransitionTime                Reason                       Message
</span><span class="code-line">  ----             ------  -----------------                 ------------------                ------                       -------
</span><span class="code-line">  MemoryPressure   False   Fri, <span class="token number">12</span> May <span class="token number">2023</span> <span class="token number">16</span>:02:45 +0900   Tue, 09 May <span class="token number">2023</span> <span class="token number">15</span>:47:29 +0900   KubeletHasSufficientMemory   kubelet has sufficient memory available
</span><span class="code-line">  DiskPressure     False   Fri, <span class="token number">12</span> May <span class="token number">2023</span> <span class="token number">16</span>:02:45 +0900   Tue, 09 May <span class="token number">2023</span> <span class="token number">15</span>:47:29 +0900   KubeletHasNoDiskPressure     kubelet has no disk pressure
</span><span class="code-line">  PIDPressure      False   Fri, <span class="token number">12</span> May <span class="token number">2023</span> <span class="token number">16</span>:02:45 +0900   Tue, 09 May <span class="token number">2023</span> <span class="token number">15</span>:47:29 +0900   KubeletHasSufficientPID      kubelet has sufficient PID available
</span><span class="code-line">  Ready            True    Fri, <span class="token number">12</span> May <span class="token number">2023</span> <span class="token number">16</span>:02:45 +0900   Tue, 09 May <span class="token number">2023</span> <span class="token number">15</span>:48:02 +0900   KubeletReady                 kubelet is posting ready status
</span><span class="code-line">Addresses:
</span><span class="code-line">  InternalIP:  <span class="token number">192.168</span>.65.4
</span></code></pre></div><h3 id="로드-밸런싱"><a href="#로드-밸런싱" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>로드 밸런싱</h3><p>위 구조를 통해 서비스는 deployment에 의해 생성된 여러개의 pod에 부하를 분산시킬 수 있다.</p><p>ClusterIP 타입 서비스는 클러스터 내부에서만 사용가능한 virtual ip를 가진 endpoint(서비스와 역할 같음)를 제공하는 로드밸런서를 생성한다. 그리고 Service.spec.selector 에 지정된 레이블과 매핑되는 파드에 트래픽을 로드밸런싱한다.</p><h4 id="또한-서비스는-여러-포트를-할당할-수-있다"><a href="#또한-서비스는-여러-포트를-할당할-수-있다" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>또한 서비스는 여러 포트를 할당할 수 있다.</h4><p>아래 설정은 8080 -&gt; 80 으로, 8443 -&gt; 443으로 라우팅한다.</p><div class="relative"><pre><code class="code-highlight language-yaml"><span class="code-line"><span class="token atrule key">apiVersion</span><span class="token punctuation">:</span> v1
</span><span class="code-line"><span class="token atrule key">kind</span><span class="token punctuation">:</span> Service
</span><span class="code-line"><span class="token atrule key">metadata</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">name</span><span class="token punctuation">:</span> sample<span class="token punctuation">-</span>clusterip<span class="token punctuation">-</span>multi
</span><span class="code-line"><span class="token atrule key">spec</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">type</span><span class="token punctuation">:</span> ClusterIP
</span><span class="code-line">  <span class="token atrule key">ports</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token punctuation">-</span> <span class="token atrule key">name</span><span class="token punctuation">:</span> <span class="token string">&#x27;http-port&#x27;</span>
</span><span class="code-line">      <span class="token atrule key">protocol</span><span class="token punctuation">:</span> <span class="token string">&#x27;TCP&#x27;</span>
</span><span class="code-line">      <span class="token atrule key">port</span><span class="token punctuation">:</span> <span class="token number">8080</span>
</span><span class="code-line">      <span class="token atrule key">targetPort</span><span class="token punctuation">:</span> <span class="token number">80</span>
</span><span class="code-line">    <span class="token punctuation">-</span> <span class="token atrule key">name</span><span class="token punctuation">:</span> <span class="token string">&#x27;https-port&#x27;</span>
</span><span class="code-line">      <span class="token atrule key">protocol</span><span class="token punctuation">:</span> <span class="token string">&#x27;TCP&#x27;</span>
</span><span class="code-line">      <span class="token atrule key">port</span><span class="token punctuation">:</span> <span class="token number">8443</span>
</span><span class="code-line">      <span class="token atrule key">targetPort</span><span class="token punctuation">:</span> <span class="token number">443</span>
</span><span class="code-line">  <span class="token atrule key">selector</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token atrule key">app</span><span class="token punctuation">:</span> sample<span class="token punctuation">-</span>app
</span></code></pre></div><h4 id="이름은-사용한-포트-참조"><a href="#이름은-사용한-포트-참조" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>이름은 사용한 포트 참조</h4><p>아래 설정은 8080으로 접근하면 이름으로 참조되어 selected 파드에 설정된 포트이름(80, 81 번호)으로 라우팅된다.</p><p><code>kubectl describe service</code> 로 확인하면 <code>EndPoints</code> 속성에 실제로 라우팅될 목록이 출력된다.</p><div class="relative"><pre><code class="code-highlight language-yaml"><span class="code-line"><span class="token atrule key">apiVersion</span><span class="token punctuation">:</span> v1
</span><span class="code-line"><span class="token atrule key">kind</span><span class="token punctuation">:</span> Service
</span><span class="code-line"><span class="token atrule key">metadata</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">name</span><span class="token punctuation">:</span> sample<span class="token punctuation">-</span>named<span class="token punctuation">-</span>port<span class="token punctuation">-</span>service
</span><span class="code-line"><span class="token atrule key">spec</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">type</span><span class="token punctuation">:</span> ClusterIP
</span><span class="code-line">  <span class="token atrule key">ports</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token punctuation">-</span> <span class="token atrule key">name</span><span class="token punctuation">:</span> <span class="token string">&#x27;http-port&#x27;</span>
</span><span class="code-line">      <span class="token atrule key">protocol</span><span class="token punctuation">:</span> <span class="token string">&#x27;TCP&#x27;</span>
</span><span class="code-line">      <span class="token atrule key">port</span><span class="token punctuation">:</span> <span class="token number">8080</span>
</span><span class="code-line">      <span class="token atrule key">targetPort</span><span class="token punctuation">:</span> http <span class="token comment"># 포트를 숫자로 지정하지 않고 이름으로 참조했다.</span>
</span><span class="code-line">  <span class="token atrule key">selector</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token atrule key">app</span><span class="token punctuation">:</span> sample<span class="token punctuation">-</span>app
</span><span class="code-line">
</span><span class="code-line"><span class="token punctuation">---</span>
</span><span class="code-line"><span class="token atrule key">apiVersion</span><span class="token punctuation">:</span> v1
</span><span class="code-line"><span class="token atrule key">kind</span><span class="token punctuation">:</span> Pod
</span><span class="code-line"><span class="token atrule key">metadata</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">name</span><span class="token punctuation">:</span> sample<span class="token punctuation">-</span>named<span class="token punctuation">-</span>port<span class="token punctuation">-</span>pod<span class="token punctuation">-</span><span class="token number">80</span>
</span><span class="code-line">  <span class="token atrule key">labels</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token atrule key">app</span><span class="token punctuation">:</span> sample<span class="token punctuation">-</span>app
</span><span class="code-line"><span class="token atrule key">spec</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">containers</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token punctuation">-</span> <span class="token atrule key">name</span><span class="token punctuation">:</span> nginx<span class="token punctuation">-</span>container
</span><span class="code-line">      <span class="token atrule key">image</span><span class="token punctuation">:</span> amsy810/echo<span class="token punctuation">-</span>nginx<span class="token punctuation">:</span>v2.0
</span><span class="code-line">      <span class="token atrule key">ports</span><span class="token punctuation">:</span>
</span><span class="code-line">        <span class="token punctuation">-</span> <span class="token atrule key">name</span><span class="token punctuation">:</span> http <span class="token comment"># 포트 이름 지정 http 이름을 80으로 매핑</span>
</span><span class="code-line">          <span class="token atrule key">containerPort</span><span class="token punctuation">:</span> <span class="token number">80</span>
</span><span class="code-line"><span class="token punctuation">---</span>
</span><span class="code-line"><span class="token atrule key">apiVersion</span><span class="token punctuation">:</span> v1
</span><span class="code-line"><span class="token atrule key">kind</span><span class="token punctuation">:</span> Pod
</span><span class="code-line"><span class="token atrule key">metadata</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">name</span><span class="token punctuation">:</span> sample<span class="token punctuation">-</span>named<span class="token punctuation">-</span>port<span class="token punctuation">-</span>pod<span class="token punctuation">-</span><span class="token number">81</span>
</span><span class="code-line">  <span class="token atrule key">labels</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token atrule key">app</span><span class="token punctuation">:</span> sample<span class="token punctuation">-</span>app
</span><span class="code-line"><span class="token atrule key">spec</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">containers</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token punctuation">-</span> <span class="token atrule key">name</span><span class="token punctuation">:</span> nginx<span class="token punctuation">-</span>container
</span><span class="code-line">      <span class="token atrule key">image</span><span class="token punctuation">:</span> amsy810/echo<span class="token punctuation">-</span>nginx<span class="token punctuation">:</span>v2.0
</span><span class="code-line">      <span class="token atrule key">env</span><span class="token punctuation">:</span>
</span><span class="code-line">        <span class="token punctuation">-</span> <span class="token atrule key">name</span><span class="token punctuation">:</span> NGINX_PORT
</span><span class="code-line">          <span class="token atrule key">value</span><span class="token punctuation">:</span> <span class="token string">&#x27;81&#x27;</span>
</span><span class="code-line">      <span class="token atrule key">ports</span><span class="token punctuation">:</span>
</span><span class="code-line">        <span class="token punctuation">-</span> <span class="token atrule key">name</span><span class="token punctuation">:</span> http <span class="token comment"># 포트 이름 지정 http 이름을 81로 매핑</span>
</span><span class="code-line">          <span class="token atrule key">containerPort</span><span class="token punctuation">:</span> <span class="token number">81</span>
</span></code></pre></div><h3 id="클러스터-내부-dns와-서비스-디스커버리"><a href="#클러스터-내부-dns와-서비스-디스커버리" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>클러스터 내부 DNS와 서비스 디스커버리</h3><p>k8s의 서비스 디스커버리 기능</p><ol><li>서비스에 속해 있는 파드 확인</li><li>서비스 이름을 통해 엔드포인트 정보(ip:port)를 확인하기</li></ol><p>SD 방법 세가지</p><ol><li>파드 내부에서 환경변수로 등록된 것을 이용한 디스커버리</li><li><code>DNS A</code> record를 통한 서비스 디스커버리</li><li><code>DNS SRV</code> record를 통한 서비스 디스커버리</li></ol><h4 id="파드-내부에서-환경변수로-등록된-것을-이용한-디스커버리"><a href="#파드-내부에서-환경변수로-등록된-것을-이용한-디스커버리" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>파드 내부에서 환경변수로 등록된 것을 이용한 디스커버리</h4><p>기본적으로 파드가 노드에서 실행될 때 kubelet은 각기 활성화된 서비스에 대해 일련의 환경 변수 집합을 추가한다.</p><div class="relative"><pre><code class="language-bash code-highlight"><span class="code-line">$ kubectl <span class="token builtin class-name">exec</span> -it sample-deployment-7465f6db78-6rpht -- <span class="token function">env</span> <span class="token operator">|</span> <span class="token function">grep</span> -i kubernetes
</span><span class="code-line">
</span><span class="code-line"><span class="token assign-left variable">KUBERNETES_SERVICE_PORT_HTTPS</span><span class="token operator">=</span><span class="token number">443</span>
</span><span class="code-line"><span class="token assign-left variable">KUBERNETES_PORT_443_TCP_PROTO</span><span class="token operator">=</span>tcp
</span><span class="code-line"><span class="token assign-left variable">KUBERNETES_PORT_443_TCP</span><span class="token operator">=</span>tcp://10.96.0.1:443
</span><span class="code-line"><span class="token assign-left variable">KUBERNETES_PORT_443_TCP_ADDR</span><span class="token operator">=</span><span class="token number">10.96</span>.0.1
</span><span class="code-line"><span class="token assign-left variable">KUBERNETES_PORT</span><span class="token operator">=</span>tcp://10.96.0.1:443
</span><span class="code-line"><span class="token assign-left variable">KUBERNETES_SERVICE_HOST</span><span class="token operator">=</span><span class="token number">10.96</span>.0.1
</span><span class="code-line"><span class="token assign-left variable">KUBERNETES_SERVICE_PORT</span><span class="token operator">=</span><span class="token number">443</span>
</span><span class="code-line"><span class="token assign-left variable">KUBERNETES_PORT_443_TCP_PORT</span><span class="token operator">=</span><span class="token number">443</span>
</span></code></pre></div><p>Pod.spec.enableServiceLink를 false로 하면 환경변수가 pod에 추가되지 않는다.</p><div class="relative"><pre><code class="code-highlight language-yaml"><span class="code-line"><span class="token atrule key">apiVersion</span><span class="token punctuation">:</span> apps/v1
</span><span class="code-line"><span class="token atrule key">kind</span><span class="token punctuation">:</span> Deployment
</span><span class="code-line"><span class="token atrule key">metadata</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">name</span><span class="token punctuation">:</span> sample<span class="token punctuation">-</span>deployment<span class="token punctuation">-</span>servicelinks
</span><span class="code-line"><span class="token atrule key">spec</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">replicas</span><span class="token punctuation">:</span> <span class="token number">3</span>
</span><span class="code-line">  <span class="token atrule key">selector</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token atrule key">matchLabels</span><span class="token punctuation">:</span>
</span><span class="code-line">      <span class="token atrule key">app</span><span class="token punctuation">:</span> sample<span class="token punctuation">-</span>app
</span><span class="code-line">  <span class="token atrule key">template</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token atrule key">metadata</span><span class="token punctuation">:</span>
</span><span class="code-line">      <span class="token atrule key">labels</span><span class="token punctuation">:</span>
</span><span class="code-line">        <span class="token atrule key">app</span><span class="token punctuation">:</span> sample<span class="token punctuation">-</span>app
</span><span class="code-line">    <span class="token atrule key">spec</span><span class="token punctuation">:</span>
</span><span class="code-line">      <span class="token atrule key">enableServiceLinks</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
</span><span class="code-line">      <span class="token atrule key">containers</span><span class="token punctuation">:</span>
</span><span class="code-line">        <span class="token punctuation">-</span> <span class="token atrule key">name</span><span class="token punctuation">:</span> nginx<span class="token punctuation">-</span>container
</span><span class="code-line">          <span class="token atrule key">image</span><span class="token punctuation">:</span> amsy810/echo<span class="token punctuation">-</span>nginx<span class="token punctuation">:</span>v2.0
</span></code></pre></div><h3 id="dns-zone-파일-참조"><a href="#dns-zone-파일-참조" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>DNS zone 파일 참조</h3><div class="relative"><pre><code class="language-bash code-highlight"><span class="code-line">
</span><span class="code-line">
</span><span class="code-line"><span class="token comment"># A레코드는 name을 ip로 반환한다.</span>
</span><span class="code-line"><span class="token comment"># 컬럼은 A record name, TTL, class, host 순서이다.</span>
</span><span class="code-line"><span class="token comment"># TTL은 DNS 주소의 캐싱이 얼마나 오래 유지될 것인지를 나타낸다.</span>
</span><span class="code-line">www.example.com. <span class="token number">3600</span> IN A <span class="token number">192.168</span>.1.1
</span><span class="code-line">
</span><span class="code-line"><span class="token comment"># SRV 레코드는 포트명과 프로토콜을 사용해 서비스 제공하는 포트번호를 포함한 엔드포인트를 resolve 한다.</span>
</span><span class="code-line"><span class="token comment"># 컬럼은 SRV record name, TTL, class, priority, weight, port, target host name 순서이다.</span>
</span><span class="code-line"><span class="token comment">#</span>
</span><span class="code-line"><span class="token comment"># SRV record name은 dot으로 구분하면 처음 2개는 언더바로 구분된 protocol과 transport layer를 나타낸다</span>
</span><span class="code-line"><span class="token comment"># 이 레코드는 udp를 통한 sip 통신을 의미한다.  (언더바를 붙이는 것은 RFC2782에 에서 만들어진 컨벤션이다.)</span>
</span><span class="code-line"><span class="token comment">#</span>
</span><span class="code-line"><span class="token comment">#</span>
</span><span class="code-line"><span class="token comment"># weight 는  같은 우선순위를 가진 여러개의 서비스에 부하를 분산하기 위해 사용된다. 높은 weight 값을 가지면 더 많은 트래픽을 수신한다.</span>
</span><span class="code-line"><span class="token comment">#</span>
</span><span class="code-line"><span class="token comment"># priority는 weight가 같은 경우 순서를 지정한다. 낮은 수일수록 우선순위가 높다.</span>
</span><span class="code-line"><span class="token comment">#</span>
</span><span class="code-line">_sip._udp.example.com. <span class="token number">3600</span> IN SRV <span class="token number">0</span> <span class="token number">5</span> <span class="token number">5060</span> sip.example.com.
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">#SRV 레코드는 아래와 같이 사용한다.</span>
</span><span class="code-line"><span class="token function">nslookup</span> -type<span class="token operator">=</span>SRV _sip._udp.example.com
</span></code></pre></div><h4 id="dns-a레코드를-사용한-서비스-디스커버리"><a href="#dns-a레코드를-사용한-서비스-디스커버리" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>DNS A레코드를 사용한 서비스 디스커버리</h4><p>클러스터 내부 DNS를 사용해 A 레코드를 통해 서비스 디스커버리한다</p><div class="relative"><pre><code class="language-bash code-highlight"><span class="code-line">location / <span class="token punctuation">{</span>
</span><span class="code-line">    proxy_pass http://10.3.251.192/ <span class="token comment"># 아이피로 지정하기</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">location / <span class="token punctuation">{</span>
</span><span class="code-line">    proxy_pass http://app-servers/ <span class="token comment"># 서비스 이름으로 지정하기(디스커버리 사용)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><h4 id="dns-srv-레코드를-사용한-서비스-디스커버리"><a href="#dns-srv-레코드를-사용한-서비스-디스커버리" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>DNS SRV 레코드를 사용한 서비스 디스커버리</h4><p>클러스터 내부 DNS를 사용해 SRV 레코드를 통해 서비스 디스커버리한다</p><p>쿠버네티스 내부 DNS에는 아래와 같은 형식으로 등록된다. <code>_서비스 포트명._프로토콜.서비스명.네임스페이스명.svc.cluster.local</code></p><div class="relative"><pre><code class="language-bash code-highlight"><span class="code-line"><span class="token comment"># 아래 명령어로 DNS resolve가 가능하다.</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token function">dig</span> _http-port._tcp.sampe-clusterip.default.svc.cluster.local SRV
</span><span class="code-line">
</span></code></pre></div></div></div><div id="comment"></div><footer><div class="flex flex-col text-sm font-medium sm:flex-row sm:justify-between sm:text-base"><div class="pt-4 xl:pt-8"><a class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/blog/k8s_rancher">← <!-- -->K8S rancher</a></div><div class="pt-4 xl:pt-8"><a class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/blog/Ingress-BareMetal_LoadBalancer_in_Windows-WSL-Kind-K8S">Hands-On Example: Ingress and Bare Metal Load Balancer in Windows-WSL-Kind-K8S<!-- --> →</a></div></div></footer></div></div></article></div></main><footer><div class="mt-16 flex flex-col items-center"><div class="mb-3 flex space-x-4"><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="mailto:demian11k@gmail.com"><span class="sr-only">mail</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="fill-current text-gray-700 hover:text-blue-500 dark:text-gray-200 dark:hover:text-blue-400 h-6 w-6"><path d="M2.003 5.884 10 9.882l7.997-3.998A2 2 0 0 0 16 4H4a2 2 0 0 0-1.997 1.884z"></path><path d="m18 8.118-8 4-8-4V14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8.118z"></path></svg></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://github.com/demian9k"><span class="sr-only">github</span><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="fill-current text-gray-700 hover:text-blue-500 dark:text-gray-200 dark:hover:text-blue-400 h-6 w-6"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></a></div><div class="mb-2 flex space-x-2 text-sm text-gray-500 dark:text-gray-400"><div>demian11k</div><div> • </div><div>© 2023</div><div> • </div><a href="/">demian11k studylog</a></div></div></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"mdxSource":"var Component=(()=\u003e{var d=Object.create;var l=Object.defineProperty;var o=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var m=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty;var i=a=\u003el(a,\"__esModule\",{value:!0});var N=(a,s)=\u003e()=\u003e(s||a((s={exports:{}}).exports,s),s.exports),u=(a,s)=\u003e{i(a);for(var c in s)l(a,c,{get:s[c],enumerable:!0})},k=(a,s,c)=\u003e{if(s\u0026\u0026typeof s==\"object\"||typeof s==\"function\")for(let n of p(s))!h.call(a,n)\u0026\u0026n!==\"default\"\u0026\u0026l(a,n,{get:()=\u003es[n],enumerable:!(c=o(s,n))||c.enumerable});return a},b=a=\u003ek(i(l(a!=null?d(m(a)):{},\"default\",a\u0026\u0026a.__esModule\u0026\u0026\"default\"in a?{get:()=\u003ea.default,enumerable:!0}:{value:a,enumerable:!0})),a);var t=N((P,r)=\u003e{r.exports=_jsx_runtime});var T={};u(T,{default:()=\u003ef,frontmatter:()=\u003ey});var e=b(t()),y={title:\"K8S network\",date:new Date(168386058e4),lastmod:\"2023-05-12\",tags:[\"kubernetes\"],draft:!1,summary:\"\",layout:\"PostSimple\"};function g(a={}){let{wrapper:s}=a.components||{};return s?(0,e.jsx)(s,Object.assign({},a,{children:(0,e.jsx)(c,{})})):c();function c(){let n=Object.assign({h2:\"h2\",a:\"a\",span:\"span\",h3:\"h3\",ul:\"ul\",li:\"li\",p:\"p\",pre:\"pre\",code:\"code\",h4:\"h4\",ol:\"ol\"},a.components);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(n.h2,{id:\"\\uAE30\\uBCF8-\\uAD6C\\uC870\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",href:\"#\\uAE30\\uBCF8-\\uAD6C\\uC870\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\uAE30\\uBCF8 \\uAD6C\\uC870\"]}),(0,e.jsxs)(n.h3,{id:\"\\uD30C\\uB4DC-\\uB124\\uD2B8\\uC6CC\\uD06C\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",href:\"#\\uD30C\\uB4DC-\\uB124\\uD2B8\\uC6CC\\uD06C\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\uD30C\\uB4DC \\uB124\\uD2B8\\uC6CC\\uD06C\"]}),(0,e.jsxs)(n.ul,{children:[(0,e.jsx)(n.li,{children:\"pod\\uB294 \\uC5EC\\uB7EC\\uAC1C\\uC758 \\uCEE8\\uD14C\\uC774\\uB108\\uB97C \\uAC00\\uC9C8 \\uC218 \\uC788\\uB2E4.\"}),(0,e.jsx)(n.li,{children:\"pod\\uB294 \\uB0B4\\uBD80 \\uB124\\uD2B8\\uC6CC\\uD06C\\uAC00 \\uC788\\uB2E4.\"}),(0,e.jsx)(n.li,{children:\"\\uD30C\\uB4DC\\uB294 \\uB0B4 \\uCEE8\\uD14C\\uC774\\uB108\\uB4E4\\uC740 \\uD30C\\uB4DC\\uC758 IP\\uB97C \\uACF5\\uC720\\uD558\\uBA70 \\uD3EC\\uD2B8\\uB85C \\uAD6C\\uBD84\\uB41C\\uB2E4.\"}),(0,e.jsx)(n.li,{children:\"\\uAC19\\uC740 pod\\uC758 \\uB2E4\\uB978 \\uCEE8\\uD14C\\uC774\\uB108\\uC640 \\uD1B5\\uC2E0\\uD558\\uB824\\uBA74 localhost\\uB85C \\uD1B5\\uC2E0\\uD558\\uB294 \\uAC83\\uC774 \\uAC00\\uB2A5\\uD558\\uB2E4.\"}),(0,e.jsx)(n.li,{children:\"\\uB2E4\\uB978 pod\\uC758 \\uCEE8\\uD14C\\uC774\\uB108\\uC640 \\uD1B5\\uC2E0\\uD558\\uB824\\uBA74 \\uADF8 pod\\uC758 ip\\uC8FC\\uC18C\\uB85C \\uD1B5\\uC2E0\\uD574\\uC57C \\uD55C\\uB2E4.\"})]}),(0,e.jsxs)(n.h3,{id:\"\\uB178\\uB4DC-\\uB124\\uD2B8\\uC6CC\\uD06C\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",href:\"#\\uB178\\uB4DC-\\uB124\\uD2B8\\uC6CC\\uD06C\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\uB178\\uB4DC \\uB124\\uD2B8\\uC6CC\\uD06C\"]}),(0,e.jsxs)(n.ul,{children:[(0,e.jsx)(n.li,{children:(0,e.jsx)(n.p,{children:\"\\uD30C\\uB4DC \\uC678\\uBD80\\uC5D0\\uB294 \\uB178\\uB4DC \\uB124\\uD2B8\\uC6CC\\uD06C\\uAC00 \\uC788\\uB2E4.\"})}),(0,e.jsx)(n.li,{children:(0,e.jsx)(n.p,{children:\"\\uB0B4\\uBD80 \\uB124\\uD2B8\\uC6CC\\uD06C \\uAD6C\\uC131\\uC740 CNI \\uAD6C\\uD604\\uC5D0 \\uB530\\uB77C \\uB2EC\\uB77C\\uC9C0\\uC9C0\\uB9CC \\uAE30\\uBCF8\\uC801\\uC73C\\uB85C \\uB178\\uB4DC\\uBCC4\\uB85C \\uB2E4\\uB978 \\uB124\\uD2B8\\uC6CC\\uD06C \\uC138\\uADF8\\uBA3C\\uD2B8\\uB97C \\uAD6C\\uC131\\uD558\\uACE0 \\uB178\\uD2B8\\uAC04 \\uD2B8\\uB798\\uD53D\\uC740 VXLAN\\uC774\\uB098 L2 Routing\\uC73C\\uB85C \\uC804\\uC1A1\\uD558\\uC5EC \\uD1B5\\uC2E0\\uD55C\\uB2E4.\"})}),(0,e.jsx)(n.li,{children:(0,e.jsx)(n.p,{children:\"\\uB178\\uB4DC \\uBCC4 \\uB124\\uD2B8\\uC6CC\\uD06C \\uC138\\uADF8\\uBA3C\\uD2B8\\uB294 \\uD074\\uB7EC\\uC2A4\\uD130 \\uC804\\uCCB4\\uC5D0 \\uD560\\uB2F9\\uB41C \\uC138\\uADF8\\uBA3C\\uD2B8\\uB97C \\uBD84\\uD560\\uD55C \\uAC83\\uC774\\uB2E4.\"})}),(0,e.jsx)(n.li,{children:(0,e.jsx)(n.p,{children:\"\\uD074\\uB7EC\\uC2A4\\uD130\\uC5D0\\uC11C \\uC790\\uB3D9\\uD560\\uB2F9\\uB41C\\uB2E4.\"})})]}),(0,e.jsx)(n.p,{children:\"describe \\uD558\\uBA74 pod\\uC640 \\uB178\\uB4DC\\uC758 ip \\uB300\\uC5ED\\uC744 \\uBCFC \\uC218 \\uC788\\uB2E4.\"}),(0,e.jsxs)(n.h3,{id:\"kubectl-describe-pod-pod-name\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",href:\"#kubectl-describe-pod-pod-name\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"kubectl describe pod [pod-name]\"]}),(0,e.jsx)(n.pre,{className:\"language-bash\",children:(0,e.jsxs)(n.code,{className:\"language-bash code-highlight\",children:[(0,e.jsx)(n.span,{className:\"code-line\",children:`$ kubectl describe pod sample-deployment-7465f6db78-6rpht\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`Name:             sample-deployment-7465f6db78-6rpht\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`Namespace:        default\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"Priority:         \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`Service Account:  default\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`Node:             docker-desktop/192.168.65.4\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"Start Time:       Fri, \",(0,e.jsx)(n.span,{className:\"token number\",children:\"12\"}),\" May \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2023\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"15\"}),`:17:01 +0900\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"Labels:           \",(0,e.jsx)(n.span,{className:\"token assign-left variable\",children:\"app\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),`sample-app\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                  pod-template-hash\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),`7465f6db78\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"Annotations:      \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"none\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`Status:           Running\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"IP:               \",(0,e.jsx)(n.span,{className:\"token number\",children:\"10.1\"}),`.0.115\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`IPs:\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  IP:           \",(0,e.jsx)(n.span,{className:\"token number\",children:\"10.1\"}),`.0.115\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`Controlled By:  ReplicaSet/sample-deployment-7465f6db78\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`Containers:\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`  nginx-container:\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`    Container ID:   docker://d63d08630c198bc04e414e8742dd9a0ec78864c39c3138cda49daf6473959836\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`    Image:          nginx:1.12\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`    Image ID:       docker-pullable://nginx@sha256:72daaf46f11cc753c4eab981cbf869919bd1fee3d2170a2adeac12400f494728\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    Port:           \",(0,e.jsx)(n.span,{className:\"token number\",children:\"80\"}),`/TCP\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    Host Port:      \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),`/TCP\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`    State:          Running\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      Started:      Fri, \",(0,e.jsx)(n.span,{className:\"token number\",children:\"12\"}),\" May \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2023\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"15\"}),`:17:02 +0900\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`    Ready:          True\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    Restart Count:  \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    Environment:    \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"none\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`    Mounts:\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      /var/run/secrets/kubernetes.io/serviceaccount from kube-api-access-s6q95 \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"ro\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,e.jsxs)(n.h3,{id:\"kubectl-describe-node-node-name\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",href:\"#kubectl-describe-node-node-name\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"kubectl describe node [node-name]\"]}),(0,e.jsx)(n.pre,{className:\"language-bash\",children:(0,e.jsxs)(n.code,{className:\"language-bash code-highlight\",children:[(0,e.jsx)(n.span,{className:\"code-line\",children:`$ kubectl describe node docker-desktop\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`Name:               docker-desktop\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`Roles:              control-plane\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"Labels:             beta.kubernetes.io/arch\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),`amd64\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                    beta.kubernetes.io/os\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),`linux\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                    kubernetes.io/arch\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),`amd64\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                    kubernetes.io/hostname\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),`docker-desktop\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                    kubernetes.io/os\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),`linux\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                    node-role.kubernetes.io/control-plane\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                    node.kubernetes.io/exclude-from-external-load-balancers\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`Annotations:        kubeadm.alpha.kubernetes.io/cri-socket: unix:///var/run/cri-dockerd.sock\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                    node.alpha.kubernetes.io/ttl: \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                    volumes.kubernetes.io/controller-managed-attach-detach: \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"true\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"CreationTimestamp:  Tue, 09 May \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2023\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"15\"}),`:47:31 +0900\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"Taints:             \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"none\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"Unschedulable:      \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"false\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`Lease:\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`  HolderIdentity:  docker-desktop\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  AcquireTime:     \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"unset\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  RenewTime:       Fri, \",(0,e.jsx)(n.span,{className:\"token number\",children:\"12\"}),\" May \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2023\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"16\"}),`:03:12 +0900\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`Conditions:\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`  Type             Status  LastHeartbeatTime                 LastTransitionTime                Reason                       Message\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`  ----             ------  -----------------                 ------------------                ------                       -------\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  MemoryPressure   False   Fri, \",(0,e.jsx)(n.span,{className:\"token number\",children:\"12\"}),\" May \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2023\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"16\"}),\":02:45 +0900   Tue, 09 May \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2023\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"15\"}),`:47:29 +0900   KubeletHasSufficientMemory   kubelet has sufficient memory available\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  DiskPressure     False   Fri, \",(0,e.jsx)(n.span,{className:\"token number\",children:\"12\"}),\" May \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2023\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"16\"}),\":02:45 +0900   Tue, 09 May \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2023\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"15\"}),`:47:29 +0900   KubeletHasNoDiskPressure     kubelet has no disk pressure\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  PIDPressure      False   Fri, \",(0,e.jsx)(n.span,{className:\"token number\",children:\"12\"}),\" May \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2023\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"16\"}),\":02:45 +0900   Tue, 09 May \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2023\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"15\"}),`:47:29 +0900   KubeletHasSufficientPID      kubelet has sufficient PID available\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  Ready            True    Fri, \",(0,e.jsx)(n.span,{className:\"token number\",children:\"12\"}),\" May \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2023\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"16\"}),\":02:45 +0900   Tue, 09 May \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2023\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"15\"}),`:48:02 +0900   KubeletReady                 kubelet is posting ready status\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`Addresses:\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  InternalIP:  \",(0,e.jsx)(n.span,{className:\"token number\",children:\"192.168\"}),`.65.4\n`]})]})}),(0,e.jsxs)(n.h3,{id:\"\\uB85C\\uB4DC-\\uBC38\\uB7F0\\uC2F1\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",href:\"#\\uB85C\\uB4DC-\\uBC38\\uB7F0\\uC2F1\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\uB85C\\uB4DC \\uBC38\\uB7F0\\uC2F1\"]}),(0,e.jsx)(n.p,{children:\"\\uC704 \\uAD6C\\uC870\\uB97C \\uD1B5\\uD574 \\uC11C\\uBE44\\uC2A4\\uB294 deployment\\uC5D0 \\uC758\\uD574 \\uC0DD\\uC131\\uB41C \\uC5EC\\uB7EC\\uAC1C\\uC758 pod\\uC5D0 \\uBD80\\uD558\\uB97C \\uBD84\\uC0B0\\uC2DC\\uD0AC \\uC218 \\uC788\\uB2E4.\"}),(0,e.jsx)(n.p,{children:\"ClusterIP \\uD0C0\\uC785 \\uC11C\\uBE44\\uC2A4\\uB294 \\uD074\\uB7EC\\uC2A4\\uD130 \\uB0B4\\uBD80\\uC5D0\\uC11C\\uB9CC \\uC0AC\\uC6A9\\uAC00\\uB2A5\\uD55C virtual ip\\uB97C \\uAC00\\uC9C4 endpoint(\\uC11C\\uBE44\\uC2A4\\uC640 \\uC5ED\\uD560 \\uAC19\\uC74C)\\uB97C \\uC81C\\uACF5\\uD558\\uB294 \\uB85C\\uB4DC\\uBC38\\uB7F0\\uC11C\\uB97C \\uC0DD\\uC131\\uD55C\\uB2E4. \\uADF8\\uB9AC\\uACE0 Service.spec.selector \\uC5D0 \\uC9C0\\uC815\\uB41C \\uB808\\uC774\\uBE14\\uACFC \\uB9E4\\uD551\\uB418\\uB294 \\uD30C\\uB4DC\\uC5D0 \\uD2B8\\uB798\\uD53D\\uC744 \\uB85C\\uB4DC\\uBC38\\uB7F0\\uC2F1\\uD55C\\uB2E4.\"}),(0,e.jsxs)(n.h4,{id:\"\\uB610\\uD55C-\\uC11C\\uBE44\\uC2A4\\uB294-\\uC5EC\\uB7EC-\\uD3EC\\uD2B8\\uB97C-\\uD560\\uB2F9\\uD560-\\uC218-\\uC788\\uB2E4\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",href:\"#\\uB610\\uD55C-\\uC11C\\uBE44\\uC2A4\\uB294-\\uC5EC\\uB7EC-\\uD3EC\\uD2B8\\uB97C-\\uD560\\uB2F9\\uD560-\\uC218-\\uC788\\uB2E4\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\uB610\\uD55C \\uC11C\\uBE44\\uC2A4\\uB294 \\uC5EC\\uB7EC \\uD3EC\\uD2B8\\uB97C \\uD560\\uB2F9\\uD560 \\uC218 \\uC788\\uB2E4.\"]}),(0,e.jsx)(n.p,{children:\"\\uC544\\uB798 \\uC124\\uC815\\uC740 8080 -\u003e 80 \\uC73C\\uB85C, 8443 -\u003e 443\\uC73C\\uB85C \\uB77C\\uC6B0\\uD305\\uD55C\\uB2E4.\"}),(0,e.jsx)(n.pre,{className:\"language-yaml\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-yaml\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"apiVersion\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` v1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"kind\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` Service\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"metadata\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" sample\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"clusterip\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`multi\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"spec\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"type\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` ClusterIP\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"ports\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'http-port'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"protocol\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'TCP'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"port\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"8080\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"targetPort\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"80\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'https-port'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"protocol\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'TCP'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"port\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"8443\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"targetPort\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"443\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"selector\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"app\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" sample\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`app\n`]})]})}),(0,e.jsxs)(n.h4,{id:\"\\uC774\\uB984\\uC740-\\uC0AC\\uC6A9\\uD55C-\\uD3EC\\uD2B8-\\uCC38\\uC870\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",href:\"#\\uC774\\uB984\\uC740-\\uC0AC\\uC6A9\\uD55C-\\uD3EC\\uD2B8-\\uCC38\\uC870\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\uC774\\uB984\\uC740 \\uC0AC\\uC6A9\\uD55C \\uD3EC\\uD2B8 \\uCC38\\uC870\"]}),(0,e.jsx)(n.p,{children:\"\\uC544\\uB798 \\uC124\\uC815\\uC740 8080\\uC73C\\uB85C \\uC811\\uADFC\\uD558\\uBA74 \\uC774\\uB984\\uC73C\\uB85C \\uCC38\\uC870\\uB418\\uC5B4 selected \\uD30C\\uB4DC\\uC5D0 \\uC124\\uC815\\uB41C \\uD3EC\\uD2B8\\uC774\\uB984(80, 81 \\uBC88\\uD638)\\uC73C\\uB85C \\uB77C\\uC6B0\\uD305\\uB41C\\uB2E4.\"}),(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.code,{children:\"kubectl describe service\"}),\" \\uB85C \\uD655\\uC778\\uD558\\uBA74 \",(0,e.jsx)(n.code,{children:\"EndPoints\"}),\" \\uC18D\\uC131\\uC5D0 \\uC2E4\\uC81C\\uB85C \\uB77C\\uC6B0\\uD305\\uB420 \\uBAA9\\uB85D\\uC774 \\uCD9C\\uB825\\uB41C\\uB2E4.\"]}),(0,e.jsx)(n.pre,{className:\"language-yaml\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-yaml\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"apiVersion\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` v1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"kind\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` Service\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"metadata\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" sample\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"named\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"port\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`service\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"spec\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"type\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` ClusterIP\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"ports\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'http-port'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"protocol\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'TCP'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"port\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"8080\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"targetPort\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" http \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# \\uD3EC\\uD2B8\\uB97C \\uC22B\\uC790\\uB85C \\uC9C0\\uC815\\uD558\\uC9C0 \\uC54A\\uACE0 \\uC774\\uB984\\uC73C\\uB85C \\uCC38\\uC870\\uD588\\uB2E4.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"selector\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"app\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" sample\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`app\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"---\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"apiVersion\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` v1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"kind\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` Pod\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"metadata\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" sample\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"named\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"port\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"pod\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"80\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"labels\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"app\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" sample\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`app\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"spec\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"containers\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" nginx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`container\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"image\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" amsy810/echo\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"nginx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`v2.0\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"ports\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" http \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# \\uD3EC\\uD2B8 \\uC774\\uB984 \\uC9C0\\uC815 http \\uC774\\uB984\\uC744 80\\uC73C\\uB85C \\uB9E4\\uD551\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"containerPort\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"80\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"---\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"apiVersion\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` v1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"kind\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` Pod\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"metadata\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" sample\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"named\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"port\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"pod\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"81\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"labels\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"app\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" sample\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`app\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"spec\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"containers\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" nginx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`container\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"image\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" amsy810/echo\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"nginx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`v2.0\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"env\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` NGINX_PORT\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"value\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'81'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"ports\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" http \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# \\uD3EC\\uD2B8 \\uC774\\uB984 \\uC9C0\\uC815 http \\uC774\\uB984\\uC744 81\\uB85C \\uB9E4\\uD551\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"containerPort\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"81\"}),`\n`]})]})}),(0,e.jsxs)(n.h3,{id:\"\\uD074\\uB7EC\\uC2A4\\uD130-\\uB0B4\\uBD80-dns\\uC640-\\uC11C\\uBE44\\uC2A4-\\uB514\\uC2A4\\uCEE4\\uBC84\\uB9AC\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",href:\"#\\uD074\\uB7EC\\uC2A4\\uD130-\\uB0B4\\uBD80-dns\\uC640-\\uC11C\\uBE44\\uC2A4-\\uB514\\uC2A4\\uCEE4\\uBC84\\uB9AC\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\uD074\\uB7EC\\uC2A4\\uD130 \\uB0B4\\uBD80 DNS\\uC640 \\uC11C\\uBE44\\uC2A4 \\uB514\\uC2A4\\uCEE4\\uBC84\\uB9AC\"]}),(0,e.jsx)(n.p,{children:\"k8s\\uC758 \\uC11C\\uBE44\\uC2A4 \\uB514\\uC2A4\\uCEE4\\uBC84\\uB9AC \\uAE30\\uB2A5\"}),(0,e.jsxs)(n.ol,{children:[(0,e.jsx)(n.li,{children:\"\\uC11C\\uBE44\\uC2A4\\uC5D0 \\uC18D\\uD574 \\uC788\\uB294 \\uD30C\\uB4DC \\uD655\\uC778\"}),(0,e.jsx)(n.li,{children:\"\\uC11C\\uBE44\\uC2A4 \\uC774\\uB984\\uC744 \\uD1B5\\uD574 \\uC5D4\\uB4DC\\uD3EC\\uC778\\uD2B8 \\uC815\\uBCF4(ip:port)\\uB97C \\uD655\\uC778\\uD558\\uAE30\"})]}),(0,e.jsx)(n.p,{children:\"SD \\uBC29\\uBC95 \\uC138\\uAC00\\uC9C0\"}),(0,e.jsxs)(n.ol,{children:[(0,e.jsx)(n.li,{children:\"\\uD30C\\uB4DC \\uB0B4\\uBD80\\uC5D0\\uC11C \\uD658\\uACBD\\uBCC0\\uC218\\uB85C \\uB4F1\\uB85D\\uB41C \\uAC83\\uC744 \\uC774\\uC6A9\\uD55C \\uB514\\uC2A4\\uCEE4\\uBC84\\uB9AC\"}),(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"DNS A\"}),\" record\\uB97C \\uD1B5\\uD55C \\uC11C\\uBE44\\uC2A4 \\uB514\\uC2A4\\uCEE4\\uBC84\\uB9AC\"]}),(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"DNS SRV\"}),\" record\\uB97C \\uD1B5\\uD55C \\uC11C\\uBE44\\uC2A4 \\uB514\\uC2A4\\uCEE4\\uBC84\\uB9AC\"]})]}),(0,e.jsxs)(n.h4,{id:\"\\uD30C\\uB4DC-\\uB0B4\\uBD80\\uC5D0\\uC11C-\\uD658\\uACBD\\uBCC0\\uC218\\uB85C-\\uB4F1\\uB85D\\uB41C-\\uAC83\\uC744-\\uC774\\uC6A9\\uD55C-\\uB514\\uC2A4\\uCEE4\\uBC84\\uB9AC\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",href:\"#\\uD30C\\uB4DC-\\uB0B4\\uBD80\\uC5D0\\uC11C-\\uD658\\uACBD\\uBCC0\\uC218\\uB85C-\\uB4F1\\uB85D\\uB41C-\\uAC83\\uC744-\\uC774\\uC6A9\\uD55C-\\uB514\\uC2A4\\uCEE4\\uBC84\\uB9AC\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\uD30C\\uB4DC \\uB0B4\\uBD80\\uC5D0\\uC11C \\uD658\\uACBD\\uBCC0\\uC218\\uB85C \\uB4F1\\uB85D\\uB41C \\uAC83\\uC744 \\uC774\\uC6A9\\uD55C \\uB514\\uC2A4\\uCEE4\\uBC84\\uB9AC\"]}),(0,e.jsx)(n.p,{children:\"\\uAE30\\uBCF8\\uC801\\uC73C\\uB85C \\uD30C\\uB4DC\\uAC00 \\uB178\\uB4DC\\uC5D0\\uC11C \\uC2E4\\uD589\\uB420 \\uB54C kubelet\\uC740 \\uAC01\\uAE30 \\uD65C\\uC131\\uD654\\uB41C \\uC11C\\uBE44\\uC2A4\\uC5D0 \\uB300\\uD574 \\uC77C\\uB828\\uC758 \\uD658\\uACBD \\uBCC0\\uC218 \\uC9D1\\uD569\\uC744 \\uCD94\\uAC00\\uD55C\\uB2E4.\"}),(0,e.jsx)(n.pre,{className:\"language-bash\",children:(0,e.jsxs)(n.code,{className:\"language-bash code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"$ kubectl \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\"exec\"}),\" -it sample-deployment-7465f6db78-6rpht -- \",(0,e.jsx)(n.span,{className:\"token function\",children:\"env\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"|\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"grep\"}),` -i kubernetes\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token assign-left variable\",children:\"KUBERNETES_SERVICE_PORT_HTTPS\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"443\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token assign-left variable\",children:\"KUBERNETES_PORT_443_TCP_PROTO\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),`tcp\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token assign-left variable\",children:\"KUBERNETES_PORT_443_TCP\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),`tcp://10.96.0.1:443\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token assign-left variable\",children:\"KUBERNETES_PORT_443_TCP_ADDR\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"10.96\"}),`.0.1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token assign-left variable\",children:\"KUBERNETES_PORT\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),`tcp://10.96.0.1:443\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token assign-left variable\",children:\"KUBERNETES_SERVICE_HOST\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"10.96\"}),`.0.1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token assign-left variable\",children:\"KUBERNETES_SERVICE_PORT\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"443\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token assign-left variable\",children:\"KUBERNETES_PORT_443_TCP_PORT\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"443\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"Pod.spec.enableServiceLink\\uB97C false\\uB85C \\uD558\\uBA74 \\uD658\\uACBD\\uBCC0\\uC218\\uAC00 pod\\uC5D0 \\uCD94\\uAC00\\uB418\\uC9C0 \\uC54A\\uB294\\uB2E4.\"}),(0,e.jsx)(n.pre,{className:\"language-yaml\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-yaml\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"apiVersion\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` apps/v1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"kind\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` Deployment\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"metadata\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" sample\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"deployment\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`servicelinks\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"spec\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"replicas\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"3\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"selector\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"matchLabels\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"app\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" sample\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`app\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"template\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"metadata\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"labels\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"app\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" sample\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`app\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"spec\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"enableServiceLinks\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean important\",children:\"false\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"containers\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" nginx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`container\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"image\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" amsy810/echo\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"nginx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`v2.0\n`]})]})}),(0,e.jsxs)(n.h3,{id:\"dns-zone-\\uD30C\\uC77C-\\uCC38\\uC870\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",href:\"#dns-zone-\\uD30C\\uC77C-\\uCC38\\uC870\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"DNS zone \\uD30C\\uC77C \\uCC38\\uC870\"]}),(0,e.jsx)(n.pre,{className:\"language-bash\",children:(0,e.jsxs)(n.code,{className:\"language-bash code-highlight\",children:[(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# A\\uB808\\uCF54\\uB4DC\\uB294 name\\uC744 ip\\uB85C \\uBC18\\uD658\\uD55C\\uB2E4.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# \\uCEEC\\uB7FC\\uC740 A record name, TTL, class, host \\uC21C\\uC11C\\uC774\\uB2E4.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# TTL\\uC740 DNS \\uC8FC\\uC18C\\uC758 \\uCE90\\uC2F1\\uC774 \\uC5BC\\uB9C8\\uB098 \\uC624\\uB798 \\uC720\\uC9C0\\uB420 \\uAC83\\uC778\\uC9C0\\uB97C \\uB098\\uD0C0\\uB0B8\\uB2E4.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"www.example.com. \",(0,e.jsx)(n.span,{className:\"token number\",children:\"3600\"}),\" IN A \",(0,e.jsx)(n.span,{className:\"token number\",children:\"192.168\"}),`.1.1\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# SRV \\uB808\\uCF54\\uB4DC\\uB294 \\uD3EC\\uD2B8\\uBA85\\uACFC \\uD504\\uB85C\\uD1A0\\uCF5C\\uC744 \\uC0AC\\uC6A9\\uD574 \\uC11C\\uBE44\\uC2A4 \\uC81C\\uACF5\\uD558\\uB294 \\uD3EC\\uD2B8\\uBC88\\uD638\\uB97C \\uD3EC\\uD568\\uD55C \\uC5D4\\uB4DC\\uD3EC\\uC778\\uD2B8\\uB97C resolve \\uD55C\\uB2E4.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# \\uCEEC\\uB7FC\\uC740 SRV record name, TTL, class, priority, weight, port, target host name \\uC21C\\uC11C\\uC774\\uB2E4.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"#\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# SRV record name\\uC740 dot\\uC73C\\uB85C \\uAD6C\\uBD84\\uD558\\uBA74 \\uCC98\\uC74C 2\\uAC1C\\uB294 \\uC5B8\\uB354\\uBC14\\uB85C \\uAD6C\\uBD84\\uB41C protocol\\uACFC transport layer\\uB97C \\uB098\\uD0C0\\uB0B8\\uB2E4\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# \\uC774 \\uB808\\uCF54\\uB4DC\\uB294 udp\\uB97C \\uD1B5\\uD55C sip \\uD1B5\\uC2E0\\uC744 \\uC758\\uBBF8\\uD55C\\uB2E4.  (\\uC5B8\\uB354\\uBC14\\uB97C \\uBD99\\uC774\\uB294 \\uAC83\\uC740 RFC2782\\uC5D0 \\uC5D0\\uC11C \\uB9CC\\uB4E4\\uC5B4\\uC9C4 \\uCEE8\\uBCA4\\uC158\\uC774\\uB2E4.)\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"#\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"#\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# weight \\uB294  \\uAC19\\uC740 \\uC6B0\\uC120\\uC21C\\uC704\\uB97C \\uAC00\\uC9C4 \\uC5EC\\uB7EC\\uAC1C\\uC758 \\uC11C\\uBE44\\uC2A4\\uC5D0 \\uBD80\\uD558\\uB97C \\uBD84\\uC0B0\\uD558\\uAE30 \\uC704\\uD574 \\uC0AC\\uC6A9\\uB41C\\uB2E4. \\uB192\\uC740 weight \\uAC12\\uC744 \\uAC00\\uC9C0\\uBA74 \\uB354 \\uB9CE\\uC740 \\uD2B8\\uB798\\uD53D\\uC744 \\uC218\\uC2E0\\uD55C\\uB2E4.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"#\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# priority\\uB294 weight\\uAC00 \\uAC19\\uC740 \\uACBD\\uC6B0 \\uC21C\\uC11C\\uB97C \\uC9C0\\uC815\\uD55C\\uB2E4. \\uB0AE\\uC740 \\uC218\\uC77C\\uC218\\uB85D \\uC6B0\\uC120\\uC21C\\uC704\\uAC00 \\uB192\\uB2E4.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"#\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"_sip._udp.example.com. \",(0,e.jsx)(n.span,{className:\"token number\",children:\"3600\"}),\" IN SRV \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"5\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"5060\"}),` sip.example.com.\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"#SRV \\uB808\\uCF54\\uB4DC\\uB294 \\uC544\\uB798\\uC640 \\uAC19\\uC774 \\uC0AC\\uC6A9\\uD55C\\uB2E4.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"nslookup\"}),\" -type\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),`SRV _sip._udp.example.com\n`]})]})}),(0,e.jsxs)(n.h4,{id:\"dns-a\\uB808\\uCF54\\uB4DC\\uB97C-\\uC0AC\\uC6A9\\uD55C-\\uC11C\\uBE44\\uC2A4-\\uB514\\uC2A4\\uCEE4\\uBC84\\uB9AC\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",href:\"#dns-a\\uB808\\uCF54\\uB4DC\\uB97C-\\uC0AC\\uC6A9\\uD55C-\\uC11C\\uBE44\\uC2A4-\\uB514\\uC2A4\\uCEE4\\uBC84\\uB9AC\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"DNS A\\uB808\\uCF54\\uB4DC\\uB97C \\uC0AC\\uC6A9\\uD55C \\uC11C\\uBE44\\uC2A4 \\uB514\\uC2A4\\uCEE4\\uBC84\\uB9AC\"]}),(0,e.jsx)(n.p,{children:\"\\uD074\\uB7EC\\uC2A4\\uD130 \\uB0B4\\uBD80 DNS\\uB97C \\uC0AC\\uC6A9\\uD574 A \\uB808\\uCF54\\uB4DC\\uB97C \\uD1B5\\uD574 \\uC11C\\uBE44\\uC2A4 \\uB514\\uC2A4\\uCEE4\\uBC84\\uB9AC\\uD55C\\uB2E4\"}),(0,e.jsx)(n.pre,{className:\"language-bash\",children:(0,e.jsxs)(n.code,{className:\"language-bash code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"location / \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    proxy_pass http://10.3.251.192/ \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# \\uC544\\uC774\\uD53C\\uB85C \\uC9C0\\uC815\\uD558\\uAE30\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"location / \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    proxy_pass http://app-servers/ \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# \\uC11C\\uBE44\\uC2A4 \\uC774\\uB984\\uC73C\\uB85C \\uC9C0\\uC815\\uD558\\uAE30(\\uB514\\uC2A4\\uCEE4\\uBC84\\uB9AC \\uC0AC\\uC6A9)\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsxs)(n.h4,{id:\"dns-srv-\\uB808\\uCF54\\uB4DC\\uB97C-\\uC0AC\\uC6A9\\uD55C-\\uC11C\\uBE44\\uC2A4-\\uB514\\uC2A4\\uCEE4\\uBC84\\uB9AC\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",href:\"#dns-srv-\\uB808\\uCF54\\uB4DC\\uB97C-\\uC0AC\\uC6A9\\uD55C-\\uC11C\\uBE44\\uC2A4-\\uB514\\uC2A4\\uCEE4\\uBC84\\uB9AC\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"DNS SRV \\uB808\\uCF54\\uB4DC\\uB97C \\uC0AC\\uC6A9\\uD55C \\uC11C\\uBE44\\uC2A4 \\uB514\\uC2A4\\uCEE4\\uBC84\\uB9AC\"]}),(0,e.jsx)(n.p,{children:\"\\uD074\\uB7EC\\uC2A4\\uD130 \\uB0B4\\uBD80 DNS\\uB97C \\uC0AC\\uC6A9\\uD574 SRV \\uB808\\uCF54\\uB4DC\\uB97C \\uD1B5\\uD574 \\uC11C\\uBE44\\uC2A4 \\uB514\\uC2A4\\uCEE4\\uBC84\\uB9AC\\uD55C\\uB2E4\"}),(0,e.jsxs)(n.p,{children:[\"\\uCFE0\\uBC84\\uB124\\uD2F0\\uC2A4 \\uB0B4\\uBD80 DNS\\uC5D0\\uB294 \\uC544\\uB798\\uC640 \\uAC19\\uC740 \\uD615\\uC2DD\\uC73C\\uB85C \\uB4F1\\uB85D\\uB41C\\uB2E4. \",(0,e.jsx)(n.code,{children:\"_\\uC11C\\uBE44\\uC2A4 \\uD3EC\\uD2B8\\uBA85._\\uD504\\uB85C\\uD1A0\\uCF5C.\\uC11C\\uBE44\\uC2A4\\uBA85.\\uB124\\uC784\\uC2A4\\uD398\\uC774\\uC2A4\\uBA85.svc.cluster.local\"})]}),(0,e.jsx)(n.pre,{className:\"language-bash\",children:(0,e.jsxs)(n.code,{className:\"language-bash code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# \\uC544\\uB798 \\uBA85\\uB839\\uC5B4\\uB85C DNS resolve\\uAC00 \\uAC00\\uB2A5\\uD558\\uB2E4.\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"dig\"}),` _http-port._tcp.sampe-clusterip.default.svc.cluster.local SRV\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`})]})})]})}}var f=g;return T;})();\n;return Component;","toc":[{"value":"기본 구조","url":"#기본-구조","depth":2},{"value":"파드 네트워크","url":"#파드-네트워크","depth":3},{"value":"노드 네트워크","url":"#노드-네트워크","depth":3},{"value":"kubectl describe pod [pod-name]","url":"#kubectl-describe-pod-pod-name","depth":3},{"value":"kubectl describe node [node-name]","url":"#kubectl-describe-node-node-name","depth":3},{"value":"로드 밸런싱","url":"#로드-밸런싱","depth":3},{"value":"또한 서비스는 여러 포트를 할당할 수 있다.","url":"#또한-서비스는-여러-포트를-할당할-수-있다","depth":4},{"value":"이름은 사용한 포트 참조","url":"#이름은-사용한-포트-참조","depth":4},{"value":"클러스터 내부 DNS와 서비스 디스커버리","url":"#클러스터-내부-dns와-서비스-디스커버리","depth":3},{"value":"파드 내부에서 환경변수로 등록된 것을 이용한 디스커버리","url":"#파드-내부에서-환경변수로-등록된-것을-이용한-디스커버리","depth":4},{"value":"DNS zone 파일 참조","url":"#dns-zone-파일-참조","depth":3},{"value":"DNS A레코드를 사용한 서비스 디스커버리","url":"#dns-a레코드를-사용한-서비스-디스커버리","depth":4},{"value":"DNS SRV 레코드를 사용한 서비스 디스커버리","url":"#dns-srv-레코드를-사용한-서비스-디스커버리","depth":4}],"frontMatter":{"readingTime":{"text":"7 min read","minutes":6.98,"time":418800,"words":1396},"slug":"k8s_network","fileName":"k8s_network.mdx","title":"K8S network","date":"2023-05-12T03:03:00.000Z","lastmod":"2023-05-12","tags":["kubernetes"],"draft":false,"summary":"","layout":"PostSimple"}},"authorDetails":[{"readingTime":{"text":"1 min read","minutes":0.155,"time":9300,"words":31},"slug":["default"],"fileName":"default.md","name":"demian11k","avatar":"/static/images/avatar.png","email":"demian11k@gmail.com","github":"https://github.com/demian9k","date":null}],"prev":{"title":"K8S rancher","date":"2023-05-12T03:03:00.000Z","lastmod":"2023-05-12","tags":["kubernetes"],"draft":false,"summary":"","layout":"PostSimple","slug":"k8s_rancher"},"next":{"title":"Hands-On Example: Ingress and Bare Metal Load Balancer in Windows-WSL-Kind-K8S","date":"2023-05-12T03:03:00.000Z","lastmod":"2023-05-12","tags":["kubernetes"],"draft":false,"summary":"","layout":"PostSimple","slug":"Ingress-BareMetal_LoadBalancer_in_Windows-WSL-Kind-K8S"}},"__N_SSG":true},"page":"/blog/[...slug]","query":{"slug":["k8s_network"]},"buildId":"UAtAAybf6nPA5spfXrC06","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>