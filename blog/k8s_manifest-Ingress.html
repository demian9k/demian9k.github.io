<!DOCTYPE html><html lang="en" class="scroll-smooth"><head><meta charSet="utf-8"/><script>!function(){try {var d=document.documentElement.classList;d.remove('light','dark');var e=localStorage.getItem('theme');if("system"===e||(!e&&true)){var t="(prefers-color-scheme: dark)",m=window.matchMedia(t);m.media!==t||m.matches?d.add('dark'):d.add('light')}else if(e) d.add(e)}catch(e){}}()</script><meta content="width=device-width, initial-scale=1" name="viewport"/><title>K8S manifest - Ingress </title><meta name="robots" content="follow, index"/><meta name="description" content=""/><meta property="og:url" content="https://demian9k.github.io/blog/k8s_manifest-Ingress"/><meta property="og:type" content="article"/><meta property="og:site_name" content="demian11k studylog"/><meta property="og:description" content=""/><meta property="og:title" content="K8S manifest - Ingress "/><meta property="og:image" content="https://demian9k.github.io/static/images/twitter-card.png"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site"/><meta name="twitter:title" content="K8S manifest - Ingress "/><meta name="twitter:description" content=""/><meta name="twitter:image" content="https://demian9k.github.io/static/images/twitter-card.png"/><link rel="canonical" href="https://demian9k.github.io/blog/k8s_manifest-Ingress"/><meta property="article:published_time" content="2023-05-16T03:03:00.000Z"/><meta property="article:modified_time" content="2023-05-16T00:00:00.000Z"/><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "Article",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://demian9k.github.io/blog/k8s_manifest-Ingress"
  },
  "headline": "K8S manifest - Ingress ",
  "image": [
    {
      "@type": "ImageObject",
      "url": "https://demian9k.github.io/static/images/twitter-card.png"
    }
  ],
  "datePublished": "2023-05-16T03:03:00.000Z",
  "dateModified": "2023-05-16T00:00:00.000Z",
  "author": {
    "@type": "Person",
    "name": "demian11k"
  },
  "publisher": {
    "@type": "Organization",
    "name": "demian11k",
    "logo": {
      "@type": "ImageObject",
      "url": "https://demian9k.github.io/static/images/logo.png"
    }
  },
  "description": ""
}</script><meta name="next-head-count" content="21"/><link rel="apple-touch-icon" sizes="76x76" href="/static/favicons/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/static/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/static/favicons/favicon-16x16.png"/><link rel="manifest" href="/static/favicons/site.webmanifest"/><link rel="mask-icon" href="/static/favicons/safari-pinned-tab.svg" color="#5bbad5"/><meta name="msapplication-TileColor" content="#000000"/><meta name="theme-color" media="(prefers-color-scheme: light)" content="#fff"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#000"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><link rel="preload" href="/_next/static/css/9da9539fac7f1ee9.css" as="style"/><link rel="stylesheet" href="/_next/static/css/9da9539fac7f1ee9.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-1667cddafac2eea3.js" defer=""></script><script src="/_next/static/chunks/main-bfc1a3b6dd286443.js" defer=""></script><script src="/_next/static/chunks/pages/_app-e097d8b875e64e46.js" defer=""></script><script src="/_next/static/chunks/140-77b8ab5a870d524b.js" defer=""></script><script src="/_next/static/chunks/574-40cb695d6b511631.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5B...slug%5D-48fd063b43fdbe6a.js" defer=""></script><script src="/_next/static/R1cpZtUWE2mFLIblfb-kJ/_buildManifest.js" defer=""></script><script src="/_next/static/R1cpZtUWE2mFLIblfb-kJ/_ssgManifest.js" defer=""></script><script src="/_next/static/R1cpZtUWE2mFLIblfb-kJ/_middlewareManifest.js" defer=""></script></head><body class="bg-white text-black antialiased dark:bg-gray-900 dark:text-white"><div id="__next" data-reactroot=""><div class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><div class="flex h-screen flex-col justify-between"><header class="flex items-center justify-between py-10"><div><a aria-label="demian11k.studylog" href="/"><div class="flex items-center justify-between"><div class="mr-3"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%2740%27%20height=%2740%27/%3e"/></span><img alt="A" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="rounded-full object-cover object-center md:h-36 lg:h-48" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="A" srcSet="/_next/static/media/demian_avatar_logo.c12b9855.png?imwidth=48 1x, /_next/static/media/demian_avatar_logo.c12b9855.png?imwidth=96 2x" src="/_next/static/media/demian_avatar_logo.c12b9855.png?imwidth=96" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="rounded-full object-cover object-center md:h-36 lg:h-48" loading="lazy"/></noscript></span></div><div class="hidden h-6 text-2xl font-semibold sm:block">demian11k.studylog</div></div></a></div><div class="flex items-center text-base leading-5"><div class="hidden sm:block"><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/blog">Blog</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/tags">Tags</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/projects">Projects</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/about">About</a></div><button aria-label="Toggle Dark Mode" type="button" class="ml-1 mr-1 h-8 w-8 rounded p-1 sm:ml-4"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg></button><div class="sm:hidden"><button type="button" class="ml-1 mr-1 h-8 w-8 rounded py-1" aria-label="Toggle Menu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg></button><div class="fixed top-0 left-0 z-10 h-full w-full transform bg-gray-200 opacity-95 duration-300 ease-in-out dark:bg-gray-800 translate-x-full"><div class="flex justify-end"><button type="button" class="mr-5 mt-11 h-8 w-8 rounded" aria-label="Toggle Menu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><nav class="fixed mt-8 h-full"><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/blog">Blog</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/tags">Tags</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/projects">Projects</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/about">About</a></div></nav></div></div></div></header><main class="mb-auto"><div class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><div class="fixed right-8 bottom-8 hidden flex-col gap-3 md:hidden"><button aria-label="Scroll To Top" type="button" class="rounded-full bg-gray-200 p-2 text-gray-500 transition-all hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-400 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><article><div><header><div class="space-y-1 border-b border-gray-200 pb-10 text-center dark:border-gray-700"><dl><div><dt class="sr-only">Published on</dt><dd class="text-base font-medium leading-6 text-gray-500 dark:text-gray-400"><time dateTime="2023-05-16T03:03:00.000Z">May 16, 2023</time></dd></div></dl><div><h1 class="text-3xl font-extrabold leading-9 tracking-tight text-gray-900 dark:text-gray-100 sm:text-4xl sm:leading-10 md:text-5xl md:leading-14">K8S manifest - Ingress </h1></div></div></header><div class="divide-y divide-gray-200 pb-8 dark:divide-gray-700 xl:divide-y-0 " style="grid-template-rows:auto 1fr"><div class="divide-y divide-gray-200 dark:divide-gray-700 xl:col-span-3 xl:row-span-2 xl:pb-0"><div class="prose max-w-none pt-10 pb-8 dark:prose-dark"><p><strong>network.md를 먼저 읽어야 한다.</strong></p><p><a target="_blank" rel="noopener noreferrer" href="https://velog.io/@dojun527/%EC%BF%A0%EB%B2%84%EB%84%A4%ED%8B%B0%EC%8A%A4-%EC%9D%B8%EA%B7%B8%EB%A0%88%EC%8A%A4Ingress">https://velog.io/@dojun527/%EC%BF%A0%EB%B2%84%EB%84%A4%ED%8B%B0%EC%8A%A4-%EC%9D%B8%EA%B7%B8%EB%A0%88%EC%8A%A4Ingress</a></p><p><a target="_blank" rel="noopener noreferrer" href="https://kubetm.github.io/k8s/08-intermediate-controller/ingress/">https://kubetm.github.io/k8s/08-intermediate-controller/ingress/</a></p><h2 id="ingress-리소스의-필요성"><a href="#ingress-리소스의-필요성" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Ingress 리소스의 필요성</h2><p>Service 리소스는 포트를 중복 사용할 수 없어서 서비스 리소스에 1개 Deployment만 적용된다. 여러개의 Deployment는 그 수만큼 Service 리소스가 필요해진다.</p><p>이런 경우의 요구사항을 위해 Ingress를 사용합니다. Ingress 는 아래와 같은 manifest 형식으로 하나의 Ingress 리소스가 여러개의 service로의 라우팅을 제공합니다.</p><div class="relative"><pre><code class="language-yaml code-highlight"><span class="code-line"><span class="token atrule key">apiVersion</span><span class="token punctuation">:</span> networking.k8s.io/v1
</span><span class="code-line"><span class="token atrule key">kind</span><span class="token punctuation">:</span> Ingress
</span><span class="code-line"><span class="token atrule key">metadata</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">name</span><span class="token punctuation">:</span> ingress<span class="token punctuation">-</span><span class="token number">1</span>
</span><span class="code-line">  <span class="token atrule key">annotations</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token comment">#nginx.ingress.kubernetes.io/upstream-hash-by: &quot;true&quot;</span>
</span><span class="code-line"><span class="token atrule key">spec</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">ingressClassName</span><span class="token punctuation">:</span> nginx
</span><span class="code-line">  <span class="token atrule key">rules</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token punctuation">-</span> <span class="token atrule key">http</span><span class="token punctuation">:</span>
</span><span class="code-line">        <span class="token atrule key">paths</span><span class="token punctuation">:</span>
</span><span class="code-line">          <span class="token punctuation">-</span> <span class="token atrule key">path</span><span class="token punctuation">:</span> /
</span><span class="code-line">            <span class="token atrule key">pathType</span><span class="token punctuation">:</span> Prefix
</span><span class="code-line">            <span class="token atrule key">backend</span><span class="token punctuation">:</span>
</span><span class="code-line">              <span class="token atrule key">service</span><span class="token punctuation">:</span>
</span><span class="code-line">                <span class="token atrule key">name</span><span class="token punctuation">:</span> svc1<span class="token punctuation">-</span>web
</span><span class="code-line">                <span class="token atrule key">port</span><span class="token punctuation">:</span>
</span><span class="code-line">                  <span class="token atrule key">number</span><span class="token punctuation">:</span> <span class="token number">80</span>
</span><span class="code-line">          <span class="token punctuation">-</span> <span class="token atrule key">path</span><span class="token punctuation">:</span> /guest
</span><span class="code-line">            <span class="token atrule key">pathType</span><span class="token punctuation">:</span> Prefix
</span><span class="code-line">            <span class="token atrule key">backend</span><span class="token punctuation">:</span>
</span><span class="code-line">              <span class="token atrule key">service</span><span class="token punctuation">:</span>
</span><span class="code-line">                <span class="token atrule key">name</span><span class="token punctuation">:</span> svc2<span class="token punctuation">-</span>guest
</span><span class="code-line">                <span class="token atrule key">port</span><span class="token punctuation">:</span>
</span><span class="code-line">                  <span class="token atrule key">number</span><span class="token punctuation">:</span> <span class="token number">8080</span>
</span><span class="code-line">          <span class="token punctuation">-</span> <span class="token atrule key">path</span><span class="token punctuation">:</span> /admin
</span><span class="code-line">            <span class="token atrule key">pathType</span><span class="token punctuation">:</span> Prefix
</span><span class="code-line">            <span class="token atrule key">backend</span><span class="token punctuation">:</span>
</span><span class="code-line">              <span class="token atrule key">service</span><span class="token punctuation">:</span>
</span><span class="code-line">                <span class="token atrule key">name</span><span class="token punctuation">:</span> svc3<span class="token punctuation">-</span>admin
</span><span class="code-line">                <span class="token atrule key">port</span><span class="token punctuation">:</span>
</span><span class="code-line">                  <span class="token atrule key">number</span><span class="token punctuation">:</span> <span class="token number">8080</span>
</span></code></pre></div><p>Ingress는 고유한 주소를 제공하여 사용 목적에 따라 다른 응답을 제공할 수 있고 트래픽에 대한 L4/L7 로드밸런서, 보안 인증서를 처리하는 기능을 제공합니다.</p><ul><li>Load Balancing</li><li>SSL Termination</li><li>name-based virtual routing</li></ul><p>쿠버네티스의 Ingress는 외부에서 쿠버네티스 클러스터 내부로 들어오는 네트워크 요청 : 즉, Ingress 트래픽을 어떻게 처리할지 정의한다. 쉽게 말하자면, Ingress는 외부에서 쿠버네티스에서 실행 중인 Deployment와 Service에 접근하기 위한, 일종의 관문 (Gateway) 같은 역할을 담당한다. Ingress를 사용하지 않았다고 가정했을 때, 외부 요청을 처리할 수 있는 선택지는 NodePort, ExternalIP 등이 있을 수 있겠다. 그러나 이러한 방법들은 일반적으로 Layer 4 (TCP, UDP) 에서의 요청을 처리하며, 네트워크 요청에 대한 세부적인 처리 로직을 구현하기는 아무래도 한계가 있다.</p><p>쿠버네티스의 Ingress는 Layer 7에서의 요청을 처리할 수 있다.</p><p>예컨대, 외부로부터 들어오는 요청에 대한 로드 밸런싱, TLS/SSL 인증서 처리, 특정 HTTP 경로의 라우팅 등을 Ingress를 통해 자세하게 정의할 수 있다.</p><p>물론, 이러한 기능들은 위에서 언급한 NodePort 등의 방법으로도 절대로 불가능한 것은 아니지만, 이러한 세부적인 로직을 모든 애플리케이션 개발 레벨에서 각각 구현하게 되면 서비스 운영 측면에서 추가적인 복잡성이 발생한다. 그 대신에, 외부 요청을 어떻게 처리할 것인지를 정의하는 집합인 Ingress를 정의한 뒤, 이를 Ingress Controller라고 부르는 특별한 웹 서버에 적용함으로써 추상화된 단계에서 서비스 처리 로직을 정의할 수 있다.</p><p>쿠버네티스에서 Ingress를 사용하기 위해서는 두 가지가 필요하다. 첫 번째는 YAML 파일에서 [kind: Ingress] 로 정의되는 Ingress 오브젝트이고, 두 번째는 Ingress 규칙이 적용될 Ingress Controller 이다.</p><p>Ingress는 단지 Ingress 규칙을 정의하는 선언적인 오브젝트일 뿐, 외부 요청을 받아들이는 실제 서버가 아니다. Ingress는 Ingress Controller라고 하는 특수한 서버 컨테이너에 적용되어야만 Ingress에 적용된 규칙이 활성화된다. 즉, Ingress Controller가 외부로부터 네트워크 요청을 수신했을 때, Ingress 규칙에 기반해 이 요청을 어떻게 처리할지를 결정한다.</p><h3 id="ingress"><a href="#ingress" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Ingress</h3><p>인그레스는 클러스터 외부로부터 클러스터 내부로 진입하는</p><p>HTTP와 HTTPS route를 expose 한다. 트래픽의 라우팅은 Ingress resource에 정의한 규칙(Rule)을 기반으로 통제된다.</p><img src="/static/images/k8smanifest/ingress.svg" title="ingress"/><p>이 그림이 Ingress의 위치를 보여준다.</p><p>Ingress Manifest는 주로 트래픽의 어디로 움직여야 되는지에 정책에 관한 것을 제어한다. 그러나 특정 포트나 프로토콜을 expose하지는 않는다.</p><p>그 기능은 Ingress-Controller에 위임한다. Ingress-Controller는 NodePort 혹은 LoadBalancer 타입의 Service 리소스이다.</p><p>Ingress Controller는 다양한 vendor들에 의해 생성되어 사용된다. 대표적으로 AWS의 Elastic Load Balancer를 위한 IC, GCP의 GLBC가 있으며, 일반적으로 on-premise에서는 nginx IC가 사용된다.</p><p>아래는 가장 최소한의 인그레스 매니페스트 선언이다. /testpath로 들어오는 트래픽을 <strong>test</strong> Service로 라우팅한다. 또한 그 ingress-controller는 <strong>nginx-example</strong> 이다.</p><div class="relative"><pre><code class="language-yaml code-highlight"><span class="code-line"><span class="token atrule key">apiVersion</span><span class="token punctuation">:</span> networking.k8s.io/v1
</span><span class="code-line"><span class="token atrule key">kind</span><span class="token punctuation">:</span> Ingress
</span><span class="code-line"><span class="token atrule key">metadata</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">name</span><span class="token punctuation">:</span> minimal<span class="token punctuation">-</span>ingress
</span><span class="code-line">  <span class="token atrule key">annotations</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token atrule key">nginx.ingress.kubernetes.io/rewrite-target</span><span class="token punctuation">:</span> /
</span><span class="code-line"><span class="token atrule key">spec</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">ingressClassName</span><span class="token punctuation">:</span> nginx<span class="token punctuation">-</span>example
</span><span class="code-line">  <span class="token atrule key">rules</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token punctuation">-</span> <span class="token atrule key">http</span><span class="token punctuation">:</span>
</span><span class="code-line">        <span class="token atrule key">paths</span><span class="token punctuation">:</span>
</span><span class="code-line">          <span class="token punctuation">-</span> <span class="token atrule key">path</span><span class="token punctuation">:</span> /testpath
</span><span class="code-line">            <span class="token atrule key">pathType</span><span class="token punctuation">:</span> Prefix
</span><span class="code-line">            <span class="token atrule key">backend</span><span class="token punctuation">:</span>
</span><span class="code-line">              <span class="token atrule key">service</span><span class="token punctuation">:</span>
</span><span class="code-line">                <span class="token atrule key">name</span><span class="token punctuation">:</span> test
</span><span class="code-line">                <span class="token atrule key">port</span><span class="token punctuation">:</span>
</span><span class="code-line">                  <span class="token atrule key">number</span><span class="token punctuation">:</span> <span class="token number">80</span>
</span></code></pre></div><p>좀 더 라우트가 추가된 예제는 manifests_example 04번을 참조한다.</p><p>MyUnderstanding:(using L2 mode)</p><ol><li>MetalLB Controller는 Deployment로 인스턴스화 되며, 사용자가 manifest에 할당한 외부 IP address(public) 범위의 주소를 k8s 클러스터 내부의 서비스(NodePort 등)에 할당하는 책임을 갖는다.</li><li>MetalLB Speaker는 DaemonSet으로 각 클러스터의 각 노드에 1개씩 생성되어 리더를 선출하고, 리더가 hosted network와 ARP를 사용해(k8s 네트워크가 아닌) 직접 통신할 수 있고, 이 능력을 이용해 각 노드에 있는 k8s Service와 ClusterIP를 통해 연결한다.</li></ol><table><thead><tr><th>인그레스 종류</th><th>구현 예제</th></tr></thead><tbody><tr><td>클러스터 외부 로드밸런서를 사용한 인그레스</td><td>GKE</td></tr><tr><td>클러스터 내부에 인그레스용 파드를 배포하는 인그레스</td><td>Nginx 인그레스</td></tr></tbody></table><hr/><h1 id="perfect-guide-ingress-example"><a href="#perfect-guide-ingress-example" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>perfect guide ingress example</h1><p>인그레스에서 사용할 서비스 백엔드 생성</p><div class="relative"><pre><code class="language-yaml code-highlight"><span class="code-line"><span class="token punctuation">---</span>
</span><span class="code-line"><span class="token atrule key">apiVersion</span><span class="token punctuation">:</span> v1
</span><span class="code-line"><span class="token atrule key">kind</span><span class="token punctuation">:</span> Service
</span><span class="code-line"><span class="token atrule key">metadata</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">name</span><span class="token punctuation">:</span> sample<span class="token punctuation">-</span>ingress<span class="token punctuation">-</span>svc<span class="token punctuation">-</span><span class="token number">1</span>
</span><span class="code-line"><span class="token atrule key">spec</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">type</span><span class="token punctuation">:</span> NodePort
</span><span class="code-line">  <span class="token atrule key">ports</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token punctuation">-</span> <span class="token atrule key">name</span><span class="token punctuation">:</span> <span class="token string">&#x27;http-port&#x27;</span>
</span><span class="code-line">      <span class="token atrule key">protocol</span><span class="token punctuation">:</span> <span class="token string">&#x27;TCP&#x27;</span>
</span><span class="code-line">      <span class="token atrule key">port</span><span class="token punctuation">:</span> <span class="token number">8888</span>
</span><span class="code-line">      <span class="token atrule key">targetPort</span><span class="token punctuation">:</span> <span class="token number">80</span>
</span><span class="code-line">  <span class="token atrule key">selector</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token atrule key">ingress-app</span><span class="token punctuation">:</span> sample1
</span><span class="code-line"><span class="token punctuation">---</span>
</span><span class="code-line"><span class="token atrule key">apiVersion</span><span class="token punctuation">:</span> v1
</span><span class="code-line"><span class="token atrule key">kind</span><span class="token punctuation">:</span> Pod
</span><span class="code-line"><span class="token atrule key">metadata</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">name</span><span class="token punctuation">:</span> sample<span class="token punctuation">-</span>ingress<span class="token punctuation">-</span>apps<span class="token punctuation">-</span><span class="token number">1</span>
</span><span class="code-line">  <span class="token atrule key">labels</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token atrule key">ingress-app</span><span class="token punctuation">:</span> sample1
</span><span class="code-line"><span class="token atrule key">spec</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">containers</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token punctuation">-</span> <span class="token atrule key">name</span><span class="token punctuation">:</span> nginx<span class="token punctuation">-</span>container
</span><span class="code-line">      <span class="token atrule key">image</span><span class="token punctuation">:</span> nginx<span class="token punctuation">:</span><span class="token number">1.12</span>
</span><span class="code-line">      <span class="token atrule key">ports</span><span class="token punctuation">:</span>
</span><span class="code-line">        <span class="token punctuation">-</span> <span class="token atrule key">containerPort</span><span class="token punctuation">:</span> <span class="token number">80</span>
</span></code></pre></div><hr/><div class="relative"><pre><code class="language-yaml code-highlight"><span class="code-line"><span class="token punctuation">---</span>
</span><span class="code-line"><span class="token atrule key">apiVersion</span><span class="token punctuation">:</span> v1
</span><span class="code-line"><span class="token atrule key">kind</span><span class="token punctuation">:</span> Service
</span><span class="code-line"><span class="token atrule key">metadata</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">name</span><span class="token punctuation">:</span> sample<span class="token punctuation">-</span>ingress<span class="token punctuation">-</span>svc<span class="token punctuation">-</span><span class="token number">2</span>
</span><span class="code-line"><span class="token atrule key">spec</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">type</span><span class="token punctuation">:</span> NodePort
</span><span class="code-line">  <span class="token atrule key">ports</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token punctuation">-</span> <span class="token atrule key">name</span><span class="token punctuation">:</span> <span class="token string">&#x27;http-port&#x27;</span>
</span><span class="code-line">      <span class="token atrule key">protocol</span><span class="token punctuation">:</span> <span class="token string">&#x27;TCP&#x27;</span>
</span><span class="code-line">      <span class="token atrule key">port</span><span class="token punctuation">:</span> <span class="token number">8888</span>
</span><span class="code-line">      <span class="token atrule key">targetPort</span><span class="token punctuation">:</span> <span class="token number">80</span>
</span><span class="code-line">  <span class="token atrule key">selector</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token atrule key">ingress-app</span><span class="token punctuation">:</span> sample2
</span><span class="code-line"><span class="token punctuation">---</span>
</span><span class="code-line"><span class="token atrule key">apiVersion</span><span class="token punctuation">:</span> v1
</span><span class="code-line"><span class="token atrule key">kind</span><span class="token punctuation">:</span> Pod
</span><span class="code-line"><span class="token atrule key">metadata</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">name</span><span class="token punctuation">:</span> sample<span class="token punctuation">-</span>ingress<span class="token punctuation">-</span>apps<span class="token punctuation">-</span><span class="token number">2</span>
</span><span class="code-line">  <span class="token atrule key">labels</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token atrule key">ingress-app</span><span class="token punctuation">:</span> sample2
</span><span class="code-line"><span class="token atrule key">spec</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">containers</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token punctuation">-</span> <span class="token atrule key">name</span><span class="token punctuation">:</span> nginx<span class="token punctuation">-</span>container
</span><span class="code-line">      <span class="token atrule key">image</span><span class="token punctuation">:</span> nginx<span class="token punctuation">:</span><span class="token number">1.12</span>
</span><span class="code-line">      <span class="token atrule key">ports</span><span class="token punctuation">:</span>
</span><span class="code-line">        <span class="token punctuation">-</span> <span class="token atrule key">containerPort</span><span class="token punctuation">:</span> <span class="token number">80</span>
</span></code></pre></div><hr/><div class="relative"><pre><code class="language-yaml code-highlight"><span class="code-line"><span class="token punctuation">---</span>
</span><span class="code-line"><span class="token atrule key">apiVersion</span><span class="token punctuation">:</span> v1
</span><span class="code-line"><span class="token atrule key">kind</span><span class="token punctuation">:</span> Service
</span><span class="code-line"><span class="token atrule key">metadata</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">name</span><span class="token punctuation">:</span> sample<span class="token punctuation">-</span>ingress<span class="token punctuation">-</span>default
</span><span class="code-line"><span class="token atrule key">spec</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">type</span><span class="token punctuation">:</span> NodePort
</span><span class="code-line">  <span class="token atrule key">ports</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token punctuation">-</span> <span class="token atrule key">name</span><span class="token punctuation">:</span> <span class="token string">&#x27;http-port&#x27;</span>
</span><span class="code-line">      <span class="token atrule key">protocol</span><span class="token punctuation">:</span> <span class="token string">&#x27;TCP&#x27;</span>
</span><span class="code-line">      <span class="token atrule key">port</span><span class="token punctuation">:</span> <span class="token number">8888</span>
</span><span class="code-line">      <span class="token atrule key">targetPort</span><span class="token punctuation">:</span> <span class="token number">80</span>
</span><span class="code-line">  <span class="token atrule key">selector</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token atrule key">ingress-app</span><span class="token punctuation">:</span> default
</span><span class="code-line"><span class="token punctuation">---</span>
</span><span class="code-line"><span class="token atrule key">apiVersion</span><span class="token punctuation">:</span> v1
</span><span class="code-line"><span class="token atrule key">kind</span><span class="token punctuation">:</span> Pod
</span><span class="code-line"><span class="token atrule key">metadata</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">name</span><span class="token punctuation">:</span> sample<span class="token punctuation">-</span>ingress<span class="token punctuation">-</span>default
</span><span class="code-line">  <span class="token atrule key">labels</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token atrule key">ingress-app</span><span class="token punctuation">:</span> default
</span><span class="code-line"><span class="token atrule key">spec</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">containers</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token punctuation">-</span> <span class="token atrule key">name</span><span class="token punctuation">:</span> nginx<span class="token punctuation">-</span>container
</span><span class="code-line">      <span class="token atrule key">image</span><span class="token punctuation">:</span> nginx<span class="token punctuation">:</span><span class="token number">1.12</span>
</span><span class="code-line">      <span class="token atrule key">ports</span><span class="token punctuation">:</span>
</span><span class="code-line">        <span class="token punctuation">-</span> <span class="token atrule key">containerPort</span><span class="token punctuation">:</span> <span class="token number">80</span>
</span></code></pre></div><p>인그레스에서 https 를 사용하는 경우 사전에 인증서를 Secret 리소스로 생성해야 한다.</p><div class="relative"><pre><code class="code-highlight language-bash"><span class="code-line">openssl req -x509 -nodes -days <span class="token number">365</span> -newkey rsa:2048 <span class="token punctuation">\</span>
</span><span class="code-line">-keyout ~/tls.key -out ~/tls.crt -subj <span class="token string">&quot;/CN=sample.example.com&quot;</span>
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line">kubectl create secret tls --save-config tls-sample --key ~/tls.key --cert ~/tls.crt
</span></code></pre></div><p>인증서를 만들기 어려운 경우 이미 준비된 secret을 사용할 수 있다.</p><div class="relative"><pre><code class="language-yaml code-highlight"><span class="code-line"><span class="token atrule key">apiVersion</span><span class="token punctuation">:</span> v1
</span><span class="code-line"><span class="token atrule key">data</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">tls.crt</span><span class="token punctuation">:</span> LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN0akNDQVo0Q0NRQ3paZEc2aEFKRGtEQU5CZ2txaGtpRzl3MEJBUXNGQURBZE1Sc3dHUVlEVlFRRERCSnoKWVcxd2JHVXVaWGhoYlhCc1pTNWpiMjB3SGhjTk1Ua3dOakl4TURjMU16QXdXaGNOTWpBd05qSXdNRGMxTXpBdwpXakFkTVJzd0dRWURWUVFEREJKellXMXdiR1V1WlhoaGJYQnNaUzVqYjIwd2dnRWlNQTBHQ1NxR1NJYjNEUUVCCkFRVUFBNElCRHdBd2dnRUtBb0lCQVFDODYreTVhaUFZZG9ueGVhZTNMUEN5SUQvN3VPTi9QaGl6ejVscVFMTDQKanI1Rm9hTnZMdzdTTUt3aXRXUFBaOEExU3lzZk5SNGZkd2x1NWRXQUNmQnN1TU0zeWpEdjVhWC9Xait1bXNTawpDY2dQMVk3UEdNVEVsN1BwQVNxTWJnTi9YdkpLV1RtblF0aGIyWTRSZFg3Zlk2bmZrTUhwNGdmK0UySDdZaS94CjVEOFB0RldnMXN2THZkbnFrVU12eVRlOXlBOXY0U0VrSE5kYUJtdm5HblpDSCtqV0xCcTBZRUVnY1dnU200bU8KdzRlR0VhN0JMRHVWM0lSaWpwZk5ZeENnZlRPcytQUmEzdytxa1NoK3ArQS9ENXJXZmZsR0xtWENqUUhpZkhPdwpUTm5OaWJKUEtObHdOWkZUUWIzQXNvMXF0bGp2NDdwOVFiSHg5bng3UVk4SEFnTUJBQUV3RFFZSktvWklodmNOCkFRRUxCUUFEZ2dFQkFFRStnS0NwazJ6eW93R1FDQXJZV0VnMmdBQUVkQXlGYS9rTWt0RDhyZUxlNDBiQ0Y5VmwKWmhMN3hWRWtGbkpvSU45aE9LOGx1Y1BReWtXU2t6NzFZbmJKWUpUTmc3TXlVc1hjbzZ2UmE1cEM0S2tKbE9qVQpaaTFEZ0U5N0N3bFV3NVdrMFIxNEM1Z1pXR2pzZlVkWXliZWVMUExPbG1xNElnc0FoR0M0QzBBUE4rbmEyYlUzCjE0MVM2MjQrcUwveDVTd2F0dFpEM2U1NDNBdmpyRFZVc1M4ZUpGRHphQmV2bWc1S1ZKQURKM0xiS05pQ0tsTkoKVlpNdU1UaW4yVVoxR2JZUFEwaUNzRUQ4ekpKdkwxSHpTcVp1RC8wNlVWUzNSN2IrOEgrRFNCVnphMGQ5dTZKNwpJNG11SVNSdlFTdDJkeVdhV2Z4VUcyTnFJMm41amZ3bjZwaz0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
</span><span class="code-line">  <span class="token atrule key">tls.key</span><span class="token punctuation">:</span> LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUV2d0lCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQktrd2dnU2xBZ0VBQW9JQkFRQzg2K3k1YWlBWWRvbngKZWFlM0xQQ3lJRC83dU9OL1BoaXp6NWxxUUxMNGpyNUZvYU52THc3U01Ld2l0V1BQWjhBMVN5c2ZOUjRmZHdsdQo1ZFdBQ2ZCc3VNTTN5akR2NWFYL1dqK3Vtc1NrQ2NnUDFZN1BHTVRFbDdQcEFTcU1iZ04vWHZKS1dUbW5RdGhiCjJZNFJkWDdmWTZuZmtNSHA0Z2YrRTJIN1lpL3g1RDhQdEZXZzFzdkx2ZG5xa1VNdnlUZTl5QTl2NFNFa0hOZGEKQm12bkduWkNIK2pXTEJxMFlFRWdjV2dTbTRtT3c0ZUdFYTdCTER1VjNJUmlqcGZOWXhDZ2ZUT3MrUFJhM3crcQprU2grcCtBL0Q1cldmZmxHTG1YQ2pRSGlmSE93VE5uTmliSlBLTmx3TlpGVFFiM0FzbzFxdGxqdjQ3cDlRYkh4CjlueDdRWThIQWdNQkFBRUNnZ0VBS2txcU9LdWdPYm0za1o0SlJJRkQ5S3d4aHBsU0hEYjdjcTFEaTd5bUUreG8KZmMvOGRUUlVuZ3NWVGNQTGJ5K3JvSUtPU2JNclppSFFzOG14ckxNTTVsbktJZUFhYW1tL2FsVjZzZ3lsZm85TwpBUFZ1dmIrdXRNKzlENmthTEV1b2JzZ0RkMDlZRDdCd0hNZXIvUTZQYzFTdFA0WDVVdkV0bHR3aDhCTi81aWN1ClFtTEZuemUyeTZ2TzFHVzdCQzAzVmxJSTNkTDZoRTF1UVFtTnA3eDRhekUzU2RvRzFSbVVDZWhXRUNzZG5DZmkKU2ZHYzBGY3BwdlBSMm5USVdJZ014Um5odkp5QjVHNHpjdFVOSkV0elEzRGFQZXk0NHpKZ21PbzNBMEIzQVFjNQpzVUlrWlJERmFpc296eE5KU3ZxUDRELzZrUGFBaUpsdW1XeFJKbmJGS1FLQmdRRDFtL1VwTEhuZEZDYXhzUmk5Cm1GMFRka29IRm9FL0hxcUlXVUZ0Vk1QN25obzNJclkzcWd0aUZSYmoyWnJSN2dtQzZqY1FPVWgxMzFISmN4c20KcHd0OWJ6Q3d4MnU3UVdLLzhzc1BCdWNzZGlVWUtjOWtBYnZ4aTVQb3l2bTQyRzVNQy9qL0dTa3NuWmdSWmwrRgpwZmVxUHFwZC8vVFhya2FKUnQzOGJMN1VMUUtCZ1FERTZnU29NRGVnSGszeXZSQjJ3dG1UU0cyWGp3aThGTlo1CjBNM3ppZDltMTI4OHM2RW1RTkdkVWt2WGtkRXI3Rnh5VldVakFlVnlsUWZsNkl3ZWJ5YkgvZVluOFIzSVRzcTIKcjZhdzU2NGswdW1iempobTBZbkprbkl1TzN1a0ZLUStKTUFkdCtnVE8vYnlGN1ByWkd2Y2xGZ21aNW1STnFHTgpnc29BdTNoc2d3S0JnUURINXlqeVd5WFF2OThDajI3Z21jdGYxTTVKMkpKWHFvRUlPd1ZhbER4elptcFY1K1hCCmhxQi9NMFVQTElTclN2L28wdk1BUEc5eXFOSHJrY2xPZTNXSm9WOVM4dTBIV3graHRWNTZtNWE2aEdxS3NUVUEKWTd6eHl6WVdxbVg0Z2dlNzA1N1ZHa2g5N01MaG5wNHVyRGZaRStvY1dnQ1JMMkp2eHdOVXViblQvUUtCZ1FDVwpISEFBWndHQXBwbDFlbnVhalYrZno0NzhBcVg5KzBTbENIQjRQNXAybzdUQTZZN253bklKSkR0ODBrUkszNXg1CjdHOTFDSFVKckdLZytXNFhwVlJERVdMcS8veGNQdlI1MzkySzdwTHFyMzQyc0RaKzZ5M0c1RVQyeVpHdnU2eVoKVXhyQmpQajE4TGlJUlZsN0VNckpGSzArV2F2UDczMm9peFBEQ3liNlVRS0JnUURFU1VyRlM0UzNoYUpKVHcvdgoxWjBSVjRpUDB5ZmFsVVo2UEhtR3lweVF5NTBEU1B6MWtrb0ZFY1pWS1RCdTMzK1dJMkpwZDdScEl0TDc1WnZLCnlFT21xd0FoTFRSUjdrUW5PZDVFZXFNUit3T1ZkSHV1UDF2T3ZYN21BNFdNVmRWRVpVVFBMY2QvcGhEd2lIQ3UKRjBOcFNsb3g3dkFXdk5tV25uVXgxOFJmTUE9PQotLS0tLUVORCBQUklWQVRFIEtFWS0tLS0tCg==
</span><span class="code-line"><span class="token atrule key">kind</span><span class="token punctuation">:</span> Secret
</span><span class="code-line"><span class="token atrule key">metadata</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">name</span><span class="token punctuation">:</span> tls<span class="token punctuation">-</span>sample
</span><span class="code-line">  <span class="token atrule key">namespace</span><span class="token punctuation">:</span> default
</span><span class="code-line"><span class="token atrule key">type</span><span class="token punctuation">:</span> kubernetes.io/tls
</span></code></pre></div><p>일부 Managed K8S 서비스에서는 관리되는 인증서를 annotation으로 지정할 수 있다.</p><p>일반적으로 http 경로 -&gt; backend service 형태의 쌍으로 rule를 설정하지만 하나의 IP 주소에서 여러 호스트명을 처리할 수도 있다.</p><p>&quot;spec.rules[].http.paths[].backend.servicePort&quot;에 설정할 포트 번호는 연결할 Service 리소스의 spec.ports[].port를 지정한다.</p><div class="relative"><pre><code class="language-yaml code-highlight"><span class="code-line"><span class="token atrule key">apiVersion</span><span class="token punctuation">:</span> networking.k8s.io/v1beta1
</span><span class="code-line"><span class="token atrule key">kind</span><span class="token punctuation">:</span> Ingress
</span><span class="code-line"><span class="token atrule key">metadata</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">name</span><span class="token punctuation">:</span> sample<span class="token punctuation">-</span>ingress<span class="token punctuation">-</span>by<span class="token punctuation">-</span>nginx
</span><span class="code-line">  <span class="token atrule key">annotations</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token atrule key">kubernetes.io/ingress.class</span><span class="token punctuation">:</span> nginx
</span><span class="code-line">    <span class="token atrule key">nginx.ingress.kubernetes.io/ssl-redirect</span><span class="token punctuation">:</span> <span class="token string">&#x27;false&#x27;</span> <span class="token comment">#기본값으로 nginx ingress는 http 요청을 https로 redirect 하는 것을 비활성화한다.</span>
</span><span class="code-line"><span class="token atrule key">spec</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">rules</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token punctuation">-</span> <span class="token atrule key">host</span><span class="token punctuation">:</span> sample.example.com
</span><span class="code-line">      <span class="token atrule key">http</span><span class="token punctuation">:</span>
</span><span class="code-line">        <span class="token atrule key">paths</span><span class="token punctuation">:</span>
</span><span class="code-line">          <span class="token punctuation">-</span> <span class="token atrule key">path</span><span class="token punctuation">:</span> /path1/
</span><span class="code-line">            <span class="token atrule key">backend</span><span class="token punctuation">:</span>
</span><span class="code-line">              <span class="token atrule key">serviceName</span><span class="token punctuation">:</span> sample<span class="token punctuation">-</span>ingress<span class="token punctuation">-</span>svc<span class="token punctuation">-</span><span class="token number">1</span>
</span><span class="code-line">              <span class="token atrule key">servicePort</span><span class="token punctuation">:</span> <span class="token number">8888</span>
</span><span class="code-line">          <span class="token punctuation">-</span> <span class="token atrule key">path</span><span class="token punctuation">:</span> /path2/
</span><span class="code-line">            <span class="token atrule key">backend</span><span class="token punctuation">:</span>
</span><span class="code-line">              <span class="token atrule key">serviceName</span><span class="token punctuation">:</span> sample<span class="token punctuation">-</span>ingress<span class="token punctuation">-</span>svc<span class="token punctuation">-</span><span class="token number">2</span>
</span><span class="code-line">              <span class="token atrule key">servicePort</span><span class="token punctuation">:</span> <span class="token number">8888</span>
</span><span class="code-line">  <span class="token comment"># spec.rules.http.paths에 속하지 않는 것은 default 서비스가 처리</span>
</span><span class="code-line">  <span class="token atrule key">backend</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token atrule key">serviceName</span><span class="token punctuation">:</span> sample<span class="token punctuation">-</span>ingress<span class="token punctuation">-</span>default
</span><span class="code-line">    <span class="token atrule key">servicePort</span><span class="token punctuation">:</span> <span class="token number">8888</span>
</span><span class="code-line">  <span class="token atrule key">tls</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token punctuation">-</span> <span class="token atrule key">hosts</span><span class="token punctuation">:</span>
</span><span class="code-line">        <span class="token punctuation">-</span> sample.example.com
</span><span class="code-line">      <span class="token atrule key">secretName</span><span class="token punctuation">:</span> tls<span class="token punctuation">-</span>sample
</span></code></pre></div><p>nginx 인그레스를 사용하는 경우 ingress-controller Deployment의 LoadBalancer 주소가 Ingress에도 등록된다.</p><div class="relative"><pre><code class="code-highlight language-bash"><span class="code-line"><span class="token comment"># L7 로드밸런서의 가상 IP를 환경변수로 저장</span>
</span><span class="code-line"><span class="token variable assign-left">INGRESS_IP</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span>kubectl get ingress sample-ingress-by-nginx -o <span class="token variable assign-left">jsonpath</span><span class="token operator">=</span><span class="token string">&#x27;{.status.loadBalancer.ingress[0].ip}&#x27;</span><span class="token variable">`</span></span>
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line"><span class="token comment"># 인그레스 리소스 경유의 HTTP 요청(/path1/* &gt; sample-ingress-svc-1 )</span>
</span><span class="code-line"><span class="token function">curl</span> http://<span class="token variable">${INGRESS_IP}</span>/path1/ -H <span class="token string">&quot;Host: sample.example.com&quot;</span>
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line"><span class="token comment"># 인그레스 리소스 경유의 HTTP 요청(/path2/* &gt; sample-ingress-svc-2 )</span>
</span><span class="code-line"><span class="token function">curl</span> http://<span class="token variable">${INGRESS_IP}</span>/path2/ -H <span class="token string">&quot;Host: sample.example.com&quot;</span>
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line"><span class="token comment"># 인그레스 리소스 경유의 HTTP 요청(/* &gt; sample-ingress-default )</span>
</span><span class="code-line"><span class="token function">curl</span> http://<span class="token variable">${INGRESS_IP}</span>/ -H <span class="token string">&quot;Host: sample.example.com&quot;</span>
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line"><span class="token comment"># 인그레스 리소스 경유의 HTTPS 요청</span>
</span><span class="code-line"><span class="token function">curl</span> http://<span class="token variable">${INGRESS_IP}</span>/path1/ -H <span class="token string">&quot;Host: sample.example.com&quot;</span> --insecure
</span></code></pre></div><h3 id="ingressclass에-의한-ingress-분리"><a href="#ingressclass에-의한-ingress-분리" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>IngressClass에 의한 Ingress 분리</h3><p>위의 인그레스 컨트롤러는 클러스터의 모든 리소스를 볼 수 있어 충돌이 발생할 가능성이 있다. 이런 경우 IngressClass로 처리 대상의 Ingress 리소스를 분리할 수 있다.</p><ol><li><p>nginx ingress controller 기동 시 --ingress-class 옵션을 전달</p><ul><li>/nginx-ingress-controller --ingress-class=system_a..</li></ul></li><li><p>Ingress 리소스에 annotation 지정</p></li></ol><div class="relative"><pre><code class="language-yaml code-highlight"><span class="code-line"><span class="token comment">#ingress controller 가 class를 보고 nodePort svc_a로 라우팅</span>
</span><span class="code-line"><span class="token atrule key">apiVersion</span><span class="token punctuation">:</span> networking.k8s.io/v1
</span><span class="code-line"><span class="token atrule key">kind</span><span class="token punctuation">:</span> Ingress
</span><span class="code-line"><span class="token atrule key">metadata</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">name</span><span class="token punctuation">:</span> ingress<span class="token punctuation">-</span>a
</span><span class="code-line">  <span class="token atrule key">annotations</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token atrule key">kubernetes.io/ingress.class</span><span class="token punctuation">:</span> <span class="token string">&#x27;system_a&#x27;</span>
</span><span class="code-line"><span class="token atrule key">spec</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">ingressClassName</span><span class="token punctuation">:</span> nginx<span class="token punctuation">-</span>example
</span><span class="code-line">  <span class="token atrule key">rules</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token punctuation">-</span> <span class="token atrule key">http</span><span class="token punctuation">:</span>
</span><span class="code-line">        <span class="token atrule key">paths</span><span class="token punctuation">:</span>
</span><span class="code-line">          <span class="token punctuation">-</span> <span class="token atrule key">path</span><span class="token punctuation">:</span> /path1
</span><span class="code-line">            <span class="token atrule key">pathType</span><span class="token punctuation">:</span> Prefix
</span><span class="code-line">            <span class="token atrule key">backend</span><span class="token punctuation">:</span>
</span><span class="code-line">              <span class="token atrule key">service</span><span class="token punctuation">:</span>
</span><span class="code-line">                <span class="token atrule key">name</span><span class="token punctuation">:</span> svc_a
</span><span class="code-line">                <span class="token atrule key">port</span><span class="token punctuation">:</span>
</span><span class="code-line">                  <span class="token atrule key">number</span><span class="token punctuation">:</span> <span class="token number">80</span>
</span><span class="code-line"><span class="token punctuation">---</span>
</span><span class="code-line"><span class="token comment">#ingress controller 가 class를 보고 nodePort svc_b로 라우팅</span>
</span><span class="code-line"><span class="token atrule key">apiVersion</span><span class="token punctuation">:</span> networking.k8s.io/v1
</span><span class="code-line"><span class="token atrule key">kind</span><span class="token punctuation">:</span> Ingress
</span><span class="code-line"><span class="token atrule key">metadata</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">name</span><span class="token punctuation">:</span> ingress<span class="token punctuation">-</span>b
</span><span class="code-line">  <span class="token atrule key">annotations</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token atrule key">kubernetes.io/ingress.class</span><span class="token punctuation">:</span> <span class="token string">&#x27;system_b&#x27;</span>
</span><span class="code-line"><span class="token atrule key">spec</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">ingressClassName</span><span class="token punctuation">:</span> nginx<span class="token punctuation">-</span>example
</span><span class="code-line">  <span class="token atrule key">rules</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token punctuation">-</span> <span class="token atrule key">http</span><span class="token punctuation">:</span>
</span><span class="code-line">        <span class="token atrule key">paths</span><span class="token punctuation">:</span>
</span><span class="code-line">          <span class="token punctuation">-</span> <span class="token atrule key">path</span><span class="token punctuation">:</span> /path2
</span><span class="code-line">            <span class="token atrule key">pathType</span><span class="token punctuation">:</span> Prefix
</span><span class="code-line">            <span class="token atrule key">backend</span><span class="token punctuation">:</span>
</span><span class="code-line">              <span class="token atrule key">service</span><span class="token punctuation">:</span>
</span><span class="code-line">                <span class="token atrule key">name</span><span class="token punctuation">:</span> svc_b
</span><span class="code-line">                <span class="token atrule key">port</span><span class="token punctuation">:</span>
</span><span class="code-line">                  <span class="token atrule key">number</span><span class="token punctuation">:</span> <span class="token number">80</span>
</span></code></pre></div></div></div><div id="comment"></div><footer><div class="flex flex-col text-sm font-medium sm:flex-row sm:justify-between sm:text-base"><div class="pt-4 xl:pt-8"><a class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/blog/k8s_manifest-ReplicaSet">← <!-- -->K8S manifest - ReplicaSet</a></div><div class="pt-4 xl:pt-8"><a class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/blog/k8s_manifest-HPA">K8S manifest - HPA<!-- --> →</a></div></div></footer></div></div></article></div></main><footer><div class="mt-16 flex flex-col items-center"><div class="mb-3 flex space-x-4"><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="mailto:demian11k@gmail.com"><span class="sr-only">mail</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="fill-current text-gray-700 hover:text-blue-500 dark:text-gray-200 dark:hover:text-blue-400 h-6 w-6"><path d="M2.003 5.884 10 9.882l7.997-3.998A2 2 0 0 0 16 4H4a2 2 0 0 0-1.997 1.884z"></path><path d="m18 8.118-8 4-8-4V14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8.118z"></path></svg></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://github.com/demian9k"><span class="sr-only">github</span><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="fill-current text-gray-700 hover:text-blue-500 dark:text-gray-200 dark:hover:text-blue-400 h-6 w-6"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></a></div><div class="mb-2 flex space-x-2 text-sm text-gray-500 dark:text-gray-400"><div>demian11k</div><div> • </div><div>© 2023</div><div> • </div><a href="/">demian11k studylog</a></div></div></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"mdxSource":"var Component=(()=\u003e{var d=Object.create;var c=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var o=Object.getOwnPropertyNames;var m=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty;var t=a=\u003ec(a,\"__esModule\",{value:!0});var N=(a,s)=\u003e()=\u003e(s||a((s={exports:{}}).exports,s),s.exports),u=(a,s)=\u003e{t(a);for(var l in s)c(a,l,{get:s[l],enumerable:!0})},k=(a,s,l)=\u003e{if(s\u0026\u0026typeof s==\"object\"||typeof s==\"function\")for(let n of o(s))!h.call(a,n)\u0026\u0026n!==\"default\"\u0026\u0026c(a,n,{get:()=\u003es[n],enumerable:!(l=p(s,n))||l.enumerable});return a},y=a=\u003ek(t(c(a!=null?d(m(a)):{},\"default\",a\u0026\u0026a.__esModule\u0026\u0026\"default\"in a?{get:()=\u003ea.default,enumerable:!0}:{value:a,enumerable:!0})),a);var r=N((F,i)=\u003e{i.exports=_jsx_runtime});var b={};u(b,{default:()=\u003eV,frontmatter:()=\u003eg});var e=y(r()),g={title:\"K8S manifest - Ingress \",date:new Date(168420618e4),lastmod:\"2023-05-16\",tags:[\"kubernetes\"],draft:!1,summary:\"\",layout:\"PostSimple\"};function U(a={}){let{wrapper:s}=a.components||{};return s?(0,e.jsx)(s,Object.assign({},a,{children:(0,e.jsx)(l,{})})):l();function l(){let n=Object.assign({p:\"p\",strong:\"strong\",a:\"a\",h2:\"h2\",span:\"span\",pre:\"pre\",code:\"code\",ul:\"ul\",li:\"li\",h3:\"h3\",ol:\"ol\",table:\"table\",thead:\"thead\",tr:\"tr\",th:\"th\",tbody:\"tbody\",td:\"td\",h1:\"h1\"},a.components);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(n.p,{children:(0,e.jsx)(n.strong,{children:\"network.md\\uB97C \\uBA3C\\uC800 \\uC77D\\uC5B4\\uC57C \\uD55C\\uB2E4.\"})}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.a,{href:\"https://velog.io/@dojun527/%EC%BF%A0%EB%B2%84%EB%84%A4%ED%8B%B0%EC%8A%A4-%EC%9D%B8%EA%B7%B8%EB%A0%88%EC%8A%A4Ingress\",children:\"https://velog.io/@dojun527/%EC%BF%A0%EB%B2%84%EB%84%A4%ED%8B%B0%EC%8A%A4-%EC%9D%B8%EA%B7%B8%EB%A0%88%EC%8A%A4Ingress\"})}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.a,{href:\"https://kubetm.github.io/k8s/08-intermediate-controller/ingress/\",children:\"https://kubetm.github.io/k8s/08-intermediate-controller/ingress/\"})}),(0,e.jsxs)(n.h2,{id:\"ingress-\\uB9AC\\uC18C\\uC2A4\\uC758-\\uD544\\uC694\\uC131\",children:[(0,e.jsx)(n.a,{href:\"#ingress-\\uB9AC\\uC18C\\uC2A4\\uC758-\\uD544\\uC694\\uC131\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Ingress \\uB9AC\\uC18C\\uC2A4\\uC758 \\uD544\\uC694\\uC131\"]}),(0,e.jsx)(n.p,{children:\"Service \\uB9AC\\uC18C\\uC2A4\\uB294 \\uD3EC\\uD2B8\\uB97C \\uC911\\uBCF5 \\uC0AC\\uC6A9\\uD560 \\uC218 \\uC5C6\\uC5B4\\uC11C \\uC11C\\uBE44\\uC2A4 \\uB9AC\\uC18C\\uC2A4\\uC5D0 1\\uAC1C Deployment\\uB9CC \\uC801\\uC6A9\\uB41C\\uB2E4. \\uC5EC\\uB7EC\\uAC1C\\uC758 Deployment\\uB294 \\uADF8 \\uC218\\uB9CC\\uD07C Service \\uB9AC\\uC18C\\uC2A4\\uAC00 \\uD544\\uC694\\uD574\\uC9C4\\uB2E4.\"}),(0,e.jsx)(n.p,{children:\"\\uC774\\uB7F0 \\uACBD\\uC6B0\\uC758 \\uC694\\uAD6C\\uC0AC\\uD56D\\uC744 \\uC704\\uD574 Ingress\\uB97C \\uC0AC\\uC6A9\\uD569\\uB2C8\\uB2E4. Ingress \\uB294 \\uC544\\uB798\\uC640 \\uAC19\\uC740 manifest \\uD615\\uC2DD\\uC73C\\uB85C \\uD558\\uB098\\uC758 Ingress \\uB9AC\\uC18C\\uC2A4\\uAC00 \\uC5EC\\uB7EC\\uAC1C\\uC758 service\\uB85C\\uC758 \\uB77C\\uC6B0\\uD305\\uC744 \\uC81C\\uACF5\\uD569\\uB2C8\\uB2E4.\"}),(0,e.jsx)(n.pre,{className:\"language-yaml\",children:(0,e.jsxs)(n.code,{className:\"language-yaml code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"apiVersion\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` networking.k8s.io/v1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"kind\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` Ingress\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"metadata\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" ingress\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"annotations\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:'#nginx.ingress.kubernetes.io/upstream-hash-by: \"true\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"spec\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"ingressClassName\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` nginx\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"rules\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"http\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"paths\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"path\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` /\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"pathType\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` Prefix\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"backend\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"              \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"service\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" svc1\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`web\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"port\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"number\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"80\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"path\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` /guest\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"pathType\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` Prefix\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"backend\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"              \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"service\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" svc2\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`guest\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"port\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"number\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"8080\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"path\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` /admin\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"pathType\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` Prefix\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"backend\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"              \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"service\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" svc3\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`admin\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"port\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"number\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"8080\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"Ingress\\uB294 \\uACE0\\uC720\\uD55C \\uC8FC\\uC18C\\uB97C \\uC81C\\uACF5\\uD558\\uC5EC \\uC0AC\\uC6A9 \\uBAA9\\uC801\\uC5D0 \\uB530\\uB77C \\uB2E4\\uB978 \\uC751\\uB2F5\\uC744 \\uC81C\\uACF5\\uD560 \\uC218 \\uC788\\uACE0 \\uD2B8\\uB798\\uD53D\\uC5D0 \\uB300\\uD55C L4/L7 \\uB85C\\uB4DC\\uBC38\\uB7F0\\uC11C, \\uBCF4\\uC548 \\uC778\\uC99D\\uC11C\\uB97C \\uCC98\\uB9AC\\uD558\\uB294 \\uAE30\\uB2A5\\uC744 \\uC81C\\uACF5\\uD569\\uB2C8\\uB2E4.\"}),(0,e.jsxs)(n.ul,{children:[(0,e.jsx)(n.li,{children:\"Load Balancing\"}),(0,e.jsx)(n.li,{children:\"SSL Termination\"}),(0,e.jsx)(n.li,{children:\"name-based virtual routing\"})]}),(0,e.jsx)(n.p,{children:\"\\uCFE0\\uBC84\\uB124\\uD2F0\\uC2A4\\uC758 Ingress\\uB294 \\uC678\\uBD80\\uC5D0\\uC11C \\uCFE0\\uBC84\\uB124\\uD2F0\\uC2A4 \\uD074\\uB7EC\\uC2A4\\uD130 \\uB0B4\\uBD80\\uB85C \\uB4E4\\uC5B4\\uC624\\uB294 \\uB124\\uD2B8\\uC6CC\\uD06C \\uC694\\uCCAD : \\uC989, Ingress \\uD2B8\\uB798\\uD53D\\uC744 \\uC5B4\\uB5BB\\uAC8C \\uCC98\\uB9AC\\uD560\\uC9C0 \\uC815\\uC758\\uD55C\\uB2E4. \\uC27D\\uAC8C \\uB9D0\\uD558\\uC790\\uBA74, Ingress\\uB294 \\uC678\\uBD80\\uC5D0\\uC11C \\uCFE0\\uBC84\\uB124\\uD2F0\\uC2A4\\uC5D0\\uC11C \\uC2E4\\uD589 \\uC911\\uC778 Deployment\\uC640 Service\\uC5D0 \\uC811\\uADFC\\uD558\\uAE30 \\uC704\\uD55C, \\uC77C\\uC885\\uC758 \\uAD00\\uBB38 (Gateway) \\uAC19\\uC740 \\uC5ED\\uD560\\uC744 \\uB2F4\\uB2F9\\uD55C\\uB2E4. Ingress\\uB97C \\uC0AC\\uC6A9\\uD558\\uC9C0 \\uC54A\\uC558\\uB2E4\\uACE0 \\uAC00\\uC815\\uD588\\uC744 \\uB54C, \\uC678\\uBD80 \\uC694\\uCCAD\\uC744 \\uCC98\\uB9AC\\uD560 \\uC218 \\uC788\\uB294 \\uC120\\uD0DD\\uC9C0\\uB294 NodePort, ExternalIP \\uB4F1\\uC774 \\uC788\\uC744 \\uC218 \\uC788\\uACA0\\uB2E4. \\uADF8\\uB7EC\\uB098 \\uC774\\uB7EC\\uD55C \\uBC29\\uBC95\\uB4E4\\uC740 \\uC77C\\uBC18\\uC801\\uC73C\\uB85C Layer 4 (TCP, UDP) \\uC5D0\\uC11C\\uC758 \\uC694\\uCCAD\\uC744 \\uCC98\\uB9AC\\uD558\\uBA70, \\uB124\\uD2B8\\uC6CC\\uD06C \\uC694\\uCCAD\\uC5D0 \\uB300\\uD55C \\uC138\\uBD80\\uC801\\uC778 \\uCC98\\uB9AC \\uB85C\\uC9C1\\uC744 \\uAD6C\\uD604\\uD558\\uAE30\\uB294 \\uC544\\uBB34\\uB798\\uB3C4 \\uD55C\\uACC4\\uAC00 \\uC788\\uB2E4.\"}),(0,e.jsx)(n.p,{children:\"\\uCFE0\\uBC84\\uB124\\uD2F0\\uC2A4\\uC758 Ingress\\uB294 Layer 7\\uC5D0\\uC11C\\uC758 \\uC694\\uCCAD\\uC744 \\uCC98\\uB9AC\\uD560 \\uC218 \\uC788\\uB2E4.\"}),(0,e.jsx)(n.p,{children:\"\\uC608\\uCEE8\\uB300, \\uC678\\uBD80\\uB85C\\uBD80\\uD130 \\uB4E4\\uC5B4\\uC624\\uB294 \\uC694\\uCCAD\\uC5D0 \\uB300\\uD55C \\uB85C\\uB4DC \\uBC38\\uB7F0\\uC2F1, TLS/SSL \\uC778\\uC99D\\uC11C \\uCC98\\uB9AC, \\uD2B9\\uC815 HTTP \\uACBD\\uB85C\\uC758 \\uB77C\\uC6B0\\uD305 \\uB4F1\\uC744 Ingress\\uB97C \\uD1B5\\uD574 \\uC790\\uC138\\uD558\\uAC8C \\uC815\\uC758\\uD560 \\uC218 \\uC788\\uB2E4.\"}),(0,e.jsx)(n.p,{children:\"\\uBB3C\\uB860, \\uC774\\uB7EC\\uD55C \\uAE30\\uB2A5\\uB4E4\\uC740 \\uC704\\uC5D0\\uC11C \\uC5B8\\uAE09\\uD55C NodePort \\uB4F1\\uC758 \\uBC29\\uBC95\\uC73C\\uB85C\\uB3C4 \\uC808\\uB300\\uB85C \\uBD88\\uAC00\\uB2A5\\uD55C \\uAC83\\uC740 \\uC544\\uB2C8\\uC9C0\\uB9CC, \\uC774\\uB7EC\\uD55C \\uC138\\uBD80\\uC801\\uC778 \\uB85C\\uC9C1\\uC744 \\uBAA8\\uB4E0 \\uC560\\uD50C\\uB9AC\\uCF00\\uC774\\uC158 \\uAC1C\\uBC1C \\uB808\\uBCA8\\uC5D0\\uC11C \\uAC01\\uAC01 \\uAD6C\\uD604\\uD558\\uAC8C \\uB418\\uBA74 \\uC11C\\uBE44\\uC2A4 \\uC6B4\\uC601 \\uCE21\\uBA74\\uC5D0\\uC11C \\uCD94\\uAC00\\uC801\\uC778 \\uBCF5\\uC7A1\\uC131\\uC774 \\uBC1C\\uC0DD\\uD55C\\uB2E4. \\uADF8 \\uB300\\uC2E0\\uC5D0, \\uC678\\uBD80 \\uC694\\uCCAD\\uC744 \\uC5B4\\uB5BB\\uAC8C \\uCC98\\uB9AC\\uD560 \\uAC83\\uC778\\uC9C0\\uB97C \\uC815\\uC758\\uD558\\uB294 \\uC9D1\\uD569\\uC778 Ingress\\uB97C \\uC815\\uC758\\uD55C \\uB4A4, \\uC774\\uB97C Ingress Controller\\uB77C\\uACE0 \\uBD80\\uB974\\uB294 \\uD2B9\\uBCC4\\uD55C \\uC6F9 \\uC11C\\uBC84\\uC5D0 \\uC801\\uC6A9\\uD568\\uC73C\\uB85C\\uC368 \\uCD94\\uC0C1\\uD654\\uB41C \\uB2E8\\uACC4\\uC5D0\\uC11C \\uC11C\\uBE44\\uC2A4 \\uCC98\\uB9AC \\uB85C\\uC9C1\\uC744 \\uC815\\uC758\\uD560 \\uC218 \\uC788\\uB2E4.\"}),(0,e.jsx)(n.p,{children:\"\\uCFE0\\uBC84\\uB124\\uD2F0\\uC2A4\\uC5D0\\uC11C Ingress\\uB97C \\uC0AC\\uC6A9\\uD558\\uAE30 \\uC704\\uD574\\uC11C\\uB294 \\uB450 \\uAC00\\uC9C0\\uAC00 \\uD544\\uC694\\uD558\\uB2E4. \\uCCAB \\uBC88\\uC9F8\\uB294 YAML \\uD30C\\uC77C\\uC5D0\\uC11C [kind: Ingress] \\uB85C \\uC815\\uC758\\uB418\\uB294 Ingress \\uC624\\uBE0C\\uC81D\\uD2B8\\uC774\\uACE0, \\uB450 \\uBC88\\uC9F8\\uB294 Ingress \\uADDC\\uCE59\\uC774 \\uC801\\uC6A9\\uB420 Ingress Controller \\uC774\\uB2E4.\"}),(0,e.jsx)(n.p,{children:\"Ingress\\uB294 \\uB2E8\\uC9C0 Ingress \\uADDC\\uCE59\\uC744 \\uC815\\uC758\\uD558\\uB294 \\uC120\\uC5B8\\uC801\\uC778 \\uC624\\uBE0C\\uC81D\\uD2B8\\uC77C \\uBFD0, \\uC678\\uBD80 \\uC694\\uCCAD\\uC744 \\uBC1B\\uC544\\uB4E4\\uC774\\uB294 \\uC2E4\\uC81C \\uC11C\\uBC84\\uAC00 \\uC544\\uB2C8\\uB2E4. Ingress\\uB294 Ingress Controller\\uB77C\\uACE0 \\uD558\\uB294 \\uD2B9\\uC218\\uD55C \\uC11C\\uBC84 \\uCEE8\\uD14C\\uC774\\uB108\\uC5D0 \\uC801\\uC6A9\\uB418\\uC5B4\\uC57C\\uB9CC Ingress\\uC5D0 \\uC801\\uC6A9\\uB41C \\uADDC\\uCE59\\uC774 \\uD65C\\uC131\\uD654\\uB41C\\uB2E4. \\uC989, Ingress Controller\\uAC00 \\uC678\\uBD80\\uB85C\\uBD80\\uD130 \\uB124\\uD2B8\\uC6CC\\uD06C \\uC694\\uCCAD\\uC744 \\uC218\\uC2E0\\uD588\\uC744 \\uB54C, Ingress \\uADDC\\uCE59\\uC5D0 \\uAE30\\uBC18\\uD574 \\uC774 \\uC694\\uCCAD\\uC744 \\uC5B4\\uB5BB\\uAC8C \\uCC98\\uB9AC\\uD560\\uC9C0\\uB97C \\uACB0\\uC815\\uD55C\\uB2E4.\"}),(0,e.jsxs)(n.h3,{id:\"ingress\",children:[(0,e.jsx)(n.a,{href:\"#ingress\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Ingress\"]}),(0,e.jsx)(n.p,{children:\"\\uC778\\uADF8\\uB808\\uC2A4\\uB294 \\uD074\\uB7EC\\uC2A4\\uD130 \\uC678\\uBD80\\uB85C\\uBD80\\uD130 \\uD074\\uB7EC\\uC2A4\\uD130 \\uB0B4\\uBD80\\uB85C \\uC9C4\\uC785\\uD558\\uB294\"}),(0,e.jsx)(n.p,{children:\"HTTP\\uC640 HTTPS route\\uB97C expose \\uD55C\\uB2E4. \\uD2B8\\uB798\\uD53D\\uC758 \\uB77C\\uC6B0\\uD305\\uC740 Ingress resource\\uC5D0 \\uC815\\uC758\\uD55C \\uADDC\\uCE59(Rule)\\uC744 \\uAE30\\uBC18\\uC73C\\uB85C \\uD1B5\\uC81C\\uB41C\\uB2E4.\"}),(0,e.jsx)(\"img\",{src:\"/static/images/k8smanifest/ingress.svg\",title:\"ingress\"}),(0,e.jsx)(n.p,{children:\"\\uC774 \\uADF8\\uB9BC\\uC774 Ingress\\uC758 \\uC704\\uCE58\\uB97C \\uBCF4\\uC5EC\\uC900\\uB2E4.\"}),(0,e.jsx)(n.p,{children:\"Ingress Manifest\\uB294 \\uC8FC\\uB85C \\uD2B8\\uB798\\uD53D\\uC758 \\uC5B4\\uB514\\uB85C \\uC6C0\\uC9C1\\uC5EC\\uC57C \\uB418\\uB294\\uC9C0\\uC5D0 \\uC815\\uCC45\\uC5D0 \\uAD00\\uD55C \\uAC83\\uC744 \\uC81C\\uC5B4\\uD55C\\uB2E4. \\uADF8\\uB7EC\\uB098 \\uD2B9\\uC815 \\uD3EC\\uD2B8\\uB098 \\uD504\\uB85C\\uD1A0\\uCF5C\\uC744 expose\\uD558\\uC9C0\\uB294 \\uC54A\\uB294\\uB2E4.\"}),(0,e.jsx)(n.p,{children:\"\\uADF8 \\uAE30\\uB2A5\\uC740 Ingress-Controller\\uC5D0 \\uC704\\uC784\\uD55C\\uB2E4. Ingress-Controller\\uB294 NodePort \\uD639\\uC740 LoadBalancer \\uD0C0\\uC785\\uC758 Service \\uB9AC\\uC18C\\uC2A4\\uC774\\uB2E4.\"}),(0,e.jsx)(n.p,{children:\"Ingress Controller\\uB294 \\uB2E4\\uC591\\uD55C vendor\\uB4E4\\uC5D0 \\uC758\\uD574 \\uC0DD\\uC131\\uB418\\uC5B4 \\uC0AC\\uC6A9\\uB41C\\uB2E4. \\uB300\\uD45C\\uC801\\uC73C\\uB85C AWS\\uC758 Elastic Load Balancer\\uB97C \\uC704\\uD55C IC, GCP\\uC758 GLBC\\uAC00 \\uC788\\uC73C\\uBA70, \\uC77C\\uBC18\\uC801\\uC73C\\uB85C on-premise\\uC5D0\\uC11C\\uB294 nginx IC\\uAC00 \\uC0AC\\uC6A9\\uB41C\\uB2E4.\"}),(0,e.jsxs)(n.p,{children:[\"\\uC544\\uB798\\uB294 \\uAC00\\uC7A5 \\uCD5C\\uC18C\\uD55C\\uC758 \\uC778\\uADF8\\uB808\\uC2A4 \\uB9E4\\uB2C8\\uD398\\uC2A4\\uD2B8 \\uC120\\uC5B8\\uC774\\uB2E4. /testpath\\uB85C \\uB4E4\\uC5B4\\uC624\\uB294 \\uD2B8\\uB798\\uD53D\\uC744 \",(0,e.jsx)(n.strong,{children:\"test\"}),\" Service\\uB85C \\uB77C\\uC6B0\\uD305\\uD55C\\uB2E4. \\uB610\\uD55C \\uADF8 ingress-controller\\uB294 \",(0,e.jsx)(n.strong,{children:\"nginx-example\"}),\" \\uC774\\uB2E4.\"]}),(0,e.jsx)(n.pre,{className:\"language-yaml\",children:(0,e.jsxs)(n.code,{className:\"language-yaml code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"apiVersion\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` networking.k8s.io/v1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"kind\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` Ingress\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"metadata\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" minimal\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`ingress\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"annotations\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"nginx.ingress.kubernetes.io/rewrite-target\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` /\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"spec\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"ingressClassName\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" nginx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`example\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"rules\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"http\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"paths\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"path\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` /testpath\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"pathType\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` Prefix\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"backend\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"              \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"service\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` test\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"port\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"number\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"80\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"\\uC880 \\uB354 \\uB77C\\uC6B0\\uD2B8\\uAC00 \\uCD94\\uAC00\\uB41C \\uC608\\uC81C\\uB294 manifests_example 04\\uBC88\\uC744 \\uCC38\\uC870\\uD55C\\uB2E4.\"}),(0,e.jsx)(n.p,{children:\"MyUnderstanding:(using L2 mode)\"}),(0,e.jsxs)(n.ol,{children:[(0,e.jsx)(n.li,{children:\"MetalLB Controller\\uB294 Deployment\\uB85C \\uC778\\uC2A4\\uD134\\uC2A4\\uD654 \\uB418\\uBA70, \\uC0AC\\uC6A9\\uC790\\uAC00 manifest\\uC5D0 \\uD560\\uB2F9\\uD55C \\uC678\\uBD80 IP address(public) \\uBC94\\uC704\\uC758 \\uC8FC\\uC18C\\uB97C k8s \\uD074\\uB7EC\\uC2A4\\uD130 \\uB0B4\\uBD80\\uC758 \\uC11C\\uBE44\\uC2A4(NodePort \\uB4F1)\\uC5D0 \\uD560\\uB2F9\\uD558\\uB294 \\uCC45\\uC784\\uC744 \\uAC16\\uB294\\uB2E4.\"}),(0,e.jsx)(n.li,{children:\"MetalLB Speaker\\uB294 DaemonSet\\uC73C\\uB85C \\uAC01 \\uD074\\uB7EC\\uC2A4\\uD130\\uC758 \\uAC01 \\uB178\\uB4DC\\uC5D0 1\\uAC1C\\uC529 \\uC0DD\\uC131\\uB418\\uC5B4 \\uB9AC\\uB354\\uB97C \\uC120\\uCD9C\\uD558\\uACE0, \\uB9AC\\uB354\\uAC00 hosted network\\uC640 ARP\\uB97C \\uC0AC\\uC6A9\\uD574(k8s \\uB124\\uD2B8\\uC6CC\\uD06C\\uAC00 \\uC544\\uB2CC) \\uC9C1\\uC811 \\uD1B5\\uC2E0\\uD560 \\uC218 \\uC788\\uACE0, \\uC774 \\uB2A5\\uB825\\uC744 \\uC774\\uC6A9\\uD574 \\uAC01 \\uB178\\uB4DC\\uC5D0 \\uC788\\uB294 k8s Service\\uC640 ClusterIP\\uB97C \\uD1B5\\uD574 \\uC5F0\\uACB0\\uD55C\\uB2E4.\"})]}),(0,e.jsxs)(n.table,{children:[(0,e.jsx)(n.thead,{children:(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.th,{children:\"\\uC778\\uADF8\\uB808\\uC2A4 \\uC885\\uB958\"}),(0,e.jsx)(n.th,{children:\"\\uAD6C\\uD604 \\uC608\\uC81C\"})]})}),(0,e.jsxs)(n.tbody,{children:[(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"\\uD074\\uB7EC\\uC2A4\\uD130 \\uC678\\uBD80 \\uB85C\\uB4DC\\uBC38\\uB7F0\\uC11C\\uB97C \\uC0AC\\uC6A9\\uD55C \\uC778\\uADF8\\uB808\\uC2A4\"}),(0,e.jsx)(n.td,{children:\"GKE\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"\\uD074\\uB7EC\\uC2A4\\uD130 \\uB0B4\\uBD80\\uC5D0 \\uC778\\uADF8\\uB808\\uC2A4\\uC6A9 \\uD30C\\uB4DC\\uB97C \\uBC30\\uD3EC\\uD558\\uB294 \\uC778\\uADF8\\uB808\\uC2A4\"}),(0,e.jsx)(n.td,{children:\"Nginx \\uC778\\uADF8\\uB808\\uC2A4\"})]})]})]}),(0,e.jsx)(\"hr\",{}),(0,e.jsxs)(n.h1,{id:\"perfect-guide-ingress-example\",children:[(0,e.jsx)(n.a,{href:\"#perfect-guide-ingress-example\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"perfect guide ingress example\"]}),(0,e.jsx)(n.p,{children:\"\\uC778\\uADF8\\uB808\\uC2A4\\uC5D0\\uC11C \\uC0AC\\uC6A9\\uD560 \\uC11C\\uBE44\\uC2A4 \\uBC31\\uC5D4\\uB4DC \\uC0DD\\uC131\"}),(0,e.jsx)(n.pre,{className:\"language-yaml\",children:(0,e.jsxs)(n.code,{className:\"language-yaml code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"---\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"apiVersion\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` v1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"kind\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` Service\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"metadata\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" sample\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"ingress\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"svc\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"spec\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"type\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` NodePort\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"ports\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'http-port'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"protocol\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'TCP'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"port\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"8888\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"targetPort\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"80\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"selector\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"ingress-app\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` sample1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"---\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"apiVersion\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` v1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"kind\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` Pod\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"metadata\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" sample\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"ingress\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"apps\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"labels\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"ingress-app\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` sample1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"spec\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"containers\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" nginx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`container\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"image\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" nginx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1.12\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"ports\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"containerPort\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"80\"}),`\n`]})]})}),(0,e.jsx)(\"hr\",{}),(0,e.jsx)(n.pre,{className:\"language-yaml\",children:(0,e.jsxs)(n.code,{className:\"language-yaml code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"---\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"apiVersion\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` v1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"kind\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` Service\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"metadata\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" sample\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"ingress\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"svc\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"2\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"spec\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"type\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` NodePort\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"ports\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'http-port'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"protocol\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'TCP'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"port\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"8888\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"targetPort\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"80\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"selector\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"ingress-app\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` sample2\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"---\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"apiVersion\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` v1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"kind\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` Pod\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"metadata\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" sample\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"ingress\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"apps\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"2\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"labels\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"ingress-app\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` sample2\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"spec\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"containers\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" nginx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`container\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"image\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" nginx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1.12\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"ports\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"containerPort\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"80\"}),`\n`]})]})}),(0,e.jsx)(\"hr\",{}),(0,e.jsx)(n.pre,{className:\"language-yaml\",children:(0,e.jsxs)(n.code,{className:\"language-yaml code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"---\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"apiVersion\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` v1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"kind\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` Service\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"metadata\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" sample\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"ingress\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`default\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"spec\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"type\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` NodePort\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"ports\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'http-port'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"protocol\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'TCP'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"port\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"8888\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"targetPort\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"80\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"selector\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"ingress-app\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` default\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"---\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"apiVersion\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` v1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"kind\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` Pod\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"metadata\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" sample\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"ingress\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`default\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"labels\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"ingress-app\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` default\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"spec\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"containers\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" nginx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`container\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"image\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" nginx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1.12\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"ports\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"containerPort\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"80\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"\\uC778\\uADF8\\uB808\\uC2A4\\uC5D0\\uC11C https \\uB97C \\uC0AC\\uC6A9\\uD558\\uB294 \\uACBD\\uC6B0 \\uC0AC\\uC804\\uC5D0 \\uC778\\uC99D\\uC11C\\uB97C Secret \\uB9AC\\uC18C\\uC2A4\\uB85C \\uC0DD\\uC131\\uD574\\uC57C \\uD55C\\uB2E4.\"}),(0,e.jsx)(n.pre,{className:\"language-bash\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-bash\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"openssl req -x509 -nodes -days \",(0,e.jsx)(n.span,{className:\"token number\",children:\"365\"}),\" -newkey rsa:2048 \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\\\\\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"-keyout ~/tls.key -out ~/tls.crt -subj \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"/CN=sample.example.com\"'}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`kubectl create secret tls --save-config tls-sample --key ~/tls.key --cert ~/tls.crt\n`})]})}),(0,e.jsx)(n.p,{children:\"\\uC778\\uC99D\\uC11C\\uB97C \\uB9CC\\uB4E4\\uAE30 \\uC5B4\\uB824\\uC6B4 \\uACBD\\uC6B0 \\uC774\\uBBF8 \\uC900\\uBE44\\uB41C secret\\uC744 \\uC0AC\\uC6A9\\uD560 \\uC218 \\uC788\\uB2E4.\"}),(0,e.jsx)(n.pre,{className:\"language-yaml\",children:(0,e.jsxs)(n.code,{className:\"language-yaml code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"apiVersion\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` v1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"data\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"tls.crt\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN0akNDQVo0Q0NRQ3paZEc2aEFKRGtEQU5CZ2txaGtpRzl3MEJBUXNGQURBZE1Sc3dHUVlEVlFRRERCSnoKWVcxd2JHVXVaWGhoYlhCc1pTNWpiMjB3SGhjTk1Ua3dOakl4TURjMU16QXdXaGNOTWpBd05qSXdNRGMxTXpBdwpXakFkTVJzd0dRWURWUVFEREJKellXMXdiR1V1WlhoaGJYQnNaUzVqYjIwd2dnRWlNQTBHQ1NxR1NJYjNEUUVCCkFRVUFBNElCRHdBd2dnRUtBb0lCQVFDODYreTVhaUFZZG9ueGVhZTNMUEN5SUQvN3VPTi9QaGl6ejVscVFMTDQKanI1Rm9hTnZMdzdTTUt3aXRXUFBaOEExU3lzZk5SNGZkd2x1NWRXQUNmQnN1TU0zeWpEdjVhWC9Xait1bXNTawpDY2dQMVk3UEdNVEVsN1BwQVNxTWJnTi9YdkpLV1RtblF0aGIyWTRSZFg3Zlk2bmZrTUhwNGdmK0UySDdZaS94CjVEOFB0RldnMXN2THZkbnFrVU12eVRlOXlBOXY0U0VrSE5kYUJtdm5HblpDSCtqV0xCcTBZRUVnY1dnU200bU8KdzRlR0VhN0JMRHVWM0lSaWpwZk5ZeENnZlRPcytQUmEzdytxa1NoK3ArQS9ENXJXZmZsR0xtWENqUUhpZkhPdwpUTm5OaWJKUEtObHdOWkZUUWIzQXNvMXF0bGp2NDdwOVFiSHg5bng3UVk4SEFnTUJBQUV3RFFZSktvWklodmNOCkFRRUxCUUFEZ2dFQkFFRStnS0NwazJ6eW93R1FDQXJZV0VnMmdBQUVkQXlGYS9rTWt0RDhyZUxlNDBiQ0Y5VmwKWmhMN3hWRWtGbkpvSU45aE9LOGx1Y1BReWtXU2t6NzFZbmJKWUpUTmc3TXlVc1hjbzZ2UmE1cEM0S2tKbE9qVQpaaTFEZ0U5N0N3bFV3NVdrMFIxNEM1Z1pXR2pzZlVkWXliZWVMUExPbG1xNElnc0FoR0M0QzBBUE4rbmEyYlUzCjE0MVM2MjQrcUwveDVTd2F0dFpEM2U1NDNBdmpyRFZVc1M4ZUpGRHphQmV2bWc1S1ZKQURKM0xiS05pQ0tsTkoKVlpNdU1UaW4yVVoxR2JZUFEwaUNzRUQ4ekpKdkwxSHpTcVp1RC8wNlVWUzNSN2IrOEgrRFNCVnphMGQ5dTZKNwpJNG11SVNSdlFTdDJkeVdhV2Z4VUcyTnFJMm41amZ3bjZwaz0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"tls.key\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUV2d0lCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQktrd2dnU2xBZ0VBQW9JQkFRQzg2K3k1YWlBWWRvbngKZWFlM0xQQ3lJRC83dU9OL1BoaXp6NWxxUUxMNGpyNUZvYU52THc3U01Ld2l0V1BQWjhBMVN5c2ZOUjRmZHdsdQo1ZFdBQ2ZCc3VNTTN5akR2NWFYL1dqK3Vtc1NrQ2NnUDFZN1BHTVRFbDdQcEFTcU1iZ04vWHZKS1dUbW5RdGhiCjJZNFJkWDdmWTZuZmtNSHA0Z2YrRTJIN1lpL3g1RDhQdEZXZzFzdkx2ZG5xa1VNdnlUZTl5QTl2NFNFa0hOZGEKQm12bkduWkNIK2pXTEJxMFlFRWdjV2dTbTRtT3c0ZUdFYTdCTER1VjNJUmlqcGZOWXhDZ2ZUT3MrUFJhM3crcQprU2grcCtBL0Q1cldmZmxHTG1YQ2pRSGlmSE93VE5uTmliSlBLTmx3TlpGVFFiM0FzbzFxdGxqdjQ3cDlRYkh4CjlueDdRWThIQWdNQkFBRUNnZ0VBS2txcU9LdWdPYm0za1o0SlJJRkQ5S3d4aHBsU0hEYjdjcTFEaTd5bUUreG8KZmMvOGRUUlVuZ3NWVGNQTGJ5K3JvSUtPU2JNclppSFFzOG14ckxNTTVsbktJZUFhYW1tL2FsVjZzZ3lsZm85TwpBUFZ1dmIrdXRNKzlENmthTEV1b2JzZ0RkMDlZRDdCd0hNZXIvUTZQYzFTdFA0WDVVdkV0bHR3aDhCTi81aWN1ClFtTEZuemUyeTZ2TzFHVzdCQzAzVmxJSTNkTDZoRTF1UVFtTnA3eDRhekUzU2RvRzFSbVVDZWhXRUNzZG5DZmkKU2ZHYzBGY3BwdlBSMm5USVdJZ014Um5odkp5QjVHNHpjdFVOSkV0elEzRGFQZXk0NHpKZ21PbzNBMEIzQVFjNQpzVUlrWlJERmFpc296eE5KU3ZxUDRELzZrUGFBaUpsdW1XeFJKbmJGS1FLQmdRRDFtL1VwTEhuZEZDYXhzUmk5Cm1GMFRka29IRm9FL0hxcUlXVUZ0Vk1QN25obzNJclkzcWd0aUZSYmoyWnJSN2dtQzZqY1FPVWgxMzFISmN4c20KcHd0OWJ6Q3d4MnU3UVdLLzhzc1BCdWNzZGlVWUtjOWtBYnZ4aTVQb3l2bTQyRzVNQy9qL0dTa3NuWmdSWmwrRgpwZmVxUHFwZC8vVFhya2FKUnQzOGJMN1VMUUtCZ1FERTZnU29NRGVnSGszeXZSQjJ3dG1UU0cyWGp3aThGTlo1CjBNM3ppZDltMTI4OHM2RW1RTkdkVWt2WGtkRXI3Rnh5VldVakFlVnlsUWZsNkl3ZWJ5YkgvZVluOFIzSVRzcTIKcjZhdzU2NGswdW1iempobTBZbkprbkl1TzN1a0ZLUStKTUFkdCtnVE8vYnlGN1ByWkd2Y2xGZ21aNW1STnFHTgpnc29BdTNoc2d3S0JnUURINXlqeVd5WFF2OThDajI3Z21jdGYxTTVKMkpKWHFvRUlPd1ZhbER4elptcFY1K1hCCmhxQi9NMFVQTElTclN2L28wdk1BUEc5eXFOSHJrY2xPZTNXSm9WOVM4dTBIV3graHRWNTZtNWE2aEdxS3NUVUEKWTd6eHl6WVdxbVg0Z2dlNzA1N1ZHa2g5N01MaG5wNHVyRGZaRStvY1dnQ1JMMkp2eHdOVXViblQvUUtCZ1FDVwpISEFBWndHQXBwbDFlbnVhalYrZno0NzhBcVg5KzBTbENIQjRQNXAybzdUQTZZN253bklKSkR0ODBrUkszNXg1CjdHOTFDSFVKckdLZytXNFhwVlJERVdMcS8veGNQdlI1MzkySzdwTHFyMzQyc0RaKzZ5M0c1RVQyeVpHdnU2eVoKVXhyQmpQajE4TGlJUlZsN0VNckpGSzArV2F2UDczMm9peFBEQ3liNlVRS0JnUURFU1VyRlM0UzNoYUpKVHcvdgoxWjBSVjRpUDB5ZmFsVVo2UEhtR3lweVF5NTBEU1B6MWtrb0ZFY1pWS1RCdTMzK1dJMkpwZDdScEl0TDc1WnZLCnlFT21xd0FoTFRSUjdrUW5PZDVFZXFNUit3T1ZkSHV1UDF2T3ZYN21BNFdNVmRWRVpVVFBMY2QvcGhEd2lIQ3UKRjBOcFNsb3g3dkFXdk5tV25uVXgxOFJmTUE9PQotLS0tLUVORCBQUklWQVRFIEtFWS0tLS0tCg==\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"kind\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` Secret\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"metadata\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" tls\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`sample\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"namespace\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` default\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"type\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` kubernetes.io/tls\n`]})]})}),(0,e.jsx)(n.p,{children:\"\\uC77C\\uBD80 Managed K8S \\uC11C\\uBE44\\uC2A4\\uC5D0\\uC11C\\uB294 \\uAD00\\uB9AC\\uB418\\uB294 \\uC778\\uC99D\\uC11C\\uB97C annotation\\uC73C\\uB85C \\uC9C0\\uC815\\uD560 \\uC218 \\uC788\\uB2E4.\"}),(0,e.jsx)(n.p,{children:\"\\uC77C\\uBC18\\uC801\\uC73C\\uB85C http \\uACBD\\uB85C -\u003e backend service \\uD615\\uD0DC\\uC758 \\uC30D\\uC73C\\uB85C rule\\uB97C \\uC124\\uC815\\uD558\\uC9C0\\uB9CC \\uD558\\uB098\\uC758 IP \\uC8FC\\uC18C\\uC5D0\\uC11C \\uC5EC\\uB7EC \\uD638\\uC2A4\\uD2B8\\uBA85\\uC744 \\uCC98\\uB9AC\\uD560 \\uC218\\uB3C4 \\uC788\\uB2E4.\"}),(0,e.jsx)(n.p,{children:'\"spec.rules[].http.paths[].backend.servicePort\"\\uC5D0 \\uC124\\uC815\\uD560 \\uD3EC\\uD2B8 \\uBC88\\uD638\\uB294 \\uC5F0\\uACB0\\uD560 Service \\uB9AC\\uC18C\\uC2A4\\uC758 spec.ports[].port\\uB97C \\uC9C0\\uC815\\uD55C\\uB2E4.'}),(0,e.jsx)(n.pre,{className:\"language-yaml\",children:(0,e.jsxs)(n.code,{className:\"language-yaml code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"apiVersion\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` networking.k8s.io/v1beta1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"kind\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` Ingress\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"metadata\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" sample\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"ingress\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"by\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`nginx\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"annotations\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"kubernetes.io/ingress.class\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` nginx\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"nginx.ingress.kubernetes.io/ssl-redirect\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'false'\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"#\\uAE30\\uBCF8\\uAC12\\uC73C\\uB85C nginx ingress\\uB294 http \\uC694\\uCCAD\\uC744 https\\uB85C redirect \\uD558\\uB294 \\uAC83\\uC744 \\uBE44\\uD65C\\uC131\\uD654\\uD55C\\uB2E4.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"spec\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"rules\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"host\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` sample.example.com\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"http\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"paths\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"path\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` /path1/\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"backend\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"              \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"serviceName\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" sample\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"ingress\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"svc\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"              \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"servicePort\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"8888\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"path\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` /path2/\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"backend\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"              \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"serviceName\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" sample\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"ingress\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"svc\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"2\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"              \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"servicePort\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"8888\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# spec.rules.http.paths\\uC5D0 \\uC18D\\uD558\\uC9C0 \\uC54A\\uB294 \\uAC83\\uC740 default \\uC11C\\uBE44\\uC2A4\\uAC00 \\uCC98\\uB9AC\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"backend\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"serviceName\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" sample\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"ingress\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`default\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"servicePort\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"8888\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"tls\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"hosts\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),` sample.example.com\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"secretName\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" tls\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`sample\n`]})]})}),(0,e.jsx)(n.p,{children:\"nginx \\uC778\\uADF8\\uB808\\uC2A4\\uB97C \\uC0AC\\uC6A9\\uD558\\uB294 \\uACBD\\uC6B0 ingress-controller Deployment\\uC758 LoadBalancer \\uC8FC\\uC18C\\uAC00 Ingress\\uC5D0\\uB3C4 \\uB4F1\\uB85D\\uB41C\\uB2E4.\"}),(0,e.jsx)(n.pre,{className:\"language-bash\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-bash\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# L7 \\uB85C\\uB4DC\\uBC38\\uB7F0\\uC11C\\uC758 \\uAC00\\uC0C1 IP\\uB97C \\uD658\\uACBD\\uBCC0\\uC218\\uB85C \\uC800\\uC7A5\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token variable assign-left\",children:\"INGRESS_IP\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsxs)(n.span,{className:\"token variable\",children:[(0,e.jsx)(n.span,{className:\"token variable\",children:\"`\"}),\"kubectl get ingress sample-ingress-by-nginx -o \",(0,e.jsx)(n.span,{className:\"token variable assign-left\",children:\"jsonpath\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'{.status.loadBalancer.ingress[0].ip}'\"}),(0,e.jsx)(n.span,{className:\"token variable\",children:\"`\"})]}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# \\uC778\\uADF8\\uB808\\uC2A4 \\uB9AC\\uC18C\\uC2A4 \\uACBD\\uC720\\uC758 HTTP \\uC694\\uCCAD(/path1/* \u003e sample-ingress-svc-1 )\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"curl\"}),\" http://\",(0,e.jsx)(n.span,{className:\"token variable\",children:\"${INGRESS_IP}\"}),\"/path1/ -H \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"Host: sample.example.com\"'}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# \\uC778\\uADF8\\uB808\\uC2A4 \\uB9AC\\uC18C\\uC2A4 \\uACBD\\uC720\\uC758 HTTP \\uC694\\uCCAD(/path2/* \u003e sample-ingress-svc-2 )\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"curl\"}),\" http://\",(0,e.jsx)(n.span,{className:\"token variable\",children:\"${INGRESS_IP}\"}),\"/path2/ -H \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"Host: sample.example.com\"'}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# \\uC778\\uADF8\\uB808\\uC2A4 \\uB9AC\\uC18C\\uC2A4 \\uACBD\\uC720\\uC758 HTTP \\uC694\\uCCAD(/* \u003e sample-ingress-default )\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"curl\"}),\" http://\",(0,e.jsx)(n.span,{className:\"token variable\",children:\"${INGRESS_IP}\"}),\"/ -H \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"Host: sample.example.com\"'}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# \\uC778\\uADF8\\uB808\\uC2A4 \\uB9AC\\uC18C\\uC2A4 \\uACBD\\uC720\\uC758 HTTPS \\uC694\\uCCAD\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"curl\"}),\" http://\",(0,e.jsx)(n.span,{className:\"token variable\",children:\"${INGRESS_IP}\"}),\"/path1/ -H \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"Host: sample.example.com\"'}),` --insecure\n`]})]})}),(0,e.jsxs)(n.h3,{id:\"ingressclass\\uC5D0-\\uC758\\uD55C-ingress-\\uBD84\\uB9AC\",children:[(0,e.jsx)(n.a,{href:\"#ingressclass\\uC5D0-\\uC758\\uD55C-ingress-\\uBD84\\uB9AC\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"IngressClass\\uC5D0 \\uC758\\uD55C Ingress \\uBD84\\uB9AC\"]}),(0,e.jsx)(n.p,{children:\"\\uC704\\uC758 \\uC778\\uADF8\\uB808\\uC2A4 \\uCEE8\\uD2B8\\uB864\\uB7EC\\uB294 \\uD074\\uB7EC\\uC2A4\\uD130\\uC758 \\uBAA8\\uB4E0 \\uB9AC\\uC18C\\uC2A4\\uB97C \\uBCFC \\uC218 \\uC788\\uC5B4 \\uCDA9\\uB3CC\\uC774 \\uBC1C\\uC0DD\\uD560 \\uAC00\\uB2A5\\uC131\\uC774 \\uC788\\uB2E4. \\uC774\\uB7F0 \\uACBD\\uC6B0 IngressClass\\uB85C \\uCC98\\uB9AC \\uB300\\uC0C1\\uC758 Ingress \\uB9AC\\uC18C\\uC2A4\\uB97C \\uBD84\\uB9AC\\uD560 \\uC218 \\uC788\\uB2E4.\"}),(0,e.jsxs)(n.ol,{children:[(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.p,{children:\"nginx ingress controller \\uAE30\\uB3D9 \\uC2DC --ingress-class \\uC635\\uC158\\uC744 \\uC804\\uB2EC\"}),(0,e.jsx)(n.ul,{children:(0,e.jsx)(n.li,{children:\"/nginx-ingress-controller --ingress-class=system_a..\"})})]}),(0,e.jsx)(n.li,{children:(0,e.jsx)(n.p,{children:\"Ingress \\uB9AC\\uC18C\\uC2A4\\uC5D0 annotation \\uC9C0\\uC815\"})})]}),(0,e.jsx)(n.pre,{className:\"language-yaml\",children:(0,e.jsxs)(n.code,{className:\"language-yaml code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"#ingress controller \\uAC00 class\\uB97C \\uBCF4\\uACE0 nodePort svc_a\\uB85C \\uB77C\\uC6B0\\uD305\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"apiVersion\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` networking.k8s.io/v1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"kind\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` Ingress\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"metadata\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" ingress\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`a\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"annotations\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"kubernetes.io/ingress.class\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'system_a'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"spec\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"ingressClassName\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" nginx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`example\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"rules\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"http\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"paths\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"path\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` /path1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"pathType\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` Prefix\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"backend\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"              \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"service\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` svc_a\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"port\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"number\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"80\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"---\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"#ingress controller \\uAC00 class\\uB97C \\uBCF4\\uACE0 nodePort svc_b\\uB85C \\uB77C\\uC6B0\\uD305\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"apiVersion\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` networking.k8s.io/v1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"kind\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` Ingress\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"metadata\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" ingress\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`b\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"annotations\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"kubernetes.io/ingress.class\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'system_b'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"spec\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"ingressClassName\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" nginx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`example\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"rules\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"http\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"paths\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"path\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` /path2\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"pathType\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` Prefix\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"backend\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"              \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"service\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` svc_b\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"port\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"number\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"80\"}),`\n`]})]})})]})}}var V=U;return b;})();\n;return Component;","toc":[{"value":"Ingress 리소스의 필요성","url":"#ingress-리소스의-필요성","depth":2},{"value":"Ingress","url":"#ingress","depth":3},{"value":"perfect guide ingress example","url":"#perfect-guide-ingress-example","depth":1},{"value":"IngressClass에 의한 Ingress 분리","url":"#ingressclass에-의한-ingress-분리","depth":3}],"frontMatter":{"readingTime":{"text":"10 min read","minutes":9.765,"time":585900,"words":1953},"slug":"k8s_manifest-Ingress","fileName":"k8s_manifest-Ingress.mdx","title":"K8S manifest - Ingress ","date":"2023-05-16T03:03:00.000Z","lastmod":"2023-05-16","tags":["kubernetes"],"draft":false,"summary":"","layout":"PostSimple"}},"authorDetails":[{"readingTime":{"text":"1 min read","minutes":0.155,"time":9300,"words":31},"slug":["default"],"fileName":"default.md","name":"demian11k","avatar":"/static/images/avatar.png","email":"demian11k@gmail.com","github":"https://github.com/demian9k","date":null}],"prev":{"title":"K8S manifest - ReplicaSet","date":"2023-05-16T03:03:00.000Z","lastmod":"2023-05-16","tags":["kubernetes"],"draft":false,"summary":"","layout":"PostSimple","slug":"k8s_manifest-ReplicaSet"},"next":{"title":"K8S manifest - HPA","date":"2023-05-16T03:03:00.000Z","lastmod":"2023-05-16","tags":["kubernetes"],"draft":false,"summary":"","layout":"PostSimple","slug":"k8s_manifest-HPA"}},"__N_SSG":true},"page":"/blog/[...slug]","query":{"slug":["k8s_manifest-Ingress"]},"buildId":"R1cpZtUWE2mFLIblfb-kJ","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>