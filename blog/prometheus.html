<!DOCTYPE html><html lang="en" class="scroll-smooth"><head><meta charSet="utf-8"/><script>!function(){try {var d=document.documentElement.classList;d.remove('light','dark');var e=localStorage.getItem('theme');if("system"===e||(!e&&true)){var t="(prefers-color-scheme: dark)",m=window.matchMedia(t);m.media!==t||m.matches?d.add('dark'):d.add('light')}else if(e) d.add(e)}catch(e){}}()</script><meta content="width=device-width, initial-scale=1" name="viewport"/><title>prometheus</title><meta name="robots" content="follow, index"/><meta name="description" content=""/><meta property="og:url" content="https://demian9k.github.io/blog/prometheus"/><meta property="og:type" content="article"/><meta property="og:site_name" content="demian11k studylog"/><meta property="og:description" content=""/><meta property="og:title" content="prometheus"/><meta property="og:image" content="https://demian9k.github.io/static/images/twitter-card.png"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site"/><meta name="twitter:title" content="prometheus"/><meta name="twitter:description" content=""/><meta name="twitter:image" content="https://demian9k.github.io/static/images/twitter-card.png"/><link rel="canonical" href="https://demian9k.github.io/blog/prometheus"/><meta property="article:published_time" content="2023-05-30T03:03:00.000Z"/><meta property="article:modified_time" content="2023-05-30T00:00:00.000Z"/><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "Article",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://demian9k.github.io/blog/prometheus"
  },
  "headline": "prometheus",
  "image": [
    {
      "@type": "ImageObject",
      "url": "https://demian9k.github.io/static/images/twitter-card.png"
    }
  ],
  "datePublished": "2023-05-30T03:03:00.000Z",
  "dateModified": "2023-05-30T00:00:00.000Z",
  "author": {
    "@type": "Person",
    "name": "demian11k"
  },
  "publisher": {
    "@type": "Organization",
    "name": "demian11k",
    "logo": {
      "@type": "ImageObject",
      "url": "https://demian9k.github.io/static/images/logo.png"
    }
  },
  "description": ""
}</script><meta name="next-head-count" content="21"/><link rel="apple-touch-icon" sizes="76x76" href="/static/favicons/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/static/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/static/favicons/favicon-16x16.png"/><link rel="manifest" href="/static/favicons/site.webmanifest"/><link rel="mask-icon" href="/static/favicons/safari-pinned-tab.svg" color="#5bbad5"/><meta name="msapplication-TileColor" content="#000000"/><meta name="theme-color" media="(prefers-color-scheme: light)" content="#fff"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#000"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><link rel="preload" href="/_next/static/css/9da9539fac7f1ee9.css" as="style"/><link rel="stylesheet" href="/_next/static/css/9da9539fac7f1ee9.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-1667cddafac2eea3.js" defer=""></script><script src="/_next/static/chunks/main-bfc1a3b6dd286443.js" defer=""></script><script src="/_next/static/chunks/pages/_app-e097d8b875e64e46.js" defer=""></script><script src="/_next/static/chunks/140-77b8ab5a870d524b.js" defer=""></script><script src="/_next/static/chunks/574-40cb695d6b511631.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5B...slug%5D-48fd063b43fdbe6a.js" defer=""></script><script src="/_next/static/TWrYiG8cDLrh4SVS_8Bfu/_buildManifest.js" defer=""></script><script src="/_next/static/TWrYiG8cDLrh4SVS_8Bfu/_ssgManifest.js" defer=""></script><script src="/_next/static/TWrYiG8cDLrh4SVS_8Bfu/_middlewareManifest.js" defer=""></script></head><body class="bg-white text-black antialiased dark:bg-gray-900 dark:text-white"><div id="__next" data-reactroot=""><div class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><div class="flex h-screen flex-col justify-between"><header class="flex items-center justify-between py-10"><div><a aria-label="demian11k.studylog" href="/"><div class="flex items-center justify-between"><div class="mr-3"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%2740%27%20height=%2740%27/%3e"/></span><img alt="A" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="rounded-full object-cover object-center md:h-36 lg:h-48" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="A" srcSet="/_next/static/media/demian_avatar_logo.c12b9855.png?imwidth=48 1x, /_next/static/media/demian_avatar_logo.c12b9855.png?imwidth=96 2x" src="/_next/static/media/demian_avatar_logo.c12b9855.png?imwidth=96" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="rounded-full object-cover object-center md:h-36 lg:h-48" loading="lazy"/></noscript></span></div><div class="hidden h-6 text-2xl font-semibold sm:block">demian11k.studylog</div></div></a></div><div class="flex items-center text-base leading-5"><div class="hidden sm:block"><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/blog">Blog</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/tags">Tags</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/projects">Projects</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/about">About</a></div><button aria-label="Toggle Dark Mode" type="button" class="ml-1 mr-1 h-8 w-8 rounded p-1 sm:ml-4"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg></button><div class="sm:hidden"><button type="button" class="ml-1 mr-1 h-8 w-8 rounded py-1" aria-label="Toggle Menu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg></button><div class="fixed top-0 left-0 z-10 h-full w-full transform bg-gray-200 opacity-95 duration-300 ease-in-out dark:bg-gray-800 translate-x-full"><div class="flex justify-end"><button type="button" class="mr-5 mt-11 h-8 w-8 rounded" aria-label="Toggle Menu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><nav class="fixed mt-8 h-full"><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/blog">Blog</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/tags">Tags</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/projects">Projects</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/about">About</a></div></nav></div></div></div></header><main class="mb-auto"><div class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><div class="fixed right-8 bottom-8 hidden flex-col gap-3 md:hidden"><button aria-label="Scroll To Top" type="button" class="rounded-full bg-gray-200 p-2 text-gray-500 transition-all hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-400 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><article><div><header><div class="space-y-1 border-b border-gray-200 pb-10 text-center dark:border-gray-700"><dl><div><dt class="sr-only">Published on</dt><dd class="text-base font-medium leading-6 text-gray-500 dark:text-gray-400"><time dateTime="2023-05-30T03:03:00.000Z">May 30, 2023</time></dd></div></dl><div><h1 class="text-3xl font-extrabold leading-9 tracking-tight text-gray-900 dark:text-gray-100 sm:text-4xl sm:leading-10 md:text-5xl md:leading-14">prometheus</h1></div></div></header><div class="divide-y divide-gray-200 pb-8 dark:divide-gray-700 xl:divide-y-0 " style="grid-template-rows:auto 1fr"><div class="divide-y divide-gray-200 dark:divide-gray-700 xl:col-span-3 xl:row-span-2 xl:pb-0"><div class="prose max-w-none pt-10 pb-8 dark:prose-dark"><h2 id="offical-document-architecture-diagram"><a href="#offical-document-architecture-diagram" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>offical document architecture diagram</h2><img src="/static/images/prometheus/prometheus_arch_latest.png"/><h2 id="prometheus-up-and-running-book-architecture-diagram"><a href="#prometheus-up-and-running-book-architecture-diagram" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>prometheus up and running book architecture diagram</h2><img src="/static/images/prometheus/prometheus_architecture.png"/><ol><li>프로메테우스 서버는 Service Discovery를 통해 어디에 메트릭을 받아올 대상이 있는지 확인한다.</li><li>메트릭을 가져올 대상은 Jobs/Exporters, PushGateway, 다른 Prometheus서버가 있다.</li></ol><h3 id="jobsexporters"><a href="#jobsexporters" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Jobs/Exporters</h3><p><strong>공통점</strong></p><ul><li>/metrics 라는 api를 제공하여 prometheus의 pull 요청에 데이터를 응답한다.</li></ul><p><strong>차이점</strong></p><p>먼저 jobs는 인스턴스 여러개를 칭하는 단어이다. 인스턴스는 단일 수집 대상의 엔드포인트로 192.168.1.200:8300 가 그 예가 될 수 있다. 일반적으로 instance는 1개의 프로세스에 대응하는 것으로 process는 확장성이나 신뢰성을 위해 복제될 수 있다.</p><ul><li>job: api-server</li><li>instance 1: 1.2.3.4:5670</li><li>instance 2: 1.2.3.4:5671</li><li>instance 3: 5.6.7.8:5670</li><li>instance 4: 5.6.7.8:5671</li></ul><p>Jobs는 일반적으로 비슷한 부류의 엔드포인트(특성이 같은 하나의 시스템 그룹)을 그룹으로 묶은 단위로 프로메테우스 서버가 요청할 때 같이 수집된다.</p><p>exporter는 직접 /metrics api를 제공하지 못하는 application을 위해 존재하는 adapter로, 수집 대상 애플리케이션에서 데이터를 가져와 /metrics api를 대신 제공한다.</p><p>PushGateway는 batch job 같이 프로메테우스가 pull방식을 통해 가져오기 어려운 short-lived job을 수집 대상 호스트 대신 받아 저장하고 있다가, 서버가 요청을 하면 그때 대신 응답해주는 형태의 도우미 컴포넌트이다. short-lived job은 생성이 끝나면 push-gateway로 push해서 저장하는 것으로 monitor 데이터의 보고를 대신한다.</p><p>short-lived job은 수집되는 데이터가 지속적으로 발생하지 않고 수 분에서 수일내로 끝나는 데이터를 말한다.</p><p>수집된 데이터는 스토리지에 저장되고 PromQL이라는 질의 언어를 통해 Grafana 등에서 활용될 수 있다. 알림이 필요한 데이터가 수집될 경우 AlertManager가 이를 인식하고 알림 대상으로 이를 전송할 수 있다.</p><hr/><p>프로메테우스는 service discovery를 통해 데이터 수집 대상을 발견한다. Expoter를 통해 데이터 수집이 가능한 자체적인 계측 애플리케이션이나 서드파티 애플리케이션 등이 데이터 수집 대상이다.</p><p>수집된 데이터가 저장되면 PromQL을 이용해 대시보드(Grafana) 에서 활용되거나 AlertManager를 통해 알림이 발송되고 알림을 다시 email같은 notification으로 바뀐다.</p><p>대부분 시스템 커널 같은 소프트웨어는 메트릭에 접근할 수 있는 인터페이스가 있다. 이러한 인터페이스는 대부분의 리눅스 메트릭에서 필요한 사용자 정의 구문 분석과 처리가 필요한 부가적인 형식이거나 SNMP처럼 잘 정립된 표준일 수 있다.</p><p>Exporter는 가져오고 싶은 메트릭을 프로메테우스로부터 요청을 받아서 애플리케이션에서 요청된 데이터를 수집하고 데이터를 올바른 형식으로 변환한 다음 마지막으로 프로메테우스에 대한 응답으로 데이터를 반환한다. 익스포터는 애플리케이션의 메트릭 인터페이스를 프로메테우스의 exposition format(게시 형식)으로 변환하는 일대일 방식의 작은 프록시와 유사하다.</p><p>제어하는 코드를 사용하는 직접 계측과 달리 익스포터는 custom collectors(사용자 정의 수집기) 나 ConstMetrics 같은 다양한 스타일의 계측기를 사용한다.</p><h4 id="서비스-검색"><a href="#서비스-검색" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>서비스 검색</h4><p>서비스 검색은 Prometheus가 메트릭을 스크랩할 대상을 자동으로 식별하고 모니터링하는 기능이다. Prometheus는 정적 및 동적 구성을 포함한 여러 가지 서비스 검색 방법을 지원한다.</p><p>static service discovery는 Prometheus의 config 파일에서 대상을 등록하는 방법이다 자주 변경되지 않는 고정된 수의 대상이 있는 소규모 환경에 적합하다.</p><p>dynamic service discovery는 미리 정의된 규칙에 따라 자동으로 대상을 검색하여 수집 대상으로 인식한다. dynamic service discovery는 DNS, Kubernetes, Consul 등의 소스에서 주소 변환을 통해 수집 대상으로 인식한다. 수집 대상은 주기적으로 확인하여 새 대상을 검색하거나 더 이상 사용할 수 없는 대상은 삭제된다.</p><p>Prometheus가 대상을 발견하면, 지정된 HTTP 또는 HTTPS 엔드포인트를 사용하여 대상의 엔드포인트에서 메트릭을 스크랩한다. 설정된 스크랩 간격에 따라 메트릭이 수집되며, 수집된 데이터는 Prometheus의 TSDB에 저장된다.</p><h4 id="저장-장치"><a href="#저장-장치" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>저장 장치</h4><p>프로메테우스는 자체적으로 설계된 TSDB를 내부적으로 사용한다.</p><p>Prometheus TSDB(시계열 데이터베이스)는 시계열 데이터를 저장하고 쿼리하기 위해 Prometheus 모니터링 시스템에서 사용하는 전문 데이터베이스이다.</p><p>또한 TSDB에는 데이터 보존 정책, 데이터 압축, 데이터 자동 만료 등 성능을 최적화하고 스토리지 요구 사항을 최소화하는 여러 기능을 통해 대량의 시계열 데이터를 효율적이고 효과적으로 저장하고 분석할 수 있다.</p><h2 id="alertmanager"><a href="#alertmanager" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>AlertManager</h2><p>AlertManager는 Prometheus 서버에서 보내는 알림을 모두 전달받아 알림을 받아야 할 수신자에게 이메일이나 채팅 메시지, 또는 호출 등의 통보로 변환하는 역할을 한다.</p><h3 id="inhibition억제"><a href="#inhibition억제" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Inhibition(억제)</h3><p>간혹 증상을 기반으로 하는 알림을 사용하더라도, 서비스가 속한 데이터 센터에서 장애가 발생하는 경우 이로 인해 서비스 트래픽이 수신되지 않는 상대적으로 사소한 문제가 발생하더라도 이에 대한 알림을 막는 것처럼, 더 심각한 알림이 발생한다면 일부 다른 알림의 noti를 막길 원할 것이다. 이것이 억제의 역할이다.</p><p>억제는 특정 기타 알림이 이미 작동 중인 경우 특정 알림에 대한 알림을 억제하는 개념입니다.</p><p>예시: 클러스터 전체에 연결할 수 없다는 알림이 발생하는 경우 Alertmanager는 해당 알림이 작동 중인 경우 해당 클러스터와 관련된 다른 모든 알림을 음소거하도록 구성할 수 있습니다. 이렇게 하면 실제 문제와 관련없는 수백 또는 수천 개의 알림에 대한 알림이 제한됩니다.</p><h3 id="silencing"><a href="#silencing" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Silencing</h3><p>문제에 대해 이미 알고 있거나 유지보수를 위해 서비스를 중단하는 경우 이에 대해 대기중인 엔지니어를 호출할 필요가 없다. 사일런싱을 통해 일정 시간동안 특정 알림을 무시할 수 있으며, 알림매니저의 웹 UI 에서 사일런싱을 설정한다.</p><p>음소거는 특정 시간 동안 알림을 단순히 음소거하는 간단한 방법입니다. 음소거는 라우팅 트리와 마찬가지로 matcher를 기반으로 설정되며, 수신되는 alert은 하나의 active silence와 동등하거나 regex matcher와 일치하는지를 여부를 확인한다. 일치하는 경우 해당 알림에 대한 알림이 전송되지 않습니다.</p><h3 id="routing"><a href="#routing" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Routing</h3><p>조직별로 하나의 AlertManager를 실행하려고 해도 모든 noti 가 한곳으로 전달되지 않는다. 각 팀의 알림은 각기 다른 곳으로 전달되길 바랄 것이며, 팀 내에서도 다르게 처리되는 운영 환경이나 개발 환경에 대한 알림을 받길 원할 것이다. AlertManager는 routing tree를 사용해 이에 대한 구성을 할 수 있다.</p><h3 id="grouping"><a href="#grouping" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Grouping</h3><p>이제 팀이 운영하는 환경에 대한 알림 경로(route) 를 따라 이동하게 된다. 장애가 발생한 rack의 전체 머신에 대해 개별적으로 통보를 받는 것은 스팸이 될 수 있다. 따라서 AlertManager의 그룹 알림을 사용해 rack별로 하나의 알림 D/C 별로 하나의 알림, 또는 접근할 수 없는 머신들에 대해 하나의 전체 알림을 보내는 편이 나을 것이다.</p><p>그룹화는 유사한 알림을 하나의 알림으로 분류하는 기능입니다. 수백 개에서 수천 개까지 동시에 발생하는 알림이 많은 장애 상황에서 유용합니다.</p><p>예시: 클러스터에서 수십 또는 수백개의 서비스 인스턴스가 실행 중인데 네트워크 분할이 발생합니다. 서비스 인스턴스 중 절반이 더 이상 데이터베이스와 통신할 수 없습니다. 프로메테우스의 경고 규칙은 데이터베이스와 통신할 수 없는 각 서비스 인스턴스마다 알림을 보내도록 설정되어 있습니다. 결과적으로 수백 개의 경고가 Alertmanager에 전송됩니다.</p><p>사용자는 일반적으로 개별 인스턴스마다 발생한 여러 개의 알림을 받는 것보다 어떤 서비스 인스턴스가 영향을 받았는지 보여주는 단일 알림을 받는 것을 선호합니다. 따라서 Alertmanager를 구성하여 클러스터 및 경고 이름별로 알림을 그룹화하여 단일 압축 알림을 보내도록 설정할 수 있습니다.</p><h3 id="throttling-and-repetition-조절과-반복"><a href="#throttling-and-repetition-조절과-반복" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Throttling and repetition 조절과 반복</h3><p>머신들이 배치된 랙이 동작하지 않으면 그룹 알림이 발생하고, 개별 머신에 대한 알림은 noti 가 전송된 이후 발생한다. 그룹별로 새로운 알림이 발생될 때마다 새로운 noti 를 전송한다면 그룹화를 하는 목적이 사라지게 될 것이다. 대신, AlertManager는 주어진 그룹에 대한 통보를 조절해 스팸이 발생되지 않게 할 것이다.</p><p>이상적인 환경에서 모든 notification은 바로 처리되어야 하지만 현실에서는 대기 중인 엔지니어나 다른 시스템이 문제를 처리하지 않을 수 있다. 그렇게 되면 AlertManager는 문제가 해결될 떄까지 notification을 반복할 것이다.</p><h3 id="notification-통보"><a href="#notification-통보" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Notification 통보</h3><p>알림이 억제, 사일런싱, 라우팅 처리, 그룹화, Throttling and repetition을 로직을 거쳐서 수신자에게 전달되어야 한다고 판단되면 notification이 전송된다.</p><h3 id="high-availability-고가용성"><a href="#high-availability-고가용성" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>High Availability 고가용성</h3><p>Alertmanager는 고가용성 클러스터를 생성하기 위한 설정을 지원합니다. AlertManager 인스턴스를 실행할 때 --cluster-* 플래그를 사용하여 실행중인 다른 인스턴스를 연결해하여 하나의 클러스터로 작동하도록 구성할 수 있다.</p><img src="/static/images/prometheus/HA_in_AlertManager_arch.svg"/><p>Alertmanager의 고가용성(HA)은 서로 통신하는 Alertmanager 인스턴스 클러스터를 생성하는 방식으로 작동합니다. 이렇게 하면 하나 이상의 인스턴스에 장애가 발생하더라도 나머지 인스턴스가 계속 작동하여 알림 시스템의 전반적인 기능과 안정성을 유지할 수 있습니다. 다음은 Alertmanager에서 HA가 작동하는 방식에 대한 간략한 개요입니다:</p><p>클러스터를 형성하도록 여러 개의 Alertmanager 인스턴스가 설정 및 구성됩니다. 클러스터는 listen address, advertise address, initial peers, 다양한 시간 초과 및 interval 설정에 대한 설정을 포함하는 --cluster.* 플래그를 사용하여 서로 통신합니다.</p><p>Alertmanager 인스턴스에서 알림을 수신하면 클러스터 내의 모든 인스턴스에서 알림이 공유됩니다. 이렇게 하면 모든 인스턴스가 동일한 상태를 유지하며 알림에 대해 독립적으로 조치를 취할 수 있습니다.</p><p>각 Alertmanager 인스턴스는 수신되는 알림을 평가하여 중복 제거(deduplication), 그룹화를 적용하고 적절한 receiver integraion(예: 이메일, PagerDuty, OpsGenie)으로 라우팅합니다.</p><p>또한 각 인스턴스별로 알림에 억제(Inhibition) 및 무음(silence) 규칙을 적용하여 불필요한 알림을 줄일 수 있습니다.</p><p>Alertmanager 인스턴스 중 하나에서 장애가 발생해도 나머지 인스턴스는 계속해서 알림을 처리하고 알림을 보냅니다. 모든 인스턴스의 상태가 동일하기 때문에 기능 손실 없이 알림을 원활하게 처리할 수 있습니다.</p><p>Prometheus는 인스턴스 간에 부하를 분산하는 대신 클러스터의 모든 Alertmanager 인스턴스에 알림을 보내도록 구성됩니다. 이렇게 하면 하나 이상의 Alertmanager 인스턴스가 다운되더라도 나머지 인스턴스로 알림이 전송되어 고가용성을 유지할 수 있습니다.</p></div></div><div id="comment"></div><footer><div class="flex flex-col text-sm font-medium sm:flex-row sm:justify-between sm:text-base"><div class="pt-4 xl:pt-8"><a class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/blog/ITSM_terms">← <!-- -->ITSM terms</a></div><div class="pt-4 xl:pt-8"><a class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/blog/prometheus_johoon">prometheus johoon<!-- --> →</a></div></div></footer></div></div></article></div></main><footer><div class="mt-16 flex flex-col items-center"><div class="mb-3 flex space-x-4"><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="mailto:demian11k@gmail.com"><span class="sr-only">mail</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="fill-current text-gray-700 hover:text-blue-500 dark:text-gray-200 dark:hover:text-blue-400 h-6 w-6"><path d="M2.003 5.884 10 9.882l7.997-3.998A2 2 0 0 0 16 4H4a2 2 0 0 0-1.997 1.884z"></path><path d="m18 8.118-8 4-8-4V14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8.118z"></path></svg></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://github.com/demian9k"><span class="sr-only">github</span><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="fill-current text-gray-700 hover:text-blue-500 dark:text-gray-200 dark:hover:text-blue-400 h-6 w-6"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></a></div><div class="mb-2 flex space-x-2 text-sm text-gray-500 dark:text-gray-400"><div>demian11k</div><div> • </div><div>© 2023</div><div> • </div><a href="/">demian11k studylog</a></div></div></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"mdxSource":"var Component=(()=\u003e{var d=Object.create;var t=Object.defineProperty;var o=Object.getOwnPropertyDescriptor;var s=Object.getOwnPropertyNames;var p=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty;var c=r=\u003et(r,\"__esModule\",{value:!0});var u=(r,n)=\u003e()=\u003e(n||r((n={exports:{}}).exports,n),n.exports),g=(r,n)=\u003e{c(r);for(var a in n)t(r,a,{get:n[a],enumerable:!0})},b=(r,n,a)=\u003e{if(n\u0026\u0026typeof n==\"object\"||typeof n==\"function\")for(let i of s(n))!m.call(r,i)\u0026\u0026i!==\"default\"\u0026\u0026t(r,i,{get:()=\u003en[i],enumerable:!(a=o(n,i))||a.enumerable});return r},f=r=\u003eb(c(t(r!=null?d(p(r)):{},\"default\",r\u0026\u0026r.__esModule\u0026\u0026\"default\"in r?{get:()=\u003er.default,enumerable:!0}:{value:r,enumerable:!0})),r);var h=u((y,l)=\u003e{l.exports=_jsx_runtime});var P={};g(P,{default:()=\u003ev,frontmatter:()=\u003ex});var e=f(h()),x={title:\"prometheus\",date:new Date(168541578e4),lastmod:\"2023-05-30\",tags:[\"alert\"],draft:!1,summary:\"\",layout:\"PostSimple\"};function A(r={}){let{wrapper:n}=r.components||{};return n?(0,e.jsx)(n,Object.assign({},r,{children:(0,e.jsx)(a,{})})):a();function a(){let i=Object.assign({h2:\"h2\",a:\"a\",span:\"span\",ol:\"ol\",li:\"li\",h3:\"h3\",p:\"p\",strong:\"strong\",ul:\"ul\",h4:\"h4\"},r.components);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(i.h2,{id:\"offical-document-architecture-diagram\",children:[(0,e.jsx)(i.a,{\"aria-hidden\":\"true\",href:\"#offical-document-architecture-diagram\",tabIndex:\"-1\",children:(0,e.jsx)(i.span,{className:\"icon icon-link\"})}),\"offical document architecture diagram\"]}),(0,e.jsx)(\"img\",{src:\"/static/images/prometheus/prometheus_arch_latest.png\"}),(0,e.jsxs)(i.h2,{id:\"prometheus-up-and-running-book-architecture-diagram\",children:[(0,e.jsx)(i.a,{\"aria-hidden\":\"true\",href:\"#prometheus-up-and-running-book-architecture-diagram\",tabIndex:\"-1\",children:(0,e.jsx)(i.span,{className:\"icon icon-link\"})}),\"prometheus up and running book architecture diagram\"]}),(0,e.jsx)(\"img\",{src:\"/static/images/prometheus/prometheus_architecture.png\"}),(0,e.jsxs)(i.ol,{children:[(0,e.jsx)(i.li,{children:\"\\uD504\\uB85C\\uBA54\\uD14C\\uC6B0\\uC2A4 \\uC11C\\uBC84\\uB294 Service Discovery\\uB97C \\uD1B5\\uD574 \\uC5B4\\uB514\\uC5D0 \\uBA54\\uD2B8\\uB9AD\\uC744 \\uBC1B\\uC544\\uC62C \\uB300\\uC0C1\\uC774 \\uC788\\uB294\\uC9C0 \\uD655\\uC778\\uD55C\\uB2E4.\"}),(0,e.jsx)(i.li,{children:\"\\uBA54\\uD2B8\\uB9AD\\uC744 \\uAC00\\uC838\\uC62C \\uB300\\uC0C1\\uC740 Jobs/Exporters, PushGateway, \\uB2E4\\uB978 Prometheus\\uC11C\\uBC84\\uAC00 \\uC788\\uB2E4.\"})]}),(0,e.jsxs)(i.h3,{id:\"jobsexporters\",children:[(0,e.jsx)(i.a,{\"aria-hidden\":\"true\",href:\"#jobsexporters\",tabIndex:\"-1\",children:(0,e.jsx)(i.span,{className:\"icon icon-link\"})}),\"Jobs/Exporters\"]}),(0,e.jsx)(i.p,{children:(0,e.jsx)(i.strong,{children:\"\\uACF5\\uD1B5\\uC810\"})}),(0,e.jsx)(i.ul,{children:(0,e.jsx)(i.li,{children:\"/metrics \\uB77C\\uB294 api\\uB97C \\uC81C\\uACF5\\uD558\\uC5EC prometheus\\uC758 pull \\uC694\\uCCAD\\uC5D0 \\uB370\\uC774\\uD130\\uB97C \\uC751\\uB2F5\\uD55C\\uB2E4.\"})}),(0,e.jsx)(i.p,{children:(0,e.jsx)(i.strong,{children:\"\\uCC28\\uC774\\uC810\"})}),(0,e.jsx)(i.p,{children:\"\\uBA3C\\uC800 jobs\\uB294 \\uC778\\uC2A4\\uD134\\uC2A4 \\uC5EC\\uB7EC\\uAC1C\\uB97C \\uCE6D\\uD558\\uB294 \\uB2E8\\uC5B4\\uC774\\uB2E4. \\uC778\\uC2A4\\uD134\\uC2A4\\uB294 \\uB2E8\\uC77C \\uC218\\uC9D1 \\uB300\\uC0C1\\uC758 \\uC5D4\\uB4DC\\uD3EC\\uC778\\uD2B8\\uB85C 192.168.1.200:8300 \\uAC00 \\uADF8 \\uC608\\uAC00 \\uB420 \\uC218 \\uC788\\uB2E4. \\uC77C\\uBC18\\uC801\\uC73C\\uB85C instance\\uB294 1\\uAC1C\\uC758 \\uD504\\uB85C\\uC138\\uC2A4\\uC5D0 \\uB300\\uC751\\uD558\\uB294 \\uAC83\\uC73C\\uB85C process\\uB294 \\uD655\\uC7A5\\uC131\\uC774\\uB098 \\uC2E0\\uB8B0\\uC131\\uC744 \\uC704\\uD574 \\uBCF5\\uC81C\\uB420 \\uC218 \\uC788\\uB2E4.\"}),(0,e.jsxs)(i.ul,{children:[(0,e.jsx)(i.li,{children:\"job: api-server\"}),(0,e.jsx)(i.li,{children:\"instance 1: 1.2.3.4:5670\"}),(0,e.jsx)(i.li,{children:\"instance 2: 1.2.3.4:5671\"}),(0,e.jsx)(i.li,{children:\"instance 3: 5.6.7.8:5670\"}),(0,e.jsx)(i.li,{children:\"instance 4: 5.6.7.8:5671\"})]}),(0,e.jsx)(i.p,{children:\"Jobs\\uB294 \\uC77C\\uBC18\\uC801\\uC73C\\uB85C \\uBE44\\uC2B7\\uD55C \\uBD80\\uB958\\uC758 \\uC5D4\\uB4DC\\uD3EC\\uC778\\uD2B8(\\uD2B9\\uC131\\uC774 \\uAC19\\uC740 \\uD558\\uB098\\uC758 \\uC2DC\\uC2A4\\uD15C \\uADF8\\uB8F9)\\uC744 \\uADF8\\uB8F9\\uC73C\\uB85C \\uBB36\\uC740 \\uB2E8\\uC704\\uB85C \\uD504\\uB85C\\uBA54\\uD14C\\uC6B0\\uC2A4 \\uC11C\\uBC84\\uAC00 \\uC694\\uCCAD\\uD560 \\uB54C \\uAC19\\uC774 \\uC218\\uC9D1\\uB41C\\uB2E4.\"}),(0,e.jsx)(i.p,{children:\"exporter\\uB294 \\uC9C1\\uC811 /metrics api\\uB97C \\uC81C\\uACF5\\uD558\\uC9C0 \\uBABB\\uD558\\uB294 application\\uC744 \\uC704\\uD574 \\uC874\\uC7AC\\uD558\\uB294 adapter\\uB85C, \\uC218\\uC9D1 \\uB300\\uC0C1 \\uC560\\uD50C\\uB9AC\\uCF00\\uC774\\uC158\\uC5D0\\uC11C \\uB370\\uC774\\uD130\\uB97C \\uAC00\\uC838\\uC640 /metrics api\\uB97C \\uB300\\uC2E0 \\uC81C\\uACF5\\uD55C\\uB2E4.\"}),(0,e.jsx)(i.p,{children:\"PushGateway\\uB294 batch job \\uAC19\\uC774 \\uD504\\uB85C\\uBA54\\uD14C\\uC6B0\\uC2A4\\uAC00 pull\\uBC29\\uC2DD\\uC744 \\uD1B5\\uD574 \\uAC00\\uC838\\uC624\\uAE30 \\uC5B4\\uB824\\uC6B4 short-lived job\\uC744 \\uC218\\uC9D1 \\uB300\\uC0C1 \\uD638\\uC2A4\\uD2B8 \\uB300\\uC2E0 \\uBC1B\\uC544 \\uC800\\uC7A5\\uD558\\uACE0 \\uC788\\uB2E4\\uAC00, \\uC11C\\uBC84\\uAC00 \\uC694\\uCCAD\\uC744 \\uD558\\uBA74 \\uADF8\\uB54C \\uB300\\uC2E0 \\uC751\\uB2F5\\uD574\\uC8FC\\uB294 \\uD615\\uD0DC\\uC758 \\uB3C4\\uC6B0\\uBBF8 \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uC774\\uB2E4. short-lived job\\uC740 \\uC0DD\\uC131\\uC774 \\uB05D\\uB098\\uBA74 push-gateway\\uB85C push\\uD574\\uC11C \\uC800\\uC7A5\\uD558\\uB294 \\uAC83\\uC73C\\uB85C monitor \\uB370\\uC774\\uD130\\uC758 \\uBCF4\\uACE0\\uB97C \\uB300\\uC2E0\\uD55C\\uB2E4.\"}),(0,e.jsx)(i.p,{children:\"short-lived job\\uC740 \\uC218\\uC9D1\\uB418\\uB294 \\uB370\\uC774\\uD130\\uAC00 \\uC9C0\\uC18D\\uC801\\uC73C\\uB85C \\uBC1C\\uC0DD\\uD558\\uC9C0 \\uC54A\\uACE0 \\uC218 \\uBD84\\uC5D0\\uC11C \\uC218\\uC77C\\uB0B4\\uB85C \\uB05D\\uB098\\uB294 \\uB370\\uC774\\uD130\\uB97C \\uB9D0\\uD55C\\uB2E4.\"}),(0,e.jsx)(i.p,{children:\"\\uC218\\uC9D1\\uB41C \\uB370\\uC774\\uD130\\uB294 \\uC2A4\\uD1A0\\uB9AC\\uC9C0\\uC5D0 \\uC800\\uC7A5\\uB418\\uACE0 PromQL\\uC774\\uB77C\\uB294 \\uC9C8\\uC758 \\uC5B8\\uC5B4\\uB97C \\uD1B5\\uD574 Grafana \\uB4F1\\uC5D0\\uC11C \\uD65C\\uC6A9\\uB420 \\uC218 \\uC788\\uB2E4. \\uC54C\\uB9BC\\uC774 \\uD544\\uC694\\uD55C \\uB370\\uC774\\uD130\\uAC00 \\uC218\\uC9D1\\uB420 \\uACBD\\uC6B0 AlertManager\\uAC00 \\uC774\\uB97C \\uC778\\uC2DD\\uD558\\uACE0 \\uC54C\\uB9BC \\uB300\\uC0C1\\uC73C\\uB85C \\uC774\\uB97C \\uC804\\uC1A1\\uD560 \\uC218 \\uC788\\uB2E4.\"}),(0,e.jsx)(\"hr\",{}),(0,e.jsx)(i.p,{children:\"\\uD504\\uB85C\\uBA54\\uD14C\\uC6B0\\uC2A4\\uB294 service discovery\\uB97C \\uD1B5\\uD574 \\uB370\\uC774\\uD130 \\uC218\\uC9D1 \\uB300\\uC0C1\\uC744 \\uBC1C\\uACAC\\uD55C\\uB2E4. Expoter\\uB97C \\uD1B5\\uD574 \\uB370\\uC774\\uD130 \\uC218\\uC9D1\\uC774 \\uAC00\\uB2A5\\uD55C \\uC790\\uCCB4\\uC801\\uC778 \\uACC4\\uCE21 \\uC560\\uD50C\\uB9AC\\uCF00\\uC774\\uC158\\uC774\\uB098 \\uC11C\\uB4DC\\uD30C\\uD2F0 \\uC560\\uD50C\\uB9AC\\uCF00\\uC774\\uC158 \\uB4F1\\uC774 \\uB370\\uC774\\uD130 \\uC218\\uC9D1 \\uB300\\uC0C1\\uC774\\uB2E4.\"}),(0,e.jsx)(i.p,{children:\"\\uC218\\uC9D1\\uB41C \\uB370\\uC774\\uD130\\uAC00 \\uC800\\uC7A5\\uB418\\uBA74 PromQL\\uC744 \\uC774\\uC6A9\\uD574 \\uB300\\uC2DC\\uBCF4\\uB4DC(Grafana) \\uC5D0\\uC11C \\uD65C\\uC6A9\\uB418\\uAC70\\uB098 AlertManager\\uB97C \\uD1B5\\uD574 \\uC54C\\uB9BC\\uC774 \\uBC1C\\uC1A1\\uB418\\uACE0 \\uC54C\\uB9BC\\uC744 \\uB2E4\\uC2DC email\\uAC19\\uC740 notification\\uC73C\\uB85C \\uBC14\\uB010\\uB2E4.\"}),(0,e.jsx)(i.p,{children:\"\\uB300\\uBD80\\uBD84 \\uC2DC\\uC2A4\\uD15C \\uCEE4\\uB110 \\uAC19\\uC740 \\uC18C\\uD504\\uD2B8\\uC6E8\\uC5B4\\uB294 \\uBA54\\uD2B8\\uB9AD\\uC5D0 \\uC811\\uADFC\\uD560 \\uC218 \\uC788\\uB294 \\uC778\\uD130\\uD398\\uC774\\uC2A4\\uAC00 \\uC788\\uB2E4. \\uC774\\uB7EC\\uD55C \\uC778\\uD130\\uD398\\uC774\\uC2A4\\uB294 \\uB300\\uBD80\\uBD84\\uC758 \\uB9AC\\uB205\\uC2A4 \\uBA54\\uD2B8\\uB9AD\\uC5D0\\uC11C \\uD544\\uC694\\uD55C \\uC0AC\\uC6A9\\uC790 \\uC815\\uC758 \\uAD6C\\uBB38 \\uBD84\\uC11D\\uACFC \\uCC98\\uB9AC\\uAC00 \\uD544\\uC694\\uD55C \\uBD80\\uAC00\\uC801\\uC778 \\uD615\\uC2DD\\uC774\\uAC70\\uB098 SNMP\\uCC98\\uB7FC \\uC798 \\uC815\\uB9BD\\uB41C \\uD45C\\uC900\\uC77C \\uC218 \\uC788\\uB2E4.\"}),(0,e.jsx)(i.p,{children:\"Exporter\\uB294 \\uAC00\\uC838\\uC624\\uACE0 \\uC2F6\\uC740 \\uBA54\\uD2B8\\uB9AD\\uC744 \\uD504\\uB85C\\uBA54\\uD14C\\uC6B0\\uC2A4\\uB85C\\uBD80\\uD130 \\uC694\\uCCAD\\uC744 \\uBC1B\\uC544\\uC11C \\uC560\\uD50C\\uB9AC\\uCF00\\uC774\\uC158\\uC5D0\\uC11C \\uC694\\uCCAD\\uB41C \\uB370\\uC774\\uD130\\uB97C \\uC218\\uC9D1\\uD558\\uACE0 \\uB370\\uC774\\uD130\\uB97C \\uC62C\\uBC14\\uB978 \\uD615\\uC2DD\\uC73C\\uB85C \\uBCC0\\uD658\\uD55C \\uB2E4\\uC74C \\uB9C8\\uC9C0\\uB9C9\\uC73C\\uB85C \\uD504\\uB85C\\uBA54\\uD14C\\uC6B0\\uC2A4\\uC5D0 \\uB300\\uD55C \\uC751\\uB2F5\\uC73C\\uB85C \\uB370\\uC774\\uD130\\uB97C \\uBC18\\uD658\\uD55C\\uB2E4. \\uC775\\uC2A4\\uD3EC\\uD130\\uB294 \\uC560\\uD50C\\uB9AC\\uCF00\\uC774\\uC158\\uC758 \\uBA54\\uD2B8\\uB9AD \\uC778\\uD130\\uD398\\uC774\\uC2A4\\uB97C \\uD504\\uB85C\\uBA54\\uD14C\\uC6B0\\uC2A4\\uC758 exposition format(\\uAC8C\\uC2DC \\uD615\\uC2DD)\\uC73C\\uB85C \\uBCC0\\uD658\\uD558\\uB294 \\uC77C\\uB300\\uC77C \\uBC29\\uC2DD\\uC758 \\uC791\\uC740 \\uD504\\uB85D\\uC2DC\\uC640 \\uC720\\uC0AC\\uD558\\uB2E4.\"}),(0,e.jsx)(i.p,{children:\"\\uC81C\\uC5B4\\uD558\\uB294 \\uCF54\\uB4DC\\uB97C \\uC0AC\\uC6A9\\uD558\\uB294 \\uC9C1\\uC811 \\uACC4\\uCE21\\uACFC \\uB2EC\\uB9AC \\uC775\\uC2A4\\uD3EC\\uD130\\uB294 custom collectors(\\uC0AC\\uC6A9\\uC790 \\uC815\\uC758 \\uC218\\uC9D1\\uAE30) \\uB098 ConstMetrics \\uAC19\\uC740 \\uB2E4\\uC591\\uD55C \\uC2A4\\uD0C0\\uC77C\\uC758 \\uACC4\\uCE21\\uAE30\\uB97C \\uC0AC\\uC6A9\\uD55C\\uB2E4.\"}),(0,e.jsxs)(i.h4,{id:\"\\uC11C\\uBE44\\uC2A4-\\uAC80\\uC0C9\",children:[(0,e.jsx)(i.a,{\"aria-hidden\":\"true\",href:\"#\\uC11C\\uBE44\\uC2A4-\\uAC80\\uC0C9\",tabIndex:\"-1\",children:(0,e.jsx)(i.span,{className:\"icon icon-link\"})}),\"\\uC11C\\uBE44\\uC2A4 \\uAC80\\uC0C9\"]}),(0,e.jsx)(i.p,{children:\"\\uC11C\\uBE44\\uC2A4 \\uAC80\\uC0C9\\uC740 Prometheus\\uAC00 \\uBA54\\uD2B8\\uB9AD\\uC744 \\uC2A4\\uD06C\\uB7A9\\uD560 \\uB300\\uC0C1\\uC744 \\uC790\\uB3D9\\uC73C\\uB85C \\uC2DD\\uBCC4\\uD558\\uACE0 \\uBAA8\\uB2C8\\uD130\\uB9C1\\uD558\\uB294 \\uAE30\\uB2A5\\uC774\\uB2E4. Prometheus\\uB294 \\uC815\\uC801 \\uBC0F \\uB3D9\\uC801 \\uAD6C\\uC131\\uC744 \\uD3EC\\uD568\\uD55C \\uC5EC\\uB7EC \\uAC00\\uC9C0 \\uC11C\\uBE44\\uC2A4 \\uAC80\\uC0C9 \\uBC29\\uBC95\\uC744 \\uC9C0\\uC6D0\\uD55C\\uB2E4.\"}),(0,e.jsx)(i.p,{children:\"static service discovery\\uB294 Prometheus\\uC758 config \\uD30C\\uC77C\\uC5D0\\uC11C \\uB300\\uC0C1\\uC744 \\uB4F1\\uB85D\\uD558\\uB294 \\uBC29\\uBC95\\uC774\\uB2E4 \\uC790\\uC8FC \\uBCC0\\uACBD\\uB418\\uC9C0 \\uC54A\\uB294 \\uACE0\\uC815\\uB41C \\uC218\\uC758 \\uB300\\uC0C1\\uC774 \\uC788\\uB294 \\uC18C\\uADDC\\uBAA8 \\uD658\\uACBD\\uC5D0 \\uC801\\uD569\\uD558\\uB2E4.\"}),(0,e.jsx)(i.p,{children:\"dynamic service discovery\\uB294 \\uBBF8\\uB9AC \\uC815\\uC758\\uB41C \\uADDC\\uCE59\\uC5D0 \\uB530\\uB77C \\uC790\\uB3D9\\uC73C\\uB85C \\uB300\\uC0C1\\uC744 \\uAC80\\uC0C9\\uD558\\uC5EC \\uC218\\uC9D1 \\uB300\\uC0C1\\uC73C\\uB85C \\uC778\\uC2DD\\uD55C\\uB2E4. dynamic service discovery\\uB294 DNS, Kubernetes, Consul \\uB4F1\\uC758 \\uC18C\\uC2A4\\uC5D0\\uC11C \\uC8FC\\uC18C \\uBCC0\\uD658\\uC744 \\uD1B5\\uD574 \\uC218\\uC9D1 \\uB300\\uC0C1\\uC73C\\uB85C \\uC778\\uC2DD\\uD55C\\uB2E4. \\uC218\\uC9D1 \\uB300\\uC0C1\\uC740 \\uC8FC\\uAE30\\uC801\\uC73C\\uB85C \\uD655\\uC778\\uD558\\uC5EC \\uC0C8 \\uB300\\uC0C1\\uC744 \\uAC80\\uC0C9\\uD558\\uAC70\\uB098 \\uB354 \\uC774\\uC0C1 \\uC0AC\\uC6A9\\uD560 \\uC218 \\uC5C6\\uB294 \\uB300\\uC0C1\\uC740 \\uC0AD\\uC81C\\uB41C\\uB2E4.\"}),(0,e.jsx)(i.p,{children:\"Prometheus\\uAC00 \\uB300\\uC0C1\\uC744 \\uBC1C\\uACAC\\uD558\\uBA74, \\uC9C0\\uC815\\uB41C HTTP \\uB610\\uB294 HTTPS \\uC5D4\\uB4DC\\uD3EC\\uC778\\uD2B8\\uB97C \\uC0AC\\uC6A9\\uD558\\uC5EC \\uB300\\uC0C1\\uC758 \\uC5D4\\uB4DC\\uD3EC\\uC778\\uD2B8\\uC5D0\\uC11C \\uBA54\\uD2B8\\uB9AD\\uC744 \\uC2A4\\uD06C\\uB7A9\\uD55C\\uB2E4. \\uC124\\uC815\\uB41C \\uC2A4\\uD06C\\uB7A9 \\uAC04\\uACA9\\uC5D0 \\uB530\\uB77C \\uBA54\\uD2B8\\uB9AD\\uC774 \\uC218\\uC9D1\\uB418\\uBA70, \\uC218\\uC9D1\\uB41C \\uB370\\uC774\\uD130\\uB294 Prometheus\\uC758 TSDB\\uC5D0 \\uC800\\uC7A5\\uB41C\\uB2E4.\"}),(0,e.jsxs)(i.h4,{id:\"\\uC800\\uC7A5-\\uC7A5\\uCE58\",children:[(0,e.jsx)(i.a,{\"aria-hidden\":\"true\",href:\"#\\uC800\\uC7A5-\\uC7A5\\uCE58\",tabIndex:\"-1\",children:(0,e.jsx)(i.span,{className:\"icon icon-link\"})}),\"\\uC800\\uC7A5 \\uC7A5\\uCE58\"]}),(0,e.jsx)(i.p,{children:\"\\uD504\\uB85C\\uBA54\\uD14C\\uC6B0\\uC2A4\\uB294 \\uC790\\uCCB4\\uC801\\uC73C\\uB85C \\uC124\\uACC4\\uB41C TSDB\\uB97C \\uB0B4\\uBD80\\uC801\\uC73C\\uB85C \\uC0AC\\uC6A9\\uD55C\\uB2E4.\"}),(0,e.jsx)(i.p,{children:\"Prometheus TSDB(\\uC2DC\\uACC4\\uC5F4 \\uB370\\uC774\\uD130\\uBCA0\\uC774\\uC2A4)\\uB294 \\uC2DC\\uACC4\\uC5F4 \\uB370\\uC774\\uD130\\uB97C \\uC800\\uC7A5\\uD558\\uACE0 \\uCFFC\\uB9AC\\uD558\\uAE30 \\uC704\\uD574 Prometheus \\uBAA8\\uB2C8\\uD130\\uB9C1 \\uC2DC\\uC2A4\\uD15C\\uC5D0\\uC11C \\uC0AC\\uC6A9\\uD558\\uB294 \\uC804\\uBB38 \\uB370\\uC774\\uD130\\uBCA0\\uC774\\uC2A4\\uC774\\uB2E4.\"}),(0,e.jsx)(i.p,{children:\"\\uB610\\uD55C TSDB\\uC5D0\\uB294 \\uB370\\uC774\\uD130 \\uBCF4\\uC874 \\uC815\\uCC45, \\uB370\\uC774\\uD130 \\uC555\\uCD95, \\uB370\\uC774\\uD130 \\uC790\\uB3D9 \\uB9CC\\uB8CC \\uB4F1 \\uC131\\uB2A5\\uC744 \\uCD5C\\uC801\\uD654\\uD558\\uACE0 \\uC2A4\\uD1A0\\uB9AC\\uC9C0 \\uC694\\uAD6C \\uC0AC\\uD56D\\uC744 \\uCD5C\\uC18C\\uD654\\uD558\\uB294 \\uC5EC\\uB7EC \\uAE30\\uB2A5\\uC744 \\uD1B5\\uD574 \\uB300\\uB7C9\\uC758 \\uC2DC\\uACC4\\uC5F4 \\uB370\\uC774\\uD130\\uB97C \\uD6A8\\uC728\\uC801\\uC774\\uACE0 \\uD6A8\\uACFC\\uC801\\uC73C\\uB85C \\uC800\\uC7A5\\uD558\\uACE0 \\uBD84\\uC11D\\uD560 \\uC218 \\uC788\\uB2E4.\"}),(0,e.jsxs)(i.h2,{id:\"alertmanager\",children:[(0,e.jsx)(i.a,{\"aria-hidden\":\"true\",href:\"#alertmanager\",tabIndex:\"-1\",children:(0,e.jsx)(i.span,{className:\"icon icon-link\"})}),\"AlertManager\"]}),(0,e.jsx)(i.p,{children:\"AlertManager\\uB294 Prometheus \\uC11C\\uBC84\\uC5D0\\uC11C \\uBCF4\\uB0B4\\uB294 \\uC54C\\uB9BC\\uC744 \\uBAA8\\uB450 \\uC804\\uB2EC\\uBC1B\\uC544 \\uC54C\\uB9BC\\uC744 \\uBC1B\\uC544\\uC57C \\uD560 \\uC218\\uC2E0\\uC790\\uC5D0\\uAC8C \\uC774\\uBA54\\uC77C\\uC774\\uB098 \\uCC44\\uD305 \\uBA54\\uC2DC\\uC9C0, \\uB610\\uB294 \\uD638\\uCD9C \\uB4F1\\uC758 \\uD1B5\\uBCF4\\uB85C \\uBCC0\\uD658\\uD558\\uB294 \\uC5ED\\uD560\\uC744 \\uD55C\\uB2E4.\"}),(0,e.jsxs)(i.h3,{id:\"inhibition\\uC5B5\\uC81C\",children:[(0,e.jsx)(i.a,{\"aria-hidden\":\"true\",href:\"#inhibition\\uC5B5\\uC81C\",tabIndex:\"-1\",children:(0,e.jsx)(i.span,{className:\"icon icon-link\"})}),\"Inhibition(\\uC5B5\\uC81C)\"]}),(0,e.jsx)(i.p,{children:\"\\uAC04\\uD639 \\uC99D\\uC0C1\\uC744 \\uAE30\\uBC18\\uC73C\\uB85C \\uD558\\uB294 \\uC54C\\uB9BC\\uC744 \\uC0AC\\uC6A9\\uD558\\uB354\\uB77C\\uB3C4, \\uC11C\\uBE44\\uC2A4\\uAC00 \\uC18D\\uD55C \\uB370\\uC774\\uD130 \\uC13C\\uD130\\uC5D0\\uC11C \\uC7A5\\uC560\\uAC00 \\uBC1C\\uC0DD\\uD558\\uB294 \\uACBD\\uC6B0 \\uC774\\uB85C \\uC778\\uD574 \\uC11C\\uBE44\\uC2A4 \\uD2B8\\uB798\\uD53D\\uC774 \\uC218\\uC2E0\\uB418\\uC9C0 \\uC54A\\uB294 \\uC0C1\\uB300\\uC801\\uC73C\\uB85C \\uC0AC\\uC18C\\uD55C \\uBB38\\uC81C\\uAC00 \\uBC1C\\uC0DD\\uD558\\uB354\\uB77C\\uB3C4 \\uC774\\uC5D0 \\uB300\\uD55C \\uC54C\\uB9BC\\uC744 \\uB9C9\\uB294 \\uAC83\\uCC98\\uB7FC, \\uB354 \\uC2EC\\uAC01\\uD55C \\uC54C\\uB9BC\\uC774 \\uBC1C\\uC0DD\\uD55C\\uB2E4\\uBA74 \\uC77C\\uBD80 \\uB2E4\\uB978 \\uC54C\\uB9BC\\uC758 noti\\uB97C \\uB9C9\\uAE38 \\uC6D0\\uD560 \\uAC83\\uC774\\uB2E4. \\uC774\\uAC83\\uC774 \\uC5B5\\uC81C\\uC758 \\uC5ED\\uD560\\uC774\\uB2E4.\"}),(0,e.jsx)(i.p,{children:\"\\uC5B5\\uC81C\\uB294 \\uD2B9\\uC815 \\uAE30\\uD0C0 \\uC54C\\uB9BC\\uC774 \\uC774\\uBBF8 \\uC791\\uB3D9 \\uC911\\uC778 \\uACBD\\uC6B0 \\uD2B9\\uC815 \\uC54C\\uB9BC\\uC5D0 \\uB300\\uD55C \\uC54C\\uB9BC\\uC744 \\uC5B5\\uC81C\\uD558\\uB294 \\uAC1C\\uB150\\uC785\\uB2C8\\uB2E4.\"}),(0,e.jsx)(i.p,{children:\"\\uC608\\uC2DC: \\uD074\\uB7EC\\uC2A4\\uD130 \\uC804\\uCCB4\\uC5D0 \\uC5F0\\uACB0\\uD560 \\uC218 \\uC5C6\\uB2E4\\uB294 \\uC54C\\uB9BC\\uC774 \\uBC1C\\uC0DD\\uD558\\uB294 \\uACBD\\uC6B0 Alertmanager\\uB294 \\uD574\\uB2F9 \\uC54C\\uB9BC\\uC774 \\uC791\\uB3D9 \\uC911\\uC778 \\uACBD\\uC6B0 \\uD574\\uB2F9 \\uD074\\uB7EC\\uC2A4\\uD130\\uC640 \\uAD00\\uB828\\uB41C \\uB2E4\\uB978 \\uBAA8\\uB4E0 \\uC54C\\uB9BC\\uC744 \\uC74C\\uC18C\\uAC70\\uD558\\uB3C4\\uB85D \\uAD6C\\uC131\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4. \\uC774\\uB807\\uAC8C \\uD558\\uBA74 \\uC2E4\\uC81C \\uBB38\\uC81C\\uC640 \\uAD00\\uB828\\uC5C6\\uB294 \\uC218\\uBC31 \\uB610\\uB294 \\uC218\\uCC9C \\uAC1C\\uC758 \\uC54C\\uB9BC\\uC5D0 \\uB300\\uD55C \\uC54C\\uB9BC\\uC774 \\uC81C\\uD55C\\uB429\\uB2C8\\uB2E4.\"}),(0,e.jsxs)(i.h3,{id:\"silencing\",children:[(0,e.jsx)(i.a,{\"aria-hidden\":\"true\",href:\"#silencing\",tabIndex:\"-1\",children:(0,e.jsx)(i.span,{className:\"icon icon-link\"})}),\"Silencing\"]}),(0,e.jsx)(i.p,{children:\"\\uBB38\\uC81C\\uC5D0 \\uB300\\uD574 \\uC774\\uBBF8 \\uC54C\\uACE0 \\uC788\\uAC70\\uB098 \\uC720\\uC9C0\\uBCF4\\uC218\\uB97C \\uC704\\uD574 \\uC11C\\uBE44\\uC2A4\\uB97C \\uC911\\uB2E8\\uD558\\uB294 \\uACBD\\uC6B0 \\uC774\\uC5D0 \\uB300\\uD574 \\uB300\\uAE30\\uC911\\uC778 \\uC5D4\\uC9C0\\uB2C8\\uC5B4\\uB97C \\uD638\\uCD9C\\uD560 \\uD544\\uC694\\uAC00 \\uC5C6\\uB2E4. \\uC0AC\\uC77C\\uB7F0\\uC2F1\\uC744 \\uD1B5\\uD574 \\uC77C\\uC815 \\uC2DC\\uAC04\\uB3D9\\uC548 \\uD2B9\\uC815 \\uC54C\\uB9BC\\uC744 \\uBB34\\uC2DC\\uD560 \\uC218 \\uC788\\uC73C\\uBA70, \\uC54C\\uB9BC\\uB9E4\\uB2C8\\uC800\\uC758 \\uC6F9 UI \\uC5D0\\uC11C \\uC0AC\\uC77C\\uB7F0\\uC2F1\\uC744 \\uC124\\uC815\\uD55C\\uB2E4.\"}),(0,e.jsx)(i.p,{children:\"\\uC74C\\uC18C\\uAC70\\uB294 \\uD2B9\\uC815 \\uC2DC\\uAC04 \\uB3D9\\uC548 \\uC54C\\uB9BC\\uC744 \\uB2E8\\uC21C\\uD788 \\uC74C\\uC18C\\uAC70\\uD558\\uB294 \\uAC04\\uB2E8\\uD55C \\uBC29\\uBC95\\uC785\\uB2C8\\uB2E4. \\uC74C\\uC18C\\uAC70\\uB294 \\uB77C\\uC6B0\\uD305 \\uD2B8\\uB9AC\\uC640 \\uB9C8\\uCC2C\\uAC00\\uC9C0\\uB85C matcher\\uB97C \\uAE30\\uBC18\\uC73C\\uB85C \\uC124\\uC815\\uB418\\uBA70, \\uC218\\uC2E0\\uB418\\uB294 alert\\uC740 \\uD558\\uB098\\uC758 active silence\\uC640 \\uB3D9\\uB4F1\\uD558\\uAC70\\uB098 regex matcher\\uC640 \\uC77C\\uCE58\\uD558\\uB294\\uC9C0\\uB97C \\uC5EC\\uBD80\\uB97C \\uD655\\uC778\\uD55C\\uB2E4. \\uC77C\\uCE58\\uD558\\uB294 \\uACBD\\uC6B0 \\uD574\\uB2F9 \\uC54C\\uB9BC\\uC5D0 \\uB300\\uD55C \\uC54C\\uB9BC\\uC774 \\uC804\\uC1A1\\uB418\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4.\"}),(0,e.jsxs)(i.h3,{id:\"routing\",children:[(0,e.jsx)(i.a,{\"aria-hidden\":\"true\",href:\"#routing\",tabIndex:\"-1\",children:(0,e.jsx)(i.span,{className:\"icon icon-link\"})}),\"Routing\"]}),(0,e.jsx)(i.p,{children:\"\\uC870\\uC9C1\\uBCC4\\uB85C \\uD558\\uB098\\uC758 AlertManager\\uB97C \\uC2E4\\uD589\\uD558\\uB824\\uACE0 \\uD574\\uB3C4 \\uBAA8\\uB4E0 noti \\uAC00 \\uD55C\\uACF3\\uC73C\\uB85C \\uC804\\uB2EC\\uB418\\uC9C0 \\uC54A\\uB294\\uB2E4. \\uAC01 \\uD300\\uC758 \\uC54C\\uB9BC\\uC740 \\uAC01\\uAE30 \\uB2E4\\uB978 \\uACF3\\uC73C\\uB85C \\uC804\\uB2EC\\uB418\\uAE38 \\uBC14\\uB784 \\uAC83\\uC774\\uBA70, \\uD300 \\uB0B4\\uC5D0\\uC11C\\uB3C4 \\uB2E4\\uB974\\uAC8C \\uCC98\\uB9AC\\uB418\\uB294 \\uC6B4\\uC601 \\uD658\\uACBD\\uC774\\uB098 \\uAC1C\\uBC1C \\uD658\\uACBD\\uC5D0 \\uB300\\uD55C \\uC54C\\uB9BC\\uC744 \\uBC1B\\uAE38 \\uC6D0\\uD560 \\uAC83\\uC774\\uB2E4. AlertManager\\uB294 routing tree\\uB97C \\uC0AC\\uC6A9\\uD574 \\uC774\\uC5D0 \\uB300\\uD55C \\uAD6C\\uC131\\uC744 \\uD560 \\uC218 \\uC788\\uB2E4.\"}),(0,e.jsxs)(i.h3,{id:\"grouping\",children:[(0,e.jsx)(i.a,{\"aria-hidden\":\"true\",href:\"#grouping\",tabIndex:\"-1\",children:(0,e.jsx)(i.span,{className:\"icon icon-link\"})}),\"Grouping\"]}),(0,e.jsx)(i.p,{children:\"\\uC774\\uC81C \\uD300\\uC774 \\uC6B4\\uC601\\uD558\\uB294 \\uD658\\uACBD\\uC5D0 \\uB300\\uD55C \\uC54C\\uB9BC \\uACBD\\uB85C(route) \\uB97C \\uB530\\uB77C \\uC774\\uB3D9\\uD558\\uAC8C \\uB41C\\uB2E4. \\uC7A5\\uC560\\uAC00 \\uBC1C\\uC0DD\\uD55C rack\\uC758 \\uC804\\uCCB4 \\uBA38\\uC2E0\\uC5D0 \\uB300\\uD574 \\uAC1C\\uBCC4\\uC801\\uC73C\\uB85C \\uD1B5\\uBCF4\\uB97C \\uBC1B\\uB294 \\uAC83\\uC740 \\uC2A4\\uD338\\uC774 \\uB420 \\uC218 \\uC788\\uB2E4. \\uB530\\uB77C\\uC11C AlertManager\\uC758 \\uADF8\\uB8F9 \\uC54C\\uB9BC\\uC744 \\uC0AC\\uC6A9\\uD574 rack\\uBCC4\\uB85C \\uD558\\uB098\\uC758 \\uC54C\\uB9BC D/C \\uBCC4\\uB85C \\uD558\\uB098\\uC758 \\uC54C\\uB9BC, \\uB610\\uB294 \\uC811\\uADFC\\uD560 \\uC218 \\uC5C6\\uB294 \\uBA38\\uC2E0\\uB4E4\\uC5D0 \\uB300\\uD574 \\uD558\\uB098\\uC758 \\uC804\\uCCB4 \\uC54C\\uB9BC\\uC744 \\uBCF4\\uB0B4\\uB294 \\uD3B8\\uC774 \\uB098\\uC744 \\uAC83\\uC774\\uB2E4.\"}),(0,e.jsx)(i.p,{children:\"\\uADF8\\uB8F9\\uD654\\uB294 \\uC720\\uC0AC\\uD55C \\uC54C\\uB9BC\\uC744 \\uD558\\uB098\\uC758 \\uC54C\\uB9BC\\uC73C\\uB85C \\uBD84\\uB958\\uD558\\uB294 \\uAE30\\uB2A5\\uC785\\uB2C8\\uB2E4. \\uC218\\uBC31 \\uAC1C\\uC5D0\\uC11C \\uC218\\uCC9C \\uAC1C\\uAE4C\\uC9C0 \\uB3D9\\uC2DC\\uC5D0 \\uBC1C\\uC0DD\\uD558\\uB294 \\uC54C\\uB9BC\\uC774 \\uB9CE\\uC740 \\uC7A5\\uC560 \\uC0C1\\uD669\\uC5D0\\uC11C \\uC720\\uC6A9\\uD569\\uB2C8\\uB2E4.\"}),(0,e.jsx)(i.p,{children:\"\\uC608\\uC2DC: \\uD074\\uB7EC\\uC2A4\\uD130\\uC5D0\\uC11C \\uC218\\uC2ED \\uB610\\uB294 \\uC218\\uBC31\\uAC1C\\uC758 \\uC11C\\uBE44\\uC2A4 \\uC778\\uC2A4\\uD134\\uC2A4\\uAC00 \\uC2E4\\uD589 \\uC911\\uC778\\uB370 \\uB124\\uD2B8\\uC6CC\\uD06C \\uBD84\\uD560\\uC774 \\uBC1C\\uC0DD\\uD569\\uB2C8\\uB2E4. \\uC11C\\uBE44\\uC2A4 \\uC778\\uC2A4\\uD134\\uC2A4 \\uC911 \\uC808\\uBC18\\uC774 \\uB354 \\uC774\\uC0C1 \\uB370\\uC774\\uD130\\uBCA0\\uC774\\uC2A4\\uC640 \\uD1B5\\uC2E0\\uD560 \\uC218 \\uC5C6\\uC2B5\\uB2C8\\uB2E4. \\uD504\\uB85C\\uBA54\\uD14C\\uC6B0\\uC2A4\\uC758 \\uACBD\\uACE0 \\uADDC\\uCE59\\uC740 \\uB370\\uC774\\uD130\\uBCA0\\uC774\\uC2A4\\uC640 \\uD1B5\\uC2E0\\uD560 \\uC218 \\uC5C6\\uB294 \\uAC01 \\uC11C\\uBE44\\uC2A4 \\uC778\\uC2A4\\uD134\\uC2A4\\uB9C8\\uB2E4 \\uC54C\\uB9BC\\uC744 \\uBCF4\\uB0B4\\uB3C4\\uB85D \\uC124\\uC815\\uB418\\uC5B4 \\uC788\\uC2B5\\uB2C8\\uB2E4. \\uACB0\\uACFC\\uC801\\uC73C\\uB85C \\uC218\\uBC31 \\uAC1C\\uC758 \\uACBD\\uACE0\\uAC00 Alertmanager\\uC5D0 \\uC804\\uC1A1\\uB429\\uB2C8\\uB2E4.\"}),(0,e.jsx)(i.p,{children:\"\\uC0AC\\uC6A9\\uC790\\uB294 \\uC77C\\uBC18\\uC801\\uC73C\\uB85C \\uAC1C\\uBCC4 \\uC778\\uC2A4\\uD134\\uC2A4\\uB9C8\\uB2E4 \\uBC1C\\uC0DD\\uD55C \\uC5EC\\uB7EC \\uAC1C\\uC758 \\uC54C\\uB9BC\\uC744 \\uBC1B\\uB294 \\uAC83\\uBCF4\\uB2E4 \\uC5B4\\uB5A4 \\uC11C\\uBE44\\uC2A4 \\uC778\\uC2A4\\uD134\\uC2A4\\uAC00 \\uC601\\uD5A5\\uC744 \\uBC1B\\uC558\\uB294\\uC9C0 \\uBCF4\\uC5EC\\uC8FC\\uB294 \\uB2E8\\uC77C \\uC54C\\uB9BC\\uC744 \\uBC1B\\uB294 \\uAC83\\uC744 \\uC120\\uD638\\uD569\\uB2C8\\uB2E4. \\uB530\\uB77C\\uC11C Alertmanager\\uB97C \\uAD6C\\uC131\\uD558\\uC5EC \\uD074\\uB7EC\\uC2A4\\uD130 \\uBC0F \\uACBD\\uACE0 \\uC774\\uB984\\uBCC4\\uB85C \\uC54C\\uB9BC\\uC744 \\uADF8\\uB8F9\\uD654\\uD558\\uC5EC \\uB2E8\\uC77C \\uC555\\uCD95 \\uC54C\\uB9BC\\uC744 \\uBCF4\\uB0B4\\uB3C4\\uB85D \\uC124\\uC815\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"}),(0,e.jsxs)(i.h3,{id:\"throttling-and-repetition-\\uC870\\uC808\\uACFC-\\uBC18\\uBCF5\",children:[(0,e.jsx)(i.a,{\"aria-hidden\":\"true\",href:\"#throttling-and-repetition-\\uC870\\uC808\\uACFC-\\uBC18\\uBCF5\",tabIndex:\"-1\",children:(0,e.jsx)(i.span,{className:\"icon icon-link\"})}),\"Throttling and repetition \\uC870\\uC808\\uACFC \\uBC18\\uBCF5\"]}),(0,e.jsx)(i.p,{children:\"\\uBA38\\uC2E0\\uB4E4\\uC774 \\uBC30\\uCE58\\uB41C \\uB799\\uC774 \\uB3D9\\uC791\\uD558\\uC9C0 \\uC54A\\uC73C\\uBA74 \\uADF8\\uB8F9 \\uC54C\\uB9BC\\uC774 \\uBC1C\\uC0DD\\uD558\\uACE0, \\uAC1C\\uBCC4 \\uBA38\\uC2E0\\uC5D0 \\uB300\\uD55C \\uC54C\\uB9BC\\uC740 noti \\uAC00 \\uC804\\uC1A1\\uB41C \\uC774\\uD6C4 \\uBC1C\\uC0DD\\uD55C\\uB2E4. \\uADF8\\uB8F9\\uBCC4\\uB85C \\uC0C8\\uB85C\\uC6B4 \\uC54C\\uB9BC\\uC774 \\uBC1C\\uC0DD\\uB420 \\uB54C\\uB9C8\\uB2E4 \\uC0C8\\uB85C\\uC6B4 noti \\uB97C \\uC804\\uC1A1\\uD55C\\uB2E4\\uBA74 \\uADF8\\uB8F9\\uD654\\uB97C \\uD558\\uB294 \\uBAA9\\uC801\\uC774 \\uC0AC\\uB77C\\uC9C0\\uAC8C \\uB420 \\uAC83\\uC774\\uB2E4. \\uB300\\uC2E0, AlertManager\\uB294 \\uC8FC\\uC5B4\\uC9C4 \\uADF8\\uB8F9\\uC5D0 \\uB300\\uD55C \\uD1B5\\uBCF4\\uB97C \\uC870\\uC808\\uD574 \\uC2A4\\uD338\\uC774 \\uBC1C\\uC0DD\\uB418\\uC9C0 \\uC54A\\uAC8C \\uD560 \\uAC83\\uC774\\uB2E4.\"}),(0,e.jsx)(i.p,{children:\"\\uC774\\uC0C1\\uC801\\uC778 \\uD658\\uACBD\\uC5D0\\uC11C \\uBAA8\\uB4E0 notification\\uC740 \\uBC14\\uB85C \\uCC98\\uB9AC\\uB418\\uC5B4\\uC57C \\uD558\\uC9C0\\uB9CC \\uD604\\uC2E4\\uC5D0\\uC11C\\uB294 \\uB300\\uAE30 \\uC911\\uC778 \\uC5D4\\uC9C0\\uB2C8\\uC5B4\\uB098 \\uB2E4\\uB978 \\uC2DC\\uC2A4\\uD15C\\uC774 \\uBB38\\uC81C\\uB97C \\uCC98\\uB9AC\\uD558\\uC9C0 \\uC54A\\uC744 \\uC218 \\uC788\\uB2E4. \\uADF8\\uB807\\uAC8C \\uB418\\uBA74 AlertManager\\uB294 \\uBB38\\uC81C\\uAC00 \\uD574\\uACB0\\uB420 \\uB584\\uAE4C\\uC9C0 notification\\uC744 \\uBC18\\uBCF5\\uD560 \\uAC83\\uC774\\uB2E4.\"}),(0,e.jsxs)(i.h3,{id:\"notification-\\uD1B5\\uBCF4\",children:[(0,e.jsx)(i.a,{\"aria-hidden\":\"true\",href:\"#notification-\\uD1B5\\uBCF4\",tabIndex:\"-1\",children:(0,e.jsx)(i.span,{className:\"icon icon-link\"})}),\"Notification \\uD1B5\\uBCF4\"]}),(0,e.jsx)(i.p,{children:\"\\uC54C\\uB9BC\\uC774 \\uC5B5\\uC81C, \\uC0AC\\uC77C\\uB7F0\\uC2F1, \\uB77C\\uC6B0\\uD305 \\uCC98\\uB9AC, \\uADF8\\uB8F9\\uD654, Throttling and repetition\\uC744 \\uB85C\\uC9C1\\uC744 \\uAC70\\uCCD0\\uC11C \\uC218\\uC2E0\\uC790\\uC5D0\\uAC8C \\uC804\\uB2EC\\uB418\\uC5B4\\uC57C \\uD55C\\uB2E4\\uACE0 \\uD310\\uB2E8\\uB418\\uBA74 notification\\uC774 \\uC804\\uC1A1\\uB41C\\uB2E4.\"}),(0,e.jsxs)(i.h3,{id:\"high-availability-\\uACE0\\uAC00\\uC6A9\\uC131\",children:[(0,e.jsx)(i.a,{\"aria-hidden\":\"true\",href:\"#high-availability-\\uACE0\\uAC00\\uC6A9\\uC131\",tabIndex:\"-1\",children:(0,e.jsx)(i.span,{className:\"icon icon-link\"})}),\"High Availability \\uACE0\\uAC00\\uC6A9\\uC131\"]}),(0,e.jsx)(i.p,{children:\"Alertmanager\\uB294 \\uACE0\\uAC00\\uC6A9\\uC131 \\uD074\\uB7EC\\uC2A4\\uD130\\uB97C \\uC0DD\\uC131\\uD558\\uAE30 \\uC704\\uD55C \\uC124\\uC815\\uC744 \\uC9C0\\uC6D0\\uD569\\uB2C8\\uB2E4. AlertManager \\uC778\\uC2A4\\uD134\\uC2A4\\uB97C \\uC2E4\\uD589\\uD560 \\uB54C --cluster-* \\uD50C\\uB798\\uADF8\\uB97C \\uC0AC\\uC6A9\\uD558\\uC5EC \\uC2E4\\uD589\\uC911\\uC778 \\uB2E4\\uB978 \\uC778\\uC2A4\\uD134\\uC2A4\\uB97C \\uC5F0\\uACB0\\uD574\\uD558\\uC5EC \\uD558\\uB098\\uC758 \\uD074\\uB7EC\\uC2A4\\uD130\\uB85C \\uC791\\uB3D9\\uD558\\uB3C4\\uB85D \\uAD6C\\uC131\\uD560 \\uC218 \\uC788\\uB2E4.\"}),(0,e.jsx)(\"img\",{src:\"/static/images/prometheus/HA_in_AlertManager_arch.svg\"}),(0,e.jsx)(i.p,{children:\"Alertmanager\\uC758 \\uACE0\\uAC00\\uC6A9\\uC131(HA)\\uC740 \\uC11C\\uB85C \\uD1B5\\uC2E0\\uD558\\uB294 Alertmanager \\uC778\\uC2A4\\uD134\\uC2A4 \\uD074\\uB7EC\\uC2A4\\uD130\\uB97C \\uC0DD\\uC131\\uD558\\uB294 \\uBC29\\uC2DD\\uC73C\\uB85C \\uC791\\uB3D9\\uD569\\uB2C8\\uB2E4. \\uC774\\uB807\\uAC8C \\uD558\\uBA74 \\uD558\\uB098 \\uC774\\uC0C1\\uC758 \\uC778\\uC2A4\\uD134\\uC2A4\\uC5D0 \\uC7A5\\uC560\\uAC00 \\uBC1C\\uC0DD\\uD558\\uB354\\uB77C\\uB3C4 \\uB098\\uBA38\\uC9C0 \\uC778\\uC2A4\\uD134\\uC2A4\\uAC00 \\uACC4\\uC18D \\uC791\\uB3D9\\uD558\\uC5EC \\uC54C\\uB9BC \\uC2DC\\uC2A4\\uD15C\\uC758 \\uC804\\uBC18\\uC801\\uC778 \\uAE30\\uB2A5\\uACFC \\uC548\\uC815\\uC131\\uC744 \\uC720\\uC9C0\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4. \\uB2E4\\uC74C\\uC740 Alertmanager\\uC5D0\\uC11C HA\\uAC00 \\uC791\\uB3D9\\uD558\\uB294 \\uBC29\\uC2DD\\uC5D0 \\uB300\\uD55C \\uAC04\\uB7B5\\uD55C \\uAC1C\\uC694\\uC785\\uB2C8\\uB2E4:\"}),(0,e.jsx)(i.p,{children:\"\\uD074\\uB7EC\\uC2A4\\uD130\\uB97C \\uD615\\uC131\\uD558\\uB3C4\\uB85D \\uC5EC\\uB7EC \\uAC1C\\uC758 Alertmanager \\uC778\\uC2A4\\uD134\\uC2A4\\uAC00 \\uC124\\uC815 \\uBC0F \\uAD6C\\uC131\\uB429\\uB2C8\\uB2E4. \\uD074\\uB7EC\\uC2A4\\uD130\\uB294 listen address, advertise address, initial peers, \\uB2E4\\uC591\\uD55C \\uC2DC\\uAC04 \\uCD08\\uACFC \\uBC0F interval \\uC124\\uC815\\uC5D0 \\uB300\\uD55C \\uC124\\uC815\\uC744 \\uD3EC\\uD568\\uD558\\uB294 --cluster.* \\uD50C\\uB798\\uADF8\\uB97C \\uC0AC\\uC6A9\\uD558\\uC5EC \\uC11C\\uB85C \\uD1B5\\uC2E0\\uD569\\uB2C8\\uB2E4.\"}),(0,e.jsx)(i.p,{children:\"Alertmanager \\uC778\\uC2A4\\uD134\\uC2A4\\uC5D0\\uC11C \\uC54C\\uB9BC\\uC744 \\uC218\\uC2E0\\uD558\\uBA74 \\uD074\\uB7EC\\uC2A4\\uD130 \\uB0B4\\uC758 \\uBAA8\\uB4E0 \\uC778\\uC2A4\\uD134\\uC2A4\\uC5D0\\uC11C \\uC54C\\uB9BC\\uC774 \\uACF5\\uC720\\uB429\\uB2C8\\uB2E4. \\uC774\\uB807\\uAC8C \\uD558\\uBA74 \\uBAA8\\uB4E0 \\uC778\\uC2A4\\uD134\\uC2A4\\uAC00 \\uB3D9\\uC77C\\uD55C \\uC0C1\\uD0DC\\uB97C \\uC720\\uC9C0\\uD558\\uBA70 \\uC54C\\uB9BC\\uC5D0 \\uB300\\uD574 \\uB3C5\\uB9BD\\uC801\\uC73C\\uB85C \\uC870\\uCE58\\uB97C \\uCDE8\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"}),(0,e.jsx)(i.p,{children:\"\\uAC01 Alertmanager \\uC778\\uC2A4\\uD134\\uC2A4\\uB294 \\uC218\\uC2E0\\uB418\\uB294 \\uC54C\\uB9BC\\uC744 \\uD3C9\\uAC00\\uD558\\uC5EC \\uC911\\uBCF5 \\uC81C\\uAC70(deduplication), \\uADF8\\uB8F9\\uD654\\uB97C \\uC801\\uC6A9\\uD558\\uACE0 \\uC801\\uC808\\uD55C receiver integraion(\\uC608: \\uC774\\uBA54\\uC77C, PagerDuty, OpsGenie)\\uC73C\\uB85C \\uB77C\\uC6B0\\uD305\\uD569\\uB2C8\\uB2E4.\"}),(0,e.jsx)(i.p,{children:\"\\uB610\\uD55C \\uAC01 \\uC778\\uC2A4\\uD134\\uC2A4\\uBCC4\\uB85C \\uC54C\\uB9BC\\uC5D0 \\uC5B5\\uC81C(Inhibition) \\uBC0F \\uBB34\\uC74C(silence) \\uADDC\\uCE59\\uC744 \\uC801\\uC6A9\\uD558\\uC5EC \\uBD88\\uD544\\uC694\\uD55C \\uC54C\\uB9BC\\uC744 \\uC904\\uC77C \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"}),(0,e.jsx)(i.p,{children:\"Alertmanager \\uC778\\uC2A4\\uD134\\uC2A4 \\uC911 \\uD558\\uB098\\uC5D0\\uC11C \\uC7A5\\uC560\\uAC00 \\uBC1C\\uC0DD\\uD574\\uB3C4 \\uB098\\uBA38\\uC9C0 \\uC778\\uC2A4\\uD134\\uC2A4\\uB294 \\uACC4\\uC18D\\uD574\\uC11C \\uC54C\\uB9BC\\uC744 \\uCC98\\uB9AC\\uD558\\uACE0 \\uC54C\\uB9BC\\uC744 \\uBCF4\\uB0C5\\uB2C8\\uB2E4. \\uBAA8\\uB4E0 \\uC778\\uC2A4\\uD134\\uC2A4\\uC758 \\uC0C1\\uD0DC\\uAC00 \\uB3D9\\uC77C\\uD558\\uAE30 \\uB54C\\uBB38\\uC5D0 \\uAE30\\uB2A5 \\uC190\\uC2E4 \\uC5C6\\uC774 \\uC54C\\uB9BC\\uC744 \\uC6D0\\uD65C\\uD558\\uAC8C \\uCC98\\uB9AC\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"}),(0,e.jsx)(i.p,{children:\"Prometheus\\uB294 \\uC778\\uC2A4\\uD134\\uC2A4 \\uAC04\\uC5D0 \\uBD80\\uD558\\uB97C \\uBD84\\uC0B0\\uD558\\uB294 \\uB300\\uC2E0 \\uD074\\uB7EC\\uC2A4\\uD130\\uC758 \\uBAA8\\uB4E0 Alertmanager \\uC778\\uC2A4\\uD134\\uC2A4\\uC5D0 \\uC54C\\uB9BC\\uC744 \\uBCF4\\uB0B4\\uB3C4\\uB85D \\uAD6C\\uC131\\uB429\\uB2C8\\uB2E4. \\uC774\\uB807\\uAC8C \\uD558\\uBA74 \\uD558\\uB098 \\uC774\\uC0C1\\uC758 Alertmanager \\uC778\\uC2A4\\uD134\\uC2A4\\uAC00 \\uB2E4\\uC6B4\\uB418\\uB354\\uB77C\\uB3C4 \\uB098\\uBA38\\uC9C0 \\uC778\\uC2A4\\uD134\\uC2A4\\uB85C \\uC54C\\uB9BC\\uC774 \\uC804\\uC1A1\\uB418\\uC5B4 \\uACE0\\uAC00\\uC6A9\\uC131\\uC744 \\uC720\\uC9C0\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"})]})}}var v=A;return P;})();\n;return Component;","toc":[{"value":"offical document architecture diagram","url":"#offical-document-architecture-diagram","depth":2},{"value":"prometheus up and running book architecture diagram","url":"#prometheus-up-and-running-book-architecture-diagram","depth":2},{"value":"Jobs/Exporters","url":"#jobsexporters","depth":3},{"value":"서비스 검색","url":"#서비스-검색","depth":4},{"value":"저장 장치","url":"#저장-장치","depth":4},{"value":"AlertManager","url":"#alertmanager","depth":2},{"value":"Inhibition(억제)","url":"#inhibition억제","depth":3},{"value":"Silencing","url":"#silencing","depth":3},{"value":"Routing","url":"#routing","depth":3},{"value":"Grouping","url":"#grouping","depth":3},{"value":"Throttling and repetition 조절과 반복","url":"#throttling-and-repetition-조절과-반복","depth":3},{"value":"Notification 통보","url":"#notification-통보","depth":3},{"value":"High Availability 고가용성","url":"#high-availability-고가용성","depth":3}],"frontMatter":{"readingTime":{"text":"6 min read","minutes":5.71,"time":342600,"words":1142},"slug":"prometheus","fileName":"prometheus.mdx","title":"prometheus","date":"2023-05-30T03:03:00.000Z","lastmod":"2023-05-30","tags":["alert"],"draft":false,"summary":"","layout":"PostSimple"}},"authorDetails":[{"readingTime":{"text":"1 min read","minutes":0.155,"time":9300,"words":31},"slug":["default"],"fileName":"default.md","name":"demian11k","avatar":"/static/images/avatar.png","email":"demian11k@gmail.com","github":"https://github.com/demian9k","date":null}],"prev":{"title":"ITSM terms","date":"2023-05-25T01:01:00.000Z","lastmod":"2023-05-25","tags":["ITSM"],"draft":false,"summary":"","layout":"PostSimple","slug":"ITSM_terms"},"next":{"title":"prometheus johoon","date":"2023-05-31T03:03:00.000Z","lastmod":"2023-05-31","tags":["alert"],"draft":false,"summary":"","layout":"PostSimple","slug":"prometheus_johoon"}},"__N_SSG":true},"page":"/blog/[...slug]","query":{"slug":["prometheus"]},"buildId":"TWrYiG8cDLrh4SVS_8Bfu","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>