<!DOCTYPE html><html lang="en" class="scroll-smooth"><head><meta charSet="utf-8"/><script>!function(){try {var d=document.documentElement.classList;d.remove('light','dark');var e=localStorage.getItem('theme');if("system"===e||(!e&&true)){var t="(prefers-color-scheme: dark)",m=window.matchMedia(t);m.media!==t||m.matches?d.add('dark'):d.add('light')}else if(e) d.add(e)}catch(e){}}()</script><meta content="width=device-width, initial-scale=1" name="viewport"/><title>SQL Anti Patterns Part 1</title><meta name="robots" content="follow, index"/><meta name="description" content=""/><meta property="og:url" content="https://demian9k.github.io/blog/sql-antipatterns-1"/><meta property="og:type" content="article"/><meta property="og:site_name" content="demian11k studylog"/><meta property="og:description" content=""/><meta property="og:title" content="SQL Anti Patterns Part 1"/><meta property="og:image" content="https://demian9k.github.io/static/images/twitter-card.png"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site"/><meta name="twitter:title" content="SQL Anti Patterns Part 1"/><meta name="twitter:description" content=""/><meta name="twitter:image" content="https://demian9k.github.io/static/images/twitter-card.png"/><link rel="canonical" href="https://demian9k.github.io/blog/sql-antipatterns-1/"/><meta property="article:published_time" content="2019-03-31T09:32:14.000Z"/><meta property="article:modified_time" content="2019-03-31T00:00:00.000Z"/><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "Article",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://demian9k.github.io/blog/sql-antipatterns-1"
  },
  "headline": "SQL Anti Patterns Part 1",
  "image": [
    {
      "@type": "ImageObject",
      "url": "https://demian9k.github.io/static/images/twitter-card.png"
    }
  ],
  "datePublished": "2019-03-31T09:32:14.000Z",
  "dateModified": "2019-03-31T00:00:00.000Z",
  "author": {
    "@type": "Person",
    "name": "demian11k"
  },
  "publisher": {
    "@type": "Organization",
    "name": "demian11k",
    "logo": {
      "@type": "ImageObject",
      "url": "https://demian9k.github.io/static/images/logo.png"
    }
  },
  "description": ""
}</script><meta name="next-head-count" content="21"/><link rel="apple-touch-icon" sizes="76x76" href="/static/favicons/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/static/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/static/favicons/favicon-16x16.png"/><link rel="manifest" href="/static/favicons/site.webmanifest"/><link rel="mask-icon" href="/static/favicons/safari-pinned-tab.svg" color="#5bbad5"/><meta name="msapplication-TileColor" content="#000000"/><meta name="theme-color" media="(prefers-color-scheme: light)" content="#fff"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#000"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><link rel="preload" href="/_next/static/css/9da9539fac7f1ee9.css" as="style"/><link rel="stylesheet" href="/_next/static/css/9da9539fac7f1ee9.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-1667cddafac2eea3.js" defer=""></script><script src="/_next/static/chunks/main-bfc1a3b6dd286443.js" defer=""></script><script src="/_next/static/chunks/pages/_app-e097d8b875e64e46.js" defer=""></script><script src="/_next/static/chunks/140-77b8ab5a870d524b.js" defer=""></script><script src="/_next/static/chunks/574-40cb695d6b511631.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5B...slug%5D-48fd063b43fdbe6a.js" defer=""></script><script src="/_next/static/R1cpZtUWE2mFLIblfb-kJ/_buildManifest.js" defer=""></script><script src="/_next/static/R1cpZtUWE2mFLIblfb-kJ/_ssgManifest.js" defer=""></script><script src="/_next/static/R1cpZtUWE2mFLIblfb-kJ/_middlewareManifest.js" defer=""></script><style id="__jsx-f63eb460da3870e7">.font_style.jsx-f63eb460da3870e7{font-size:1.5em;font-weight:600}.pattern_no.jsx-f63eb460da3870e7{color:hotpink}.title_text.jsx-f63eb460da3870e7{}</style><style id="__jsx-534e162a5b6aec07">.tg.jsx-534e162a5b6aec07{border-collapse:collapse;border-spacing:0}.tg.jsx-534e162a5b6aec07 td.jsx-534e162a5b6aec07{border-color:black;border-style:solid;border-width:1px;font-family:Arial,sans-serif;font-size:14px;overflow:hidden;padding:10px 5px;word-break:normal}.tg.jsx-534e162a5b6aec07 th.jsx-534e162a5b6aec07{border-color:black;border-style:solid;border-width:1px;font-family:Arial,sans-serif;font-size:14px;font-weight:normal;overflow:hidden;padding:10px 5px;word-break:normal}.tg.jsx-534e162a5b6aec07 .tg-alxj.jsx-534e162a5b6aec07{background-color:#fff;color:#404040;text-align:left;vertical-align:top}.tg.jsx-534e162a5b6aec07 .tg-zatc.jsx-534e162a5b6aec07{background-color:#fff;color:#404040;font-weight:bold;text-align:left;vertical-align:bottom}.tg.jsx-534e162a5b6aec07 .tg-zatc.jsx-534e162a5b6aec07 span.jsx-534e162a5b6aec07{font-weight:600!important;color:var(--tw-prose-headings)!important}.tg.jsx-534e162a5b6aec07 .tg-9c02.jsx-534e162a5b6aec07{background-color:#fff;color:#404040;text-align:left;vertical-align:top}</style></head><body class="bg-white text-black antialiased dark:bg-gray-900 dark:text-white"><div id="__next" data-reactroot=""><div class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><div class="flex h-screen flex-col justify-between"><header class="flex items-center justify-between py-10"><div><a aria-label="demian11k.studylog" href="/"><div class="flex items-center justify-between"><div class="mr-3"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%2740%27%20height=%2740%27/%3e"/></span><img alt="A" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="rounded-full object-cover object-center md:h-36 lg:h-48" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="A" srcSet="/_next/static/media/demian_avatar_logo.c12b9855.png?imwidth=48 1x, /_next/static/media/demian_avatar_logo.c12b9855.png?imwidth=96 2x" src="/_next/static/media/demian_avatar_logo.c12b9855.png?imwidth=96" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="rounded-full object-cover object-center md:h-36 lg:h-48" loading="lazy"/></noscript></span></div><div class="hidden h-6 text-2xl font-semibold sm:block">demian11k.studylog</div></div></a></div><div class="flex items-center text-base leading-5"><div class="hidden sm:block"><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/blog">Blog</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/tags">Tags</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/projects">Projects</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/about">About</a></div><button aria-label="Toggle Dark Mode" type="button" class="ml-1 mr-1 h-8 w-8 rounded p-1 sm:ml-4"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg></button><div class="sm:hidden"><button type="button" class="ml-1 mr-1 h-8 w-8 rounded py-1" aria-label="Toggle Menu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg></button><div class="fixed top-0 left-0 z-10 h-full w-full transform bg-gray-200 opacity-95 duration-300 ease-in-out dark:bg-gray-800 translate-x-full"><div class="flex justify-end"><button type="button" class="mr-5 mt-11 h-8 w-8 rounded" aria-label="Toggle Menu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><nav class="fixed mt-8 h-full"><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/blog">Blog</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/tags">Tags</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/projects">Projects</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/about">About</a></div></nav></div></div></div></header><main class="mb-auto"><div class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><div class="fixed right-8 bottom-8 hidden flex-col gap-3 md:hidden"><button aria-label="Scroll To Top" type="button" class="rounded-full bg-gray-200 p-2 text-gray-500 transition-all hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-400 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><article><div><header><div class="space-y-1 border-b border-gray-200 pb-10 text-center dark:border-gray-700"><dl><div><dt class="sr-only">Published on</dt><dd class="text-base font-medium leading-6 text-gray-500 dark:text-gray-400"><time dateTime="2019-03-31T09:32:14.000Z">March 31, 2019</time></dd></div></dl><div><h1 class="text-3xl font-extrabold leading-9 tracking-tight text-gray-900 dark:text-gray-100 sm:text-4xl sm:leading-10 md:text-5xl md:leading-14">SQL Anti Patterns Part 1</h1></div></div></header><div class="divide-y divide-gray-200 pb-8 dark:divide-gray-700 xl:divide-y-0 " style="grid-template-rows:auto 1fr"><div class="divide-y divide-gray-200 dark:divide-gray-700 xl:col-span-3 xl:row-span-2 xl:pb-0"><div class="prose max-w-none pt-10 pb-8 dark:prose-dark"><p><strong>이 문서는 bill karwin의 저서 SQL Antipattern을 요약한 문서입니다.</strong></p><p>이 책은 24가지 SQL 안티패턴들과 그 방법 대신 쓸수 있는 방법들(Best Practice)를 알려준다.<br/>학술적 접근 보다는 실무적인 관점에서 저술되어 실제로 수행한 업무를 반추 할 수 있었다.<br/>하지만 널리 퍼져 있는 상식적인 안티패턴은 자세히 적지 않았다.</p><hr/><h2 id="example-database"><a href="#example-database" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Example Database</h2><p>서적 전반에서 사용하는 테이블의 ERD와 DDL<br/>소프트웨어의 버그 추적 시스템을 설계한 것이다.</p><div class="text-center"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%27600%27%20height=%27550%27/%3e"/></span><img alt="title" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="object-cover object-center md:h-36 lg:h-48" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="title" srcSet="/static/images/sql_antipattern/example_erd2.png?imwidth=640 1x, /static/images/sql_antipattern/example_erd2.png?imwidth=1200 2x" src="/static/images/sql_antipattern/example_erd2.png?imwidth=1200" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="object-cover object-center md:h-36 lg:h-48" loading="lazy"/></noscript></span></div><ul><li>accounts 테이블은 사용자 계정이다 버그를 보고하거나 comment를 남길 수 있다.</li><li>bugs 에는 사용자가 버그를 기록하는 테이블이며, 버그를 특징하는 Tags 와 버그를 설명하는 데 필요한 Screenshots 테이블이 연결된다.</li><li>bugStatus 테이블은 버그가 어떻게 처리되고 있는지 상태를 의미한다.</li><li>Products 테이블은 버그의 source 가 되는 제품을 의미하며, 하나의 Product에 여러개의 버그가 있을 수 있고, 하나의 Bug가 여러개 Product에 있을 수 있으므로 many-to-many 관계이다.</li><li>BugsProducts 테이블은 Bugs &lt;-&gt; Products 테이블의 many-to-many 관계 해소를 위한 intersection table 이다.</li></ul><div class="text-center"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%27600%27%20height=%27750%27/%3e"/></span><img alt="title" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="object-cover object-center md:h-36 lg:h-48" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="title" srcSet="/static/images/sql_antipattern/example_erd1.png?imwidth=640 1x, /static/images/sql_antipattern/example_erd1.png?imwidth=1200 2x" src="/static/images/sql_antipattern/example_erd1.png?imwidth=1200" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="object-cover object-center md:h-36 lg:h-48" loading="lazy"/></noscript></span></div><ul><li>installer는 프로덕트가 실행파일로 설치되는 형태의 소프트웨어로 설치에 관련된 정보를 담는다.</li></ul><br/><div class="remark-code-title">DDL</div><div class="relative"><pre><code class="language-sql code-highlight"><span class="code-line">
</span><span class="code-line"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Accounts <span class="token punctuation">(</span>
</span><span class="code-line">    account_id <span class="token keyword">SERIAL</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
</span><span class="code-line">    account_name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    first_name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    last_name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    email <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    password_hash <span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    portrait_image <span class="token keyword">BLOB</span><span class="token punctuation">,</span>
</span><span class="code-line">    hourly_rate <span class="token keyword">NUMERIC</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> BugStatus <span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token keyword">status</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span>
</span><span class="code-line"><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Bugs <span class="token punctuation">(</span>
</span><span class="code-line">    bug_id <span class="token keyword">SERIAL</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
</span><span class="code-line">    date_reported <span class="token keyword">DATE</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">    summary <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    description <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    resolution <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    reported_by <span class="token keyword">BIGINT</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">    assigned_to <span class="token keyword">BIGINT</span> <span class="token keyword">UNSIGNED</span><span class="token punctuation">,</span>
</span><span class="code-line">    verified_by <span class="token keyword">BIGINT</span> <span class="token keyword">UNSIGNED</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">status</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#x27;NEW&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">    priority <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    hours <span class="token keyword">NUMERIC</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>reported_by<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> Accounts<span class="token punctuation">(</span>account_id<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>assigned_to<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> Accounts<span class="token punctuation">(</span>account_id<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>verified_by<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> Accounts<span class="token punctuation">(</span>account_id<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token keyword">status</span><span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> BugStatus<span class="token punctuation">(</span><span class="token keyword">status</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Comments <span class="token punctuation">(</span>
</span><span class="code-line">    comment_id <span class="token keyword">SERIAL</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
</span><span class="code-line">    bug_id <span class="token keyword">BIGINT</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">    author <span class="token keyword">BIGINT</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">    comment_date <span class="token keyword">DATETIME</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">comment</span> <span class="token keyword">TEXT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>bug_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> Bugs<span class="token punctuation">(</span>bug_id<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>author<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> Accounts<span class="token punctuation">(</span>account_id<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Screenshots <span class="token punctuation">(</span>
</span><span class="code-line">    bug_id <span class="token keyword">BIGINT</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">    image_id <span class="token keyword">BIGINT</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">    screenshot_image <span class="token keyword">BLOB</span><span class="token punctuation">,</span>
</span><span class="code-line">    caption <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>bug_id<span class="token punctuation">,</span> image_id<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>bug_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> Bugs<span class="token punctuation">(</span>bug_id<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Tags <span class="token punctuation">(</span>
</span><span class="code-line">    bug_id <span class="token keyword">BIGINT</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">    tag <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>bug_id<span class="token punctuation">,</span> tag<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>bug_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> Bugs<span class="token punctuation">(</span>bug_id<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Products <span class="token punctuation">(</span>
</span><span class="code-line">    product_id <span class="token keyword">SERIAL</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
</span><span class="code-line">    product_name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> BugsProducts<span class="token punctuation">(</span>
</span><span class="code-line">    bug_id <span class="token keyword">BIGINT</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">    product_id <span class="token keyword">BIGINT</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>bug_id<span class="token punctuation">,</span> product_id<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>bug_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> Bugs<span class="token punctuation">(</span>bug_id<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>product_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> Products<span class="token punctuation">(</span>product_id<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span></code></pre></div><h1 id="part-i---logical-database-design-antipatterns"><a href="#part-i---logical-database-design-antipatterns" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Part I - Logical Database Design Antipatterns</h1><h3><a href="#" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><span class="jsx-f63eb460da3870e7 pattern_no font_style">| 패턴 1 |</span><span class="jsx-f63eb460da3870e7 title_text font_style"> <!-- -->무단횡단 jaywalking</span></h3><p>책에서는 Product 라는 테이블에 그 제품의 담당자 목록(Accounts)을 표현할 때 여러개의 값을 콤마로 구분한 문자열을 사용했다.</p><p>이 방법이 나쁜 이유는 데이터베이스는 이런 형태의 컬럼을 사용하도록 만들어지지 않았기 때문이다. 책에서는 select, aggregate, update 등의 쿼리를 보여주며 일반적으로 쿼리하는 방법이 아니라 특별한 방식으로 쿼리해야 하며 일반적으로 쿼리했을 때와 비교하여 여러번의 SQL 문장이 필요함을 말한다.</p><p>해결 방법으로는 Account와 Product 사이에 다대다 테이블을 만들어 사용하는 것이다.</p><p>이 방법의 유일한 장점은 애플리케이션에서 콤마로 구분된 문자열과 같은 형태의 값을 조작 없이 그대로 사용하는 경우이며 이것은 일종의 반정규화 효과를 일으킨다고 말한다. (반정규화는 성능 때문에 조인을 통해 테이블을 결합시키지 않기 위해 컬럼을 정규화하지 않는 것을 말한다.)</p><hr/><h3 id="-1"><a href="#-1" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><span class="jsx-f63eb460da3870e7 pattern_no font_style">| 패턴 2 |</span><span class="jsx-f63eb460da3870e7 title_text font_style"> <!-- -->순진한 트리 Naive trees</span></h3><p>테이블이 계층 구조를 만드는 방법을 5가지 소개한다.</p><p>사용 예는 버그 추적 시스템에서 버그에 대한 댓글 테이블이다.</p><ol><li>Adjacency List(인접 목록)</li></ol><div class="remark-code-title">adjacecy list</div><div class="relative"><pre><code class="language-sql code-highlight"><span class="code-line"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Comments <span class="token punctuation">(</span>
</span><span class="code-line">    comment_id <span class="token keyword">SERIAL</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
</span><span class="code-line">    parent_id <span class="token keyword">BIGINT</span> <span class="token keyword">UNSIGNED</span><span class="token punctuation">,</span>
</span><span class="code-line">    bug_id <span class="token keyword">BIGINT</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">    author <span class="token keyword">BIGINT</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">    comment_date <span class="token keyword">DATETIME</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">comment</span> <span class="token keyword">TEXT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>parent_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> Comments<span class="token punctuation">(</span>comment_id<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>bug_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> Bugs<span class="token punctuation">(</span>bug_id<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>author<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> Accounts<span class="token punctuation">(</span>account_id<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span></code></pre></div><table><thead><tr><th>comment_id</th><th>parent_id</th><th>author</th><th>comment</th></tr></thead><tbody><tr><td>1</td><td>null</td><td>Fran</td><td>What’s the cause of this bug?</td></tr><tr><td>2</td><td>1</td><td>Ollie</td><td>I think it’s a null pointer.</td></tr><tr><td>3</td><td>2</td><td>Fran</td><td>No, I checked for that.</td></tr><tr><td>4</td><td>1</td><td>Kukla</td><td>We need to check for invalid input.</td></tr><tr><td>5</td><td>4</td><td>Ollie</td><td>Yes, that’s a bug.</td></tr><tr><td>6</td><td>4</td><td>Fran</td><td>Yes, please add a check</td></tr><tr><td>7</td><td>6</td><td>Kukla</td><td>That fixed it</td></tr></tbody></table><p>가장 단순한 방법으로 parent_id 같은 같은 테이블의 pk를 표시한 컬럼을 참조하도록 하는 것이다.</p><br/><div class="remark-code-title">adjacency list query parent</div><div class="relative"><pre><code class="language-sql code-highlight"><span class="code-line"><span class="token keyword">SELECT</span> c1<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span> c2<span class="token punctuation">.</span><span class="token operator">*</span>
</span><span class="code-line"><span class="token keyword">FROM</span> Comments c1 <span class="token keyword">LEFT</span> <span class="token keyword">OUTER</span> <span class="token keyword">JOIN</span> Comments c2
</span><span class="code-line"><span class="token keyword">ON</span> c2<span class="token punctuation">.</span>parent_id <span class="token operator">=</span> c1<span class="token punctuation">.</span>comment_id<span class="token punctuation">;</span>
</span></code></pre></div><p>단순히 부모를 검색하는것은 쉽다.</p><br/><div class="remark-code-title">adjacency list query ancester</div><div class="relative"><pre><code class="language-sql code-highlight"><span class="code-line">    <span class="token keyword">SELECT</span> c1<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span> c2<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span> c3<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span> c4<span class="token punctuation">.</span><span class="token operator">*</span>
</span><span class="code-line">    <span class="token keyword">FROM</span> Comments c1 <span class="token comment">-- 1st level</span>
</span><span class="code-line">    <span class="token keyword">LEFT</span> <span class="token keyword">OUTER</span> <span class="token keyword">JOIN</span> Comments c2
</span><span class="code-line">    <span class="token keyword">ON</span> c2<span class="token punctuation">.</span>parent_id <span class="token operator">=</span> c1<span class="token punctuation">.</span>comment_id <span class="token comment">-- 2nd level</span>
</span><span class="code-line">    <span class="token keyword">LEFT</span> <span class="token keyword">OUTER</span> <span class="token keyword">JOIN</span> Comments c3
</span><span class="code-line">    <span class="token keyword">ON</span> c3<span class="token punctuation">.</span>parent_id <span class="token operator">=</span> c2<span class="token punctuation">.</span>comment_id <span class="token comment">-- 3rd level</span>
</span><span class="code-line">    <span class="token keyword">LEFT</span> <span class="token keyword">OUTER</span> <span class="token keyword">JOIN</span> Comments c4
</span><span class="code-line">    <span class="token keyword">ON</span> c4<span class="token punctuation">.</span>parent_id <span class="token operator">=</span> c3<span class="token punctuation">.</span>comment_id<span class="token punctuation">;</span> <span class="token comment">-- 4th level</span>
</span></code></pre></div><p>그러나 이 방법은 단계가 늘어갈 때마다 Left Outer Join을 사용해 쿼리 길이가 늘어간다.</p><br/><div class="remark-code-title">adjacency list insert and update</div><div class="relative"><pre><code class="language-sql code-highlight"><span class="code-line"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> Comments <span class="token punctuation">(</span>bug_id<span class="token punctuation">,</span> parent_id<span class="token punctuation">,</span> author<span class="token punctuation">,</span> <span class="token keyword">comment</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">1234</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token string">&#x27;Kukla&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Thanks!&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">UPDATE</span> Comments <span class="token keyword">SET</span> parent_id <span class="token operator">=</span> <span class="token number">3</span> <span class="token keyword">WHERE</span> comment_id <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>
</span></code></pre></div><p>노드를 추가하는 것과 노드를 이동하는 것은 쉽다.</p><br/><div class="remark-code-title">adjacency list delete</div><div class="relative"><pre><code class="language-sql code-highlight"><span class="code-line"><span class="token keyword">SELECT</span> comment_id <span class="token keyword">FROM</span> Comments <span class="token keyword">WHERE</span> parent_id <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">-- returns 5 and 6</span>
</span><span class="code-line"><span class="token keyword">SELECT</span> comment_id <span class="token keyword">FROM</span> Comments <span class="token keyword">WHERE</span> parent_id <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">-- returns none</span>
</span><span class="code-line"><span class="token keyword">SELECT</span> comment_id <span class="token keyword">FROM</span> Comments <span class="token keyword">WHERE</span> parent_id <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">-- returns 7</span>
</span><span class="code-line"><span class="token keyword">SELECT</span> comment_id <span class="token keyword">FROM</span> Comments <span class="token keyword">WHERE</span> parent_id <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">-- returns none</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> Comments <span class="token keyword">WHERE</span> comment_id <span class="token operator">IN</span> <span class="token punctuation">(</span> <span class="token number">7</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> Comments <span class="token keyword">WHERE</span> comment_id <span class="token operator">IN</span> <span class="token punctuation">(</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> Comments <span class="token keyword">WHERE</span> comment_id <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
</span></code></pre></div><p>그러나 트리에서 노드를 삭제하는 것은 복잡해진다.</p><br/><div class="remark-code-title">delete non-leaf-node in adjacency list</div><div class="relative"><pre><code class="language-sql code-highlight"><span class="code-line"><span class="token keyword">SELECT</span> parent_id <span class="token keyword">FROM</span> Comments <span class="token keyword">WHERE</span> comment_id <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">-- returns 4</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">UPDATE</span> Comments <span class="token keyword">SET</span> parent_id <span class="token operator">=</span> <span class="token number">4</span> <span class="token keyword">WHERE</span> parent_id <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> Comments <span class="token keyword">WHERE</span> comment_id <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>
</span></code></pre></div><p>서브트리 전체를 삭제하려면 FK 조건이 걸려 있으므로 다수의 쿼리를 통해 모든 자손을 찾은 후 가장 아래 단계에서부터 차례대로 삭제하면서 올라가야 한다.</p><p>이런 단점들이 adjacency_list 설계 방법이 안티패턴인 원인이다.</p><br/><ol start="2"><li>Recursive Query</li></ol><p>재귀 쿼리는 특정 DBMS 에서만 지원한다.</p><p>oracle - CONNECT BY, RECURSIVE WITH</p><div class="remark-code-title">oracle connect-by</div><div class="relative"><pre><code class="language-sql code-highlight"><span class="code-line"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> Comments
</span><span class="code-line"><span class="token keyword">START</span> <span class="token keyword">WITH</span> comment_id <span class="token operator">=</span> <span class="token number">9876</span>
</span><span class="code-line"><span class="token keyword">CONNECT</span> <span class="token keyword">BY</span> PRIOR parent_id <span class="token operator">=</span> comment_id<span class="token punctuation">;</span>
</span></code></pre></div><p>mysql 5.7 이상 - WITH RECURSIVE</p><div class="remark-code-title">recursive query syntax using the WITH keyword</div><div class="relative"><pre><code class="language-sql code-highlight"><span class="code-line"><span class="token keyword">WITH</span> CommentTree <span class="token punctuation">(</span>
</span><span class="code-line">  comment_id<span class="token punctuation">,</span> bug_id<span class="token punctuation">,</span> parent_id<span class="token punctuation">,</span> author<span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token keyword">comment</span><span class="token punctuation">,</span> depth
</span><span class="code-line"><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token punctuation">(</span>
</span><span class="code-line">  <span class="token keyword">SELECT</span>
</span><span class="code-line">    <span class="token operator">*</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token number">0</span> <span class="token keyword">AS</span> depth
</span><span class="code-line">  <span class="token keyword">FROM</span>
</span><span class="code-line">    Comments
</span><span class="code-line">  <span class="token keyword">WHERE</span>
</span><span class="code-line">    parent_id <span class="token operator">IS</span> <span class="token boolean">NULL</span>
</span><span class="code-line">  <span class="token keyword">UNION</span> <span class="token keyword">ALL</span>
</span><span class="code-line">  <span class="token keyword">SELECT</span>
</span><span class="code-line">    c<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span>
</span><span class="code-line">    ct<span class="token punctuation">.</span>depth <span class="token operator">+</span> <span class="token number">1</span> <span class="token keyword">AS</span> depth
</span><span class="code-line">  <span class="token keyword">FROM</span>
</span><span class="code-line">    CommentTree ct
</span><span class="code-line">    <span class="token keyword">JOIN</span> Comments c <span class="token keyword">ON</span> <span class="token punctuation">(</span>ct<span class="token punctuation">.</span>comment_id <span class="token operator">=</span> c<span class="token punctuation">.</span>parent_id<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword">SELECT</span>
</span><span class="code-line">  <span class="token operator">*</span>
</span><span class="code-line"><span class="token keyword">FROM</span>
</span><span class="code-line">  CommentTree
</span><span class="code-line"><span class="token keyword">WHERE</span>
</span><span class="code-line">  bug_id <span class="token operator">=</span> <span class="token number">1234</span><span class="token punctuation">;</span>
</span></code></pre></div><p>서적에서는 Recursive Query에 대한 단점을 말하진 않는다. 다만 다른 방법과 비교하기 위해 여기서 짚고 넘어간다.</p><br/><p>adjacency_list 방법이 가진 단점들 때문에 책에서 제시하는 대안적인 모델은 아래 3가지이다.</p><br/><ol start="3"><li>path enumeration(경로 열거)</li></ol><p>경로 열거 모델은 테이블에 path 컬럼으로 조상들의 모든 PK를 포함하여 나열하는 방법이다.</p><div class="relative"><pre><code class="language-sql code-highlight"><span class="code-line"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Comments <span class="token punctuation">(</span>
</span><span class="code-line">    comment_id <span class="token keyword">SERIAL</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
</span><span class="code-line">    path <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    bug_id <span class="token keyword">BIGINT</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">    author <span class="token keyword">BIGINT</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">    comment_date <span class="token keyword">DATETIME</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">comment</span> <span class="token keyword">TEXT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>bug_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> Bugs<span class="token punctuation">(</span>bug_id<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>author<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> Accounts<span class="token punctuation">(</span>account_id<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div><table><thead><tr><th>comment_id</th><th>path</th><th>author</th><th>comment</th></tr></thead><tbody><tr><td>1</td><td>1/</td><td>Fran</td><td>What’s the cause of this bug?</td></tr><tr><td>2</td><td>1/2/</td><td>Ollie</td><td>I think it’s a null pointer.</td></tr><tr><td>3</td><td>1/2/3/</td><td>Fran</td><td>No, I checked for that.</td></tr><tr><td>4</td><td>1/4/</td><td>Kukla</td><td>We need to check for invalid input.</td></tr><tr><td>5</td><td>1/4/5/</td><td>Ollie</td><td>Yes, that’s a bug.</td></tr><tr><td>6</td><td>1/4/6/</td><td>Fran</td><td>Yes, please add a check</td></tr><tr><td>7</td><td>1/4/6/7/</td><td>Kukla</td><td>That fixed it</td></tr></tbody></table><p>comment_id 7의 조상찾기</p><div class="relative"><pre><code class="language-sql code-highlight"><span class="code-line"><span class="token keyword">SELECT</span> <span class="token operator">*</span>
</span><span class="code-line"><span class="token keyword">FROM</span> Comments <span class="token keyword">AS</span> c
</span><span class="code-line"><span class="token keyword">WHERE</span> <span class="token string">&#x27;1/4/6/7/&#x27;</span> <span class="token operator">LIKE</span> c<span class="token punctuation">.</span>path <span class="token operator">||</span> <span class="token string">&#x27;%&#x27;</span><span class="token punctuation">;</span>
</span></code></pre></div><p>comment_id 4의 자손찾기</p><div class="relative"><pre><code class="language-sql code-highlight"><span class="code-line"><span class="token keyword">SELECT</span> <span class="token operator">*</span>
</span><span class="code-line"><span class="token keyword">FROM</span> Comments <span class="token keyword">AS</span> c
</span><span class="code-line"><span class="token keyword">WHERE</span> c<span class="token punctuation">.</span>path <span class="token operator">LIKE</span> <span class="token string">&#x27;1/4/&#x27;</span> <span class="token operator">||</span> <span class="token string">&#x27;%&#x27;</span><span class="token punctuation">;</span>
</span></code></pre></div><ol start="4"><li>Nested Sets</li></ol><p>nested sets 는 이진 트리 같이 컬럼이 하나가 노드가 되어 nsleft, nsright 라는 이름의 컬럼에 하위 집합에 속하는 각 노드의 정보를 저장한다.</p><p>nsleft에 할당되는 넘버는 모든 노드의 자식 수보다 작고 nsright는 모든 노드의 자식보다 크다</p><div class="relative"><pre><code class="language-sql code-highlight"><span class="code-line"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Comments <span class="token punctuation">(</span>
</span><span class="code-line">    comment_id <span class="token keyword">SERIAL</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
</span><span class="code-line">    nsleft <span class="token keyword">INTEGER</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">    nsright <span class="token keyword">INTEGER</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">    bug_id <span class="token keyword">BIGINT</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">    author <span class="token keyword">BIGINT</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">    comment_date <span class="token keyword">DATETIME</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">comment</span> <span class="token keyword">TEXT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>bug_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> Bugs <span class="token punctuation">(</span>bug_id<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>author<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> Accounts<span class="token punctuation">(</span>account_id<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div><table><thead><tr><th>comment_id</th><th>nsleft</th><th>nsright</th><th>author</th><th>comment</th></tr></thead><tbody><tr><td>1</td><td>1</td><td>14</td><td>Fran</td><td>What’s the cause of this bug?</td></tr><tr><td>2</td><td>2</td><td>5</td><td>Ollie</td><td>I think it’s a null pointer.</td></tr><tr><td>3</td><td>3</td><td>4</td><td>Fran</td><td>No, I checked for that.</td></tr><tr><td>4</td><td>6</td><td>13</td><td>Kukla</td><td>We need to check for invalid input.</td></tr><tr><td>5</td><td>7</td><td>8</td><td>Ollie</td><td>Yes, that’s a bug.</td></tr><tr><td>6</td><td>9</td><td>12</td><td>Fran</td><td>Yes, please add a check</td></tr><tr><td>7</td><td>10</td><td>11</td><td>Kukla</td><td>That fixed it</td></tr></tbody></table><p>위 테이블을 시각화하면 아래와 같다.</p><div class="text-center"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%27600%27%20height=%27550%27/%3e"/></span><img alt="title" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="object-cover object-center md:h-36 lg:h-48" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="title" srcSet="/static/images/sql_antipattern/nested_sets.png?imwidth=640 1x, /static/images/sql_antipattern/nested_sets.png?imwidth=1200 2x" src="/static/images/sql_antipattern/nested_sets.png?imwidth=1200" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="object-cover object-center md:h-36 lg:h-48" loading="lazy"/></noscript></span></div><p>아래 쿼리는 comment_id 4의 nsleft, nsright 값으로 그 사이의 자손들을 찾을 수 있다.</p><div class="relative"><pre><code class="language-sql code-highlight"><span class="code-line"><span class="token keyword">SELECT</span> c2<span class="token punctuation">.</span><span class="token operator">*</span>
</span><span class="code-line"><span class="token keyword">FROM</span> Comments <span class="token keyword">AS</span> c1
</span><span class="code-line"><span class="token keyword">JOIN</span> Comments <span class="token keyword">as</span> c2
</span><span class="code-line"><span class="token keyword">ON</span> c2<span class="token punctuation">.</span>nsleft <span class="token operator">BETWEEN</span> c1<span class="token punctuation">.</span>nsleft <span class="token operator">AND</span> c1<span class="token punctuation">.</span>nsright
</span><span class="code-line"><span class="token keyword">WHERE</span> c1<span class="token punctuation">.</span>comment_id <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
</span></code></pre></div><p>아래 쿼리는 comment_id 6의 nsleft, nsright 값으로 그 사이의 조상들을 찾을 수 있다.</p><div class="relative"><pre><code class="language-sql code-highlight"><span class="code-line"><span class="token keyword">SELECT</span> c2<span class="token punctuation">.</span><span class="token operator">*</span>
</span><span class="code-line"><span class="token keyword">FROM</span> Comments <span class="token keyword">AS</span> c1
</span><span class="code-line"><span class="token keyword">JOIN</span> Comments <span class="token keyword">AS</span> c2
</span><span class="code-line"><span class="token keyword">ON</span> c1<span class="token punctuation">.</span>nsleft <span class="token operator">BETWEEN</span> c2<span class="token punctuation">.</span>nsleft <span class="token operator">AND</span> c2<span class="token punctuation">.</span>nsright
</span><span class="code-line"><span class="token keyword">WHERE</span> c1<span class="token punctuation">.</span>comment_id <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>
</span></code></pre></div><ol start="5"><li><p>Closure Table</p><p>이 방법에서는 path 테이블을 별도로 두어 ancester(조상), descendant(자손) 필드에 연결된 row의 pk를 표기하는 방법으로 연결한다.</p></li></ol><div class="relative"><pre><code class="language-sql code-highlight"><span class="code-line"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Comments <span class="token punctuation">(</span>
</span><span class="code-line">    comment_id <span class="token keyword">SERIAL</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
</span><span class="code-line">    bug_id <span class="token keyword">BIGINT</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">    author <span class="token keyword">BIGINT</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">    comment_date <span class="token keyword">DATETIME</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">comment</span> <span class="token keyword">TEXT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>bug_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> Bugs<span class="token punctuation">(</span>bug_id<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>author<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> Accounts<span class="token punctuation">(</span>account_id<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> TreePaths <span class="token punctuation">(</span>
</span><span class="code-line">    ancestor <span class="token keyword">BIGINT</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">    descendant <span class="token keyword">BIGINT</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>ancestor<span class="token punctuation">,</span> descendant<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>ancestor<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> Comments<span class="token punctuation">(</span>comment_id<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>descendant<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> Comments<span class="token punctuation">(</span>comment_id<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div><div class="w-full flex justify-center"><div class="w-1/2"><table class="jsx-534e162a5b6aec07 tg"><thead class="jsx-534e162a5b6aec07"><tr class="jsx-534e162a5b6aec07"><th class="jsx-534e162a5b6aec07 tg-zatc"><span class="jsx-534e162a5b6aec07">ancestor</span></th><th class="jsx-534e162a5b6aec07 tg-zatc"><span class="jsx-534e162a5b6aec07">descendant</span></th></tr></thead><tbody class="jsx-534e162a5b6aec07"><tr class="jsx-534e162a5b6aec07"><td class="jsx-534e162a5b6aec07 tg-9c02">1</td><td class="jsx-534e162a5b6aec07 tg-9c02">1</td></tr><tr class="jsx-534e162a5b6aec07"><td class="jsx-534e162a5b6aec07 tg-9c02">1</td><td class="jsx-534e162a5b6aec07 tg-9c02">2</td></tr><tr class="jsx-534e162a5b6aec07"><td class="jsx-534e162a5b6aec07 tg-9c02">1</td><td class="jsx-534e162a5b6aec07 tg-9c02">3</td></tr><tr class="jsx-534e162a5b6aec07"><td class="jsx-534e162a5b6aec07 tg-9c02">1</td><td class="jsx-534e162a5b6aec07 tg-9c02">4</td></tr><tr class="jsx-534e162a5b6aec07"><td class="jsx-534e162a5b6aec07 tg-9c02">1</td><td class="jsx-534e162a5b6aec07 tg-9c02">5</td></tr><tr class="jsx-534e162a5b6aec07"><td class="jsx-534e162a5b6aec07 tg-9c02">1</td><td class="jsx-534e162a5b6aec07 tg-9c02">6</td></tr><tr class="jsx-534e162a5b6aec07"><td class="jsx-534e162a5b6aec07 tg-9c02">1</td><td class="jsx-534e162a5b6aec07 tg-9c02">7</td></tr><tr class="jsx-534e162a5b6aec07"><td class="jsx-534e162a5b6aec07 tg-9c02">2</td><td class="jsx-534e162a5b6aec07 tg-9c02">2</td></tr><tr class="jsx-534e162a5b6aec07"><td class="jsx-534e162a5b6aec07 tg-9c02">2</td><td class="jsx-534e162a5b6aec07 tg-9c02">3</td></tr><tr class="jsx-534e162a5b6aec07"><td class="jsx-534e162a5b6aec07 tg-9c02">3</td><td class="jsx-534e162a5b6aec07 tg-9c02">3</td></tr><tr class="jsx-534e162a5b6aec07"><td class="jsx-534e162a5b6aec07 tg-9c02">4</td><td class="jsx-534e162a5b6aec07 tg-9c02">4</td></tr><tr class="jsx-534e162a5b6aec07"><td class="jsx-534e162a5b6aec07 tg-9c02">4</td><td class="jsx-534e162a5b6aec07 tg-9c02">5</td></tr><tr class="jsx-534e162a5b6aec07"><td class="jsx-534e162a5b6aec07 tg-9c02">4</td><td class="jsx-534e162a5b6aec07 tg-9c02">6</td></tr><tr class="jsx-534e162a5b6aec07"><td class="jsx-534e162a5b6aec07 tg-9c02">4</td><td class="jsx-534e162a5b6aec07 tg-9c02">7</td></tr><tr class="jsx-534e162a5b6aec07"><td class="jsx-534e162a5b6aec07 tg-9c02">5</td><td class="jsx-534e162a5b6aec07 tg-9c02">5</td></tr><tr class="jsx-534e162a5b6aec07"><td class="jsx-534e162a5b6aec07 tg-9c02">6</td><td class="jsx-534e162a5b6aec07 tg-9c02">6</td></tr><tr class="jsx-534e162a5b6aec07"><td class="jsx-534e162a5b6aec07 tg-9c02">6</td><td class="jsx-534e162a5b6aec07 tg-9c02">7</td></tr><tr class="jsx-534e162a5b6aec07"><td class="jsx-534e162a5b6aec07 tg-9c02">7</td><td class="jsx-534e162a5b6aec07 tg-9c02">7</td></tr></tbody></table></div></div><p>자손을 구하는 방법</p><div class="relative"><pre><code class="language-sql code-highlight"><span class="code-line"><span class="token keyword">SELECT</span> c<span class="token punctuation">.</span><span class="token operator">*</span>
</span><span class="code-line"><span class="token keyword">FROM</span> Comments <span class="token keyword">AS</span> c
</span><span class="code-line"><span class="token keyword">JOIN</span> TreePaths <span class="token keyword">AS</span> t <span class="token keyword">ON</span> c<span class="token punctuation">.</span>comment_id <span class="token operator">=</span> t<span class="token punctuation">.</span>descendant
</span><span class="code-line"><span class="token keyword">WHERE</span> t<span class="token punctuation">.</span>ancestor <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
</span></code></pre></div><p>조상을 구하는 방법</p><div class="relative"><pre><code class="language-sql code-highlight"><span class="code-line"><span class="token keyword">SELECT</span> c<span class="token punctuation">.</span><span class="token operator">*</span>
</span><span class="code-line"><span class="token keyword">FROM</span> Comments <span class="token keyword">AS</span> c
</span><span class="code-line"><span class="token keyword">JOIN</span> TreePaths <span class="token keyword">AS</span> t <span class="token keyword">ON</span> c<span class="token punctuation">.</span>comment_id <span class="token operator">=</span> t<span class="token punctuation">.</span>ancestor
</span><span class="code-line"><span class="token keyword">WHERE</span> t<span class="token punctuation">.</span>descendant <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span></code></pre></div><p>새 leafnode를 #5의 자식으로 insert하는 방법</p><div class="relative"><pre><code class="language-sql code-highlight"><span class="code-line"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> TreePaths <span class="token punctuation">(</span>ancestor<span class="token punctuation">,</span> descendant<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword">SELECT</span> t<span class="token punctuation">.</span>ancestor<span class="token punctuation">,</span> <span class="token number">8</span>
</span><span class="code-line"><span class="token keyword">FROM</span> TreePaths <span class="token keyword">AS</span> t
</span><span class="code-line"><span class="token keyword">WHERE</span> t<span class="token punctuation">.</span>descendant <span class="token operator">=</span> <span class="token number">5</span>
</span><span class="code-line"><span class="token keyword">UNION</span> <span class="token keyword">ALL</span>
</span><span class="code-line"><span class="token keyword">SELECT</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">;</span>
</span></code></pre></div><p>#4 row 와 그 전체 subtree를 삭제하는 방법</p><div class="relative"><pre><code class="language-sql code-highlight"><span class="code-line"><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> TreePaths
</span><span class="code-line"><span class="token keyword">WHERE</span> descendant <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> descendant
</span><span class="code-line"><span class="token keyword">FROM</span> TreePaths
</span><span class="code-line"><span class="token keyword">WHERE</span> ancestor <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div><p><br/>- 5가지 방법 비교</p><div><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%272186%27%20height=%27514%27/%3e"/></span><img alt="chdd" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="chdd" srcSet="/static/images/sql_antipattern/chdd.png?imwidth=3840 1x" src="/static/images/sql_antipattern/chdd.png?imwidth=3840" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" loading="lazy"/></noscript></span></div><ul><li>Ref. Integ = 참조 무결성(referential integrity)</li></ul><p><strong>Adjacency List</strong></p><ul><li>pros<ul><li>일반적으로 사용하므로 가장 이해하기 쉽다</li></ul></li><li>cons<ul><li>트리를 쿼리할때 어렵고, 삭제할때 복잡하다.</li></ul></li></ul><br/><p><strong>Recursive Query</strong></p><p>재귀 쿼리 기능을 가진 DBMS를 사용할 때 adjacency list를 사용하면 효율적이다 (책에서는 단점을 언급하지 않았다.)</p><br/><p><strong>Path Enumeration</strong></p><ul><li>pros<ul><li>UI에서 breadcrumb 컴포넌트를 구성할 때 좋다</li></ul></li><li>cons<ul><li>참조무결성을 강제하지 못하므로 깨지기 쉽고 정보가 중복된다.</li></ul></li></ul><br/><p><strong>Nested Set</strong></p><ul><li>pros<ul><li>트리를 수정할 때보다 트리를 읽어올 일이 많을 때 사용하는 것이 좋다</li></ul></li><li>cons<ul><li>참조무결성을 강제하지 못하므로 깨지기 쉽고 정보가 중복된다.</li></ul></li></ul><br/><p><strong>Closure Table</strong></p><ul><li>pros<ul><li>다목적(versatile)으로 사용할 수 있는 설계</li><li>하나의 노드가 여러개의 트리들에 속할 수 있다.</li></ul></li><li>cons<ul><li>relationship을 저장하기 위해 추가적인 테이블이 필요로 한다.</li><li>깊은 계층을 인코딩할때 또한 다수의 row를 사용해야 하므로 시간(컴퓨팅 파워) 증가시키기 위해 공간을 추가적으로 사용하는 트레이드 오프 관계이다.</li></ul></li></ul><hr/><h3 id="-2"><a href="#-2" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><span class="jsx-f63eb460da3870e7 pattern_no font_style">| 패턴 3 |</span><span class="jsx-f63eb460da3870e7 title_text font_style"> <!-- -->아이디가 필요해</span></h3><p>PK를 사용하자는 것이며 auto increment나 시퀀스를 이용하는 소위 만능키(id 컬럼)를 사용할 경우 여러가지 단점이 있다.</p><p>중복 키, 중복 행, 모호한 키의 의미 등이 있으며 항상 만능키를 사용할 수 없다는 것이 결론이다.</p><p>각 테이블마다 적합한 pk 컬럼을 의미를 잘 전달할 수 있는 이름으로 사용해야 한다.</p><p>복합키가 필요할 때는 복합키를 사용해야 한다.</p><hr/><h3 id="-3"><a href="#-3" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><span class="jsx-f63eb460da3870e7 pattern_no font_style">| 패턴 4 |</span><span class="jsx-f63eb460da3870e7 title_text font_style"> <!-- -->키가 없는 엔트리 Keyless Entry</span></h3><p>FK를 사용하자</p><hr/><h3 id="-4"><a href="#-4" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><span class="jsx-f63eb460da3870e7 pattern_no font_style">| 패턴 5 |</span><span class="jsx-f63eb460da3870e7 title_text font_style"> <!-- -->entity-attribute-value 테이블</span></h3><p>두 테이블이 공통적인 속성을 가지고 있을 때 이런 속성들을 별도의 테이블에 컬럼이 아닌 row로 저장하는 것을 EAV 테이블이라 부른다.</p><p>패턴 5에서 소개하려는 것은 이런 테이블을 사용했을 때 어떤 문제점들이다.</p><div class="text-center"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%27450%27%20height=%27450%27/%3e"/></span><img alt="title" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="object-cover object-center md:h-36 lg:h-48" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="title" srcSet="/static/images/sql_antipattern/EAV_table.png?imwidth=640 1x, /static/images/sql_antipattern/EAV_table.png?imwidth=1080 2x" src="/static/images/sql_antipattern/EAV_table.png?imwidth=1080" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="object-cover object-center md:h-36 lg:h-48" loading="lazy"/></noscript></span></div><p>위 그림은 Bugs와 FeatureRequest 의 <code>class diagram</code> 이다.</p><p>이런 객체 관계를 소개하려는 EAV(Entity-Attr-Val) 테이블로 설계하면 아래와 같다.</p><div class="remark-code-title">construct EAV tables</div><div class="relative"><pre><code class="language-sql code-highlight"><span class="code-line"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Issues <span class="token punctuation">(</span>
</span><span class="code-line">    issue_id <span class="token keyword">SERIAL</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span>
</span><span class="code-line"><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> Issues <span class="token punctuation">(</span>issue_id<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">1234</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> IssueAttributes <span class="token punctuation">(</span>
</span><span class="code-line">    issue_id <span class="token keyword">BIGINT</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">    attr_name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">    attr_value <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>issue_id<span class="token punctuation">,</span> attr_name<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>issue_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> Issues<span class="token punctuation">(</span>issue_id<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> IssueAttributes <span class="token punctuation">(</span>issue_id<span class="token punctuation">,</span> attr_name<span class="token punctuation">,</span> attr_value<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword">VALUES</span>
</span><span class="code-line"><span class="token punctuation">(</span><span class="token number">1234</span><span class="token punctuation">,</span> <span class="token string">&#x27;product&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;1&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">(</span><span class="token number">1234</span><span class="token punctuation">,</span> <span class="token string">&#x27;date_reported&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;2009-06-01&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">(</span><span class="token number">1234</span><span class="token punctuation">,</span> <span class="token string">&#x27;status&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;NEW&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">(</span><span class="token number">1234</span><span class="token punctuation">,</span> <span class="token string">&#x27;description&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Saving does not work&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">(</span><span class="token number">1234</span><span class="token punctuation">,</span> <span class="token string">&#x27;reported_by&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Bill&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">(</span><span class="token number">1234</span><span class="token punctuation">,</span> <span class="token string">&#x27;version_affected&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;1.0&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">(</span><span class="token number">1234</span><span class="token punctuation">,</span> <span class="token string">&#x27;severity&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;loss of functionality&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">(</span><span class="token number">1234</span><span class="token punctuation">,</span> <span class="token string">&#x27;priority&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;high&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div><p>Bugs와 FeatureRequest 테이블이 공통적인 컬럼을 갖고 있을 때 이 테이블을 Issues 라고 이름붙인다.</p><p>Issues 테이블에는 PK인 Issue_id 컬럼만 존재하며 나머지 컬럼들은 IssueAttributes 라는 테이블을 만들고 이 테이블 컬럼을 issue_id, attr_name, attr_value 로 구성하여 필요한 컬럼명을 attr_name에 그 값을 attr_value로 사용하는 방법이다.</p><p>이런 방법은 단순하고 몇가지 장점이 있지만, 더 많은 여러가지 <strong>단점</strong>을 가진다.</p><p><strong>데이터 정합성을 해친다.</strong></p><ul><li><p>NOT NULL 같은 제약조건 사용 불가</p></li><li><p>데이터 타입 사용 불가</p><ul><li>일반적으로 모든 타입을 지원하기 위해 attr_value 타입에 문자열을 사용하므로 날짜 값이 잘못된 경우에 유효값 검증을 할 수 없다.</li></ul></li><li><p>FK 사용 불가하므로 입력되는 값의 범위를 제한할 수 없다.</p></li><li><p>속성 이름 제한 불가</p><ul><li>이름의 값을 유동적으로 정할 수 있어서 한 가지 의미의 데이터가 여러가지 attr_name을 가질 수 있다(date_reported, report_date)</li><li>이런 점은 사용자를 혼란스럽게 만들수 있다</li></ul></li></ul><p>행을 일반적인 테이블에서 SELECT 한 것처럼 보이게 재구성할때도 각 필요한 attr_name 갯수만큼 LEFT OUTER JOIN을 필요로 하기 때문에 비용이 많이 든다.</p><p>책에서는 이런 방법을 사용하려면 RDBMS가 아닌 DB를 사용하라고 조언하고 있으며 그 경우로는 Berkeley DB, 카산드라 , Couch DB , 하둡, 몽고디비, Redis 등을 소개해주고 있다.</p><p>이 테이블을 사용하는 목표는 <strong>&quot;가변 속성 지원&quot;</strong> 이며 충족하면서 EAV를 사용하지 않는 대안으로는 다음과 같은 방법이 있다.</p><h4 id="해법1-서브타입-모델링"><a href="#해법1-서브타입-모델링" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>해법1 서브타입 모델링</h4><p>아래 방법들은 여러가지 서브타입 모델링 방법들이다.</p><ul><li><p>단일 테이블 상속</p><ol><li>두 서브타입(Bugs, FeatureRequest) 의 모든 속성을 담을 수 있는 공통테이블 Issues를 만든다.</li><li>이 테이블에는 두 테이블에서 필요한 모든 컬럼이 선언되어 데이터가 insert 된다.</li><li>어떤 row가 두 테이블 중 어떤 테이블에 속한것인지를 표시한는 issue_type 컬럼이 존재한다.(BUG 또는 FEATURE 라는 값으로 구분)</li><li>그 외에 컬럼에는 공통적으로 사용하는 컬럼들과 각 테이블에서만 사용하는 컬럼들도 존재한다.</li></ol></li><li><p>구체 테이블 상속</p><ul><li>가장 단순하게 두 서브타입별로 테이블을 만드는 것이다. 공통 속성도 각자 갖고 있으며 각 테이블에서만 사용하는 컬럼은 각각 갖고 있다.</li></ul></li><li><p>클래스 테이블 상속</p><ol><li>서브타입에서 공통적인 속성을 Issues 테이블에 선언하고 각 서브타입별 컬럼들은 각자의 테이블에 유지한다.</li><li>Issues 테이블과 Bugs, FeatureRequests 테이블은 issue_id로 FK로 연결하여 일대일 관계를 강제한다.</li></ol></li><li><p>Semistructured Data</p><ol><li>서브타입의 수가 많을 경우 JSON같은 형식으로 코딩하여 TEXT 또는 CLOB 컬럼으로 저장한다.</li><li>공통적인 속성을 그대로 Issues 테이블에 컬럼으로 정의하여</li><li>서브타입별 컬럼을 attribute 컬럼( TEXT, CLOB ) 타입으로 정의해 JSON 같은 형식으로 저장하는 형태이다.</li><li>어떤 row가 두 테이블 중 어떤 테이블에 속한것인지를 표시한는 issue_type 컬럼이 존재한다.(BUG 또는 FEATURE 라는 값으로 구분)</li></ol></li></ul><hr/><h3 id="-5"><a href="#-5" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><span class="jsx-f63eb460da3870e7 pattern_no font_style">| 패턴 6 |</span><span class="jsx-f63eb460da3870e7 title_text font_style"> <!-- -->다형성 연관 Polymorphic Associations</span></h3><p>이 패턴은 하나의 테이블이 여러 형태로 참조되는 Polymorphic Associations 관계를 다룬다.</p><p>예제의 Comments 테이블은 최초엔 아래와 같이 Bugs 테이블과 many-to-one 관계였다.</p><div class="remark-code-title">first comments table</div><div class="relative"><pre><code class="language-sql code-highlight"><span class="code-line"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Comments <span class="token punctuation">(</span>
</span><span class="code-line">    comment_id <span class="token keyword">SERIAL</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
</span><span class="code-line highlight-line">    bug_id <span class="token keyword">BIGINT</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line highlight-line">    author_id <span class="token keyword">BIGINT</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">    comment_date <span class="token keyword">DATETIME</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">comment</span> <span class="token keyword">TEXT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>author_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> Accounts<span class="token punctuation">(</span>account_id<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line highlight-line">    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>bug_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> Bugs<span class="token punctuation">(</span>bug_id<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div><p>이후 FeatureRequests 테이블도 Comment가 필요져 이 Comments 테이블을 Bugs 와 FeatureRequests 에서 공유하는 형태로 변경하기로 한다.</p><p>이런 경우를 해결하기 위해 흔히 사용되는 안티패턴은 <strong>Dual-Purpose-FK</strong> 이라고 부르며 구현은 다음과 같다.</p><ol><li>두 테이블 중 어떤 테이블의 comment인지 구분하기 위해 issue_type 컬럼을 추가한다. 입력될 수 있는 값은 &quot;Bugs&quot; 또는 &quot;FeatureRequests&quot; 이다.</li><li>bugs 전용 Comments 테이블 일때 사용한 fk인 bug_id 대신 두 테이블의 id와 연결되는 issue_id를 사용한다. ( 두 테이블에 fk를 강제할 수 없으므로)</li></ol><div class="remark-code-title">ANTIPATTERN-dual purpose FK</div><div class="relative"><pre><code class="language-sql code-highlight"><span class="code-line"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Comments <span class="token punctuation">(</span>
</span><span class="code-line">    comment_id <span class="token keyword">SERIAL</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
</span><span class="code-line highlight-line">    issue_type <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">-- &quot;Bugs&quot; or &quot;FeatureRequests&quot;</span>
</span><span class="code-line highlight-line">    issue_id <span class="token keyword">BIGINT</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">    author <span class="token keyword">BIGINT</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">    comment_date <span class="token keyword">DATETIME</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">comment</span> <span class="token keyword">TEXT</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>author<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> Accounts<span class="token punctuation">(</span>account_id<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div><p>이렇게 하면 comment 테이블을 두 테이블에서 공유할 수 있다.</p><p>그러나 단점은</p><ol><li>FK가 강제되지 않으므로 데이터 정합성을 보장할 수 없으며</li><li>issue_type의 문자열이 어떤 테이블에 대응되는지를 확인하는 메타데이터도 없다.</li></ol><p>그래서 이런 형태는 안티패턴으로 간주된다.</p><p>첫번째 해결방법은 <strong>Intersection Table</strong> 방법으로 공통 Comment 테이블과 각 자식 테이블마다 다대다 해소 table을 만들어 연결해주는 것이다.</p><div class="text-center"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%27600%27%20height=%27500%27/%3e"/></span><img alt="title" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="object-cover object-center md:h-36 lg:h-48" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="title" srcSet="/static/images/sql_antipattern/polymorphic_asso.png?imwidth=640 1x, /static/images/sql_antipattern/polymorphic_asso.png?imwidth=1200 2x" src="/static/images/sql_antipattern/polymorphic_asso.png?imwidth=1200" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="object-cover object-center md:h-36 lg:h-48" loading="lazy"/></noscript></span></div><div class="remark-code-title">SOLUTION1 create intersection table</div><div class="relative"><pre><code class="language-sql code-highlight"><span class="code-line"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> BugsComments <span class="token punctuation">(</span>
</span><span class="code-line">    issue_id <span class="token keyword">BIGINT</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">    comment_id <span class="token keyword">BIGINT</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>issue_id<span class="token punctuation">,</span> comment_id<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>issue_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> Bugs<span class="token punctuation">(</span>issue_id<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>comment_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> Comments<span class="token punctuation">(</span>comment_id<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> FeaturesComments <span class="token punctuation">(</span>
</span><span class="code-line">    issue_id <span class="token keyword">BIGINT</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">    comment_id <span class="token keyword">BIGINT</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>issue_id<span class="token punctuation">,</span> comment_id<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>issue_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> FeatureRequests<span class="token punctuation">(</span>issue_id<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>comment_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> Comments<span class="token punctuation">(</span>comment_id<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div><p>이 방법은 잠재적 단점이 있다.</p><p>intersection table 때문에 comment가 여러 bugs나 feature request 연결될 수 있다는 것이다.</p><p>이것을 방지하려면 각 테이블에 아래와 같이 comment_id 컬럼에 UNIQUE constraint 를 적용해야 일부라도 제한할 수 있다.</p><div class="remark-code-title">SOLUTION1 1 add unique constraint on commentId</div><div class="relative"><pre><code class="language-sql code-highlight"><span class="code-line"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> BugsComments <span class="token punctuation">(</span>
</span><span class="code-line">    issue_id <span class="token keyword">BIGINT</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">    comment_id <span class="token keyword">BIGINT</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line highlight-line">    <span class="token keyword">UNIQUE</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>comment_id<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>issue_id<span class="token punctuation">,</span> comment_id<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>issue_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> Bugs<span class="token punctuation">(</span>issue_id<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>comment_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> Comments<span class="token punctuation">(</span>comment_id<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div><br/><p>두번째 해결방법은 <strong>Common-Super-Table</strong> 방법이다.</p><p>Bugs와 FeatureRequests가 연결된 comment를 issue 라는 이름으로 추상화한 엔티티를 Issue를 공통 상위 테이블로 연결하는 방법이다.</p><p>Bugs, FeatureRequests는 one-to-one 으로 연결되고, Comment는 many-to-one 으로 연결된다.</p><div class="text-center"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%27620%27%20height=%27500%27/%3e"/></span><img alt="title" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="object-cover object-center md:h-36 lg:h-48" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="title" srcSet="/static/images/sql_antipattern/polymorphic_asso_common_super_table.png?imwidth=640 1x, /static/images/sql_antipattern/polymorphic_asso_common_super_table.png?imwidth=1920 2x" src="/static/images/sql_antipattern/polymorphic_asso_common_super_table.png?imwidth=1920" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="object-cover object-center md:h-36 lg:h-48" loading="lazy"/></noscript></span></div><div class="remark-code-title">SOLUTION2 create Common-Super-Table</div><div class="relative"><pre><code class="language-sql code-highlight"><span class="code-line"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Issues <span class="token punctuation">(</span>
</span><span class="code-line highlight-line">    issue_id <span class="token keyword">SERIAL</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span>
</span><span class="code-line"><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Bugs <span class="token punctuation">(</span>
</span><span class="code-line highlight-line">    issue_id <span class="token keyword">BIGINT</span> <span class="token keyword">UNSIGNED</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>issue_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> Issues<span class="token punctuation">(</span>issue_id<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span>
</span><span class="code-line"><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> FeatureRequests <span class="token punctuation">(</span>
</span><span class="code-line highlight-line">    issue_id <span class="token keyword">BIGINT</span> <span class="token keyword">UNSIGNED</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>issue_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> Issues<span class="token punctuation">(</span>issue_id<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span>
</span><span class="code-line"><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Comments <span class="token punctuation">(</span>
</span><span class="code-line">    comment_id <span class="token keyword">SERIAL</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
</span><span class="code-line highlight-line">    issue_id <span class="token keyword">BIGINT</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">    author <span class="token keyword">BIGINT</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">    comment_date <span class="token keyword">DATETIME</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">comment</span> <span class="token keyword">TEXT</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>issue_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> Issues<span class="token punctuation">(</span>issue_id<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>author<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> Accounts<span class="token punctuation">(</span>account_id<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div><p>4개의 테이블은 Issues 테이블에 serial 로 자동 입력된 issue_id라는 키를 기준으로 fk로 연결된다.</p><p>자연스럽게 dual_purpose_FK 방법에서 사용하던 issue_type 열은 사용하지 않게 된다.</p><p>아래는 comment_id로 검색하는 쿼리로 intersection_table에서의 fk연결 없이도 좀더 간결한 쿼리로 데이터를 가져올 수 있다.</p><div class="remark-code-title">SOLUTION2 super join</div><div class="relative"><pre><code class="language-sql code-highlight"><span class="code-line"><span class="token keyword">SELECT</span> <span class="token operator">*</span>
</span><span class="code-line"><span class="token keyword">FROM</span> Comments <span class="token keyword">AS</span> c
</span><span class="code-line"><span class="token keyword">LEFT</span> <span class="token keyword">OUTER</span> <span class="token keyword">JOIN</span> Bugs <span class="token keyword">AS</span> b <span class="token keyword">USING</span> <span class="token punctuation">(</span>issue_id<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword">LEFT</span> <span class="token keyword">OUTER</span> <span class="token keyword">JOIN</span> FeatureRequests <span class="token keyword">AS</span> f <span class="token keyword">USING</span> <span class="token punctuation">(</span>issue_id<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword">WHERE</span> c<span class="token punctuation">.</span>comment_id <span class="token operator">=</span> <span class="token number">9876</span><span class="token punctuation">;</span>
</span></code></pre></div><p>아래는 bugs 테이블의 PK(issue_id)로 연결된 모든 comment를 검색하는 쿼리이다.</p><div class="remark-code-title">SOLUTION2 super join</div><div class="relative"><pre><code class="language-sql code-highlight"><span class="code-line"><span class="token keyword">SELECT</span> <span class="token operator">*</span>
</span><span class="code-line"><span class="token keyword">FROM</span> Bugs <span class="token keyword">AS</span> b
</span><span class="code-line"><span class="token keyword">JOIN</span> Comments <span class="token keyword">AS</span> c <span class="token keyword">USING</span> <span class="token punctuation">(</span>issue_id<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword">WHERE</span> b<span class="token punctuation">.</span>issue_id <span class="token operator">=</span> <span class="token number">1234</span><span class="token punctuation">;</span>
</span></code></pre></div><p>결과적으로 <strong>Intersection Table</strong> 방법보단 <strong>Common-Super-Table</strong> 이 좀 더 깔끔하게 사용할 수 있다.</p><hr/><h3 id="-6"><a href="#-6" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><span class="jsx-f63eb460da3870e7 pattern_no font_style">| 패턴 7 |</span><span class="jsx-f63eb460da3870e7 title_text font_style"> <!-- -->다중 컬럼 속성 Multicolumn Attributes</span></h3><div class="remark-code-title">multicolumn attribute</div><div class="relative"><pre><code class="language-sql code-highlight"><span class="code-line"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Bugs <span class="token punctuation">(</span>
</span><span class="code-line">    bug_id <span class="token keyword">SERIAL</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
</span><span class="code-line">    description <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    tag1 <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    tag2 <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    tag3 <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div><p>1개 테이블에서 동일한 이름의 컬럼에 숫자만 붙여서 컬럼을 증가시키는 경우 해당 컬럼에 일대다 관계를 가지는 종속 테이블을 만들어 사용하는 것이 상식이다.</p><div class="remark-code-title">tag table</div><div class="relative"><pre><code class="language-sql code-highlight"><span class="code-line"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Tags <span class="token punctuation">(</span>
</span><span class="code-line">    bug_id <span class="token keyword">BIGINT</span> <span class="token keyword">UNSIGNED</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span>
</span><span class="code-line">    tag <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>bug_id<span class="token punctuation">,</span> tag<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>bug_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> Bugs<span class="token punctuation">(</span>bug_id<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div><hr/><h3 id="-7"><a href="#-7" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><span class="jsx-f63eb460da3870e7 pattern_no font_style">| 패턴 8 |</span><span class="jsx-f63eb460da3870e7 title_text font_style"> <!-- -->메타데이터 트리블 Metadata Tribble</span></h3><span style="font-size:0.5em"> <p>(<code>tribble</code>은 star trek에 등장하는 번식력이 좋은 생물을 의미하는 것으로 보이며, 메타데이타가 늘어나는 패턴을 비유한 것 같다. )</p></span><p>아래와 같이 테이블에서 시간이 지남에 따라 특정 컬럼이 연도별로 필요할 때 만드는 경우는 안티패턴이다.</p><div class="remark-code-title">ANTIPATTERN make revenue column per year</div><div class="relative"><pre><code class="language-sql code-highlight"><span class="code-line"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Customers <span class="token punctuation">(</span>
</span><span class="code-line">    customer_id NUMBER<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
</span><span class="code-line">    contact_info <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    business_type <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    revenue NUMBER<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> Customers <span class="token keyword">ADD</span> <span class="token punctuation">(</span>revenue2002 NUMBER<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> Customers <span class="token keyword">ADD</span> <span class="token punctuation">(</span>revenue2003 NUMBER<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> Customers <span class="token keyword">ADD</span> <span class="token punctuation">(</span>revenue2004 NUMBER<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div><p>또다른 안티패턴은 이렇게 연도별 테이블로 분리하는 것이다.</p><div class="remark-code-title">ANTIPATTERN clone table</div><div class="relative"><pre><code class="language-sql code-highlight"><span class="code-line"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Bugs_2008 <span class="token punctuation">(</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Bugs_2009 <span class="token punctuation">(</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Bugs_2010 <span class="token punctuation">(</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div><br/><p>해결방법1 - 수평 파티셔닝</p><div class="remark-code-title">SOLUTION1 horizontal partitioning</div><div class="relative"><pre><code class="language-sql code-highlight"><span class="code-line"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Bugs <span class="token punctuation">(</span>
</span><span class="code-line">    bug_id <span class="token keyword">SERIAL</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token comment">-- ...other columns</span>
</span><span class="code-line">    date_reported <span class="token keyword">DATE</span>
</span><span class="code-line"><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword">PARTITION</span> <span class="token keyword">BY</span> <span class="token keyword">HASH</span> <span class="token punctuation">(</span> <span class="token keyword">YEAR</span><span class="token punctuation">(</span>date_reported<span class="token punctuation">)</span> <span class="token punctuation">)</span>
</span><span class="code-line">PARTITIONS <span class="token number">4</span><span class="token punctuation">;</span>
</span></code></pre></div><p>table을 row 단위로 분할한다.</p><br/><p>해결방법2 - 수직 파티셔닝</p><div class="remark-code-title">SOLUTION2 vertical partitioning</div><div class="relative"><pre><code class="language-sql code-highlight"><span class="code-line"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> ProductInstallers <span class="token punctuation">(</span>
</span><span class="code-line">    product_id <span class="token keyword">BIGINT</span> <span class="token keyword">UNSIGNED</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
</span><span class="code-line">    installer_image <span class="token keyword">BLOB</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>product_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> Products<span class="token punctuation">(</span>product_id<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div><p>수직 파티셔닝은 단순하게 보면 테이블에서 column단위로 테이블을 분리하는 것이다.</p><p>해결방법2 에서 보여주는 ProductInstallers 테이블의 installer_image 컬럼은 제품의 설치 파일의 BLOB 데이터이며 .exe, .dmg 파일 등 매우 큰 파일이다.</p><p>논리적으로 installer_image BLOB column은 Product 테이블에 속해야 하지만 이 예제에서는 다음과 같은 이유로 수직 파티셔닝 대상 컬럼으로 적절하다고 판단한다.</p><ol><li>BLOB 컬럼은 크기가 매우 클 수 있다.</li><li>업무상 대부분의 쿼리가 해당 컬럼을 검색하지 않는다.</li><li>이런 경우 Product 테이블을 <code>SELECT *</code> 할 경우 성능 문제가 발생할 소지가 있다.</li></ol><p>또한 product_id를 FK로 연결해주어 필요할 떄 join이 가능하도록 만든다.</p><p>많은 DBMS에서는 저장 및 검색의 효율성을 위해 BLOB 및 TEXT 같은 대용량 컬럼은 다른 열과 별도로 저장하므로 테이블은 이러한 종류의 열 없이 검색하면 효율적으로 접근이 가능하다.</p><hr/></div></div><div id="comment"></div><footer><div class="flex flex-col text-sm font-medium sm:flex-row sm:justify-between sm:text-base"><div class="pt-4 xl:pt-8"><a class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/blog/friendly-SQL-tuning-5">← <!-- -->친절한 SQL 튜닝 정리 - 5</a></div><div class="pt-4 xl:pt-8"><a class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/blog/sql-antipatterns-2">SQL Anti Patterns Part 2, 3, 4<!-- --> →</a></div></div></footer></div></div></article></div></main><footer><div class="mt-16 flex flex-col items-center"><div class="mb-3 flex space-x-4"><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="mailto:demian11k@gmail.com"><span class="sr-only">mail</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="fill-current text-gray-700 hover:text-blue-500 dark:text-gray-200 dark:hover:text-blue-400 h-6 w-6"><path d="M2.003 5.884 10 9.882l7.997-3.998A2 2 0 0 0 16 4H4a2 2 0 0 0-1.997 1.884z"></path><path d="m18 8.118-8 4-8-4V14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8.118z"></path></svg></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://github.com/demian9k"><span class="sr-only">github</span><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="fill-current text-gray-700 hover:text-blue-500 dark:text-gray-200 dark:hover:text-blue-400 h-6 w-6"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></a></div><div class="mb-2 flex space-x-2 text-sm text-gray-500 dark:text-gray-400"><div>demian11k</div><div> • </div><div>© 2023</div><div> • </div><a href="/">demian11k studylog</a></div></div></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"mdxSource":"var Component=(()=\u003e{var h=Object.create;var i=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var N=Object.getOwnPropertyNames;var k=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var d=a=\u003ei(a,\"__esModule\",{value:!0});var y=(a,s)=\u003e()=\u003e(s||a((s={exports:{}}).exports,s),s.exports),E=(a,s)=\u003e{d(a);for(var l in s)i(a,l,{get:s[l],enumerable:!0})},w=(a,s,l)=\u003e{if(s\u0026\u0026typeof s==\"object\"||typeof s==\"function\")for(let n of N(s))!u.call(a,n)\u0026\u0026n!==\"default\"\u0026\u0026i(a,n,{get:()=\u003es[n],enumerable:!(l=m(s,n))||l.enumerable});return a},g=a=\u003ew(d(i(a!=null?h(k(a)):{},\"default\",a\u0026\u0026a.__esModule\u0026\u0026\"default\"in a?{get:()=\u003ea.default,enumerable:!0}:{value:a,enumerable:!0})),a);var p=y((A,r)=\u003e{r.exports=_jsx_runtime});var b={};E(b,{default:()=\u003eI,frontmatter:()=\u003eR});var e=g(p()),R={title:\"SQL Anti Patterns Part 1\",date:new Date(1554024734e3),lastmod:\"2019-03-31\",tags:[\"sql\",\"anti-pattern\"],draft:!1,summary:\"\",layout:\"PostSimple\",bibliography:\"references-data.bib\",canonicalUrl:\"https://demian9k.github.io/blog/sql-antipatterns-1/\"};function T(a={}){let{wrapper:s}=a.components||{};return s?(0,e.jsx)(s,Object.assign({},a,{children:(0,e.jsx)(l,{})})):l();function l(){let n=Object.assign({p:\"p\",strong:\"strong\",br:\"br\",hr:\"hr\",h2:\"h2\",a:\"a\",span:\"span\",ul:\"ul\",li:\"li\",pre:\"pre\",code:\"code\",h1:\"h1\",h3:\"h3\",ol:\"ol\",table:\"table\",thead:\"thead\",tr:\"tr\",th:\"th\",tbody:\"tbody\",td:\"td\",div:\"div\",h4:\"h4\"},a.components),{Image:t,BlogComponents:c}=n;return c||o(\"BlogComponents\",!1),c.Pattern2NaiveTreesClosureTableTreePath||o(\"BlogComponents.Pattern2NaiveTreesClosureTableTreePath\",!0),c.PatternTitleHeader||o(\"BlogComponents.PatternTitleHeader\",!0),t||o(\"Image\",!0),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(n.p,{children:(0,e.jsx)(n.strong,{children:\"\\uC774 \\uBB38\\uC11C\\uB294 bill karwin\\uC758 \\uC800\\uC11C SQL Antipattern\\uC744 \\uC694\\uC57D\\uD55C \\uBB38\\uC11C\\uC785\\uB2C8\\uB2E4.\"})}),(0,e.jsxs)(n.p,{children:[\"\\uC774 \\uCC45\\uC740 24\\uAC00\\uC9C0 SQL \\uC548\\uD2F0\\uD328\\uD134\\uB4E4\\uACFC \\uADF8 \\uBC29\\uBC95 \\uB300\\uC2E0 \\uC4F8\\uC218 \\uC788\\uB294 \\uBC29\\uBC95\\uB4E4(Best Practice)\\uB97C \\uC54C\\uB824\\uC900\\uB2E4.\",(0,e.jsx)(n.br,{}),\"\\uD559\\uC220\\uC801 \\uC811\\uADFC \\uBCF4\\uB2E4\\uB294 \\uC2E4\\uBB34\\uC801\\uC778 \\uAD00\\uC810\\uC5D0\\uC11C \\uC800\\uC220\\uB418\\uC5B4 \\uC2E4\\uC81C\\uB85C \\uC218\\uD589\\uD55C \\uC5C5\\uBB34\\uB97C \\uBC18\\uCD94 \\uD560 \\uC218 \\uC788\\uC5C8\\uB2E4.\",(0,e.jsx)(n.br,{}),\"\\uD558\\uC9C0\\uB9CC \\uB110\\uB9AC \\uD37C\\uC838 \\uC788\\uB294 \\uC0C1\\uC2DD\\uC801\\uC778 \\uC548\\uD2F0\\uD328\\uD134\\uC740 \\uC790\\uC138\\uD788 \\uC801\\uC9C0 \\uC54A\\uC558\\uB2E4.\"]}),(0,e.jsx)(n.hr,{}),(0,e.jsxs)(n.h2,{id:\"example-database\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",href:\"#example-database\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Example Database\"]}),(0,e.jsxs)(n.p,{children:[\"\\uC11C\\uC801 \\uC804\\uBC18\\uC5D0\\uC11C \\uC0AC\\uC6A9\\uD558\\uB294 \\uD14C\\uC774\\uBE14\\uC758 ERD\\uC640 DDL\",(0,e.jsx)(n.br,{}),\"\\uC18C\\uD504\\uD2B8\\uC6E8\\uC5B4\\uC758 \\uBC84\\uADF8 \\uCD94\\uC801 \\uC2DC\\uC2A4\\uD15C\\uC744 \\uC124\\uACC4\\uD55C \\uAC83\\uC774\\uB2E4.\"]}),(0,e.jsx)(\"div\",{className:\"text-center\",children:(0,e.jsx)(t,{alt:\"title\",src:\"/static/images/sql_antipattern/example_erd2.png\",className:\"object-cover object-center md:h-36 lg:h-48\",width:\"600vh\",height:\"550vh\"})}),(0,e.jsxs)(n.ul,{children:[(0,e.jsx)(n.li,{children:\"accounts \\uD14C\\uC774\\uBE14\\uC740 \\uC0AC\\uC6A9\\uC790 \\uACC4\\uC815\\uC774\\uB2E4 \\uBC84\\uADF8\\uB97C \\uBCF4\\uACE0\\uD558\\uAC70\\uB098 comment\\uB97C \\uB0A8\\uAE38 \\uC218 \\uC788\\uB2E4.\"}),(0,e.jsx)(n.li,{children:\"bugs \\uC5D0\\uB294 \\uC0AC\\uC6A9\\uC790\\uAC00 \\uBC84\\uADF8\\uB97C \\uAE30\\uB85D\\uD558\\uB294 \\uD14C\\uC774\\uBE14\\uC774\\uBA70, \\uBC84\\uADF8\\uB97C \\uD2B9\\uC9D5\\uD558\\uB294 Tags \\uC640 \\uBC84\\uADF8\\uB97C \\uC124\\uBA85\\uD558\\uB294 \\uB370 \\uD544\\uC694\\uD55C Screenshots \\uD14C\\uC774\\uBE14\\uC774 \\uC5F0\\uACB0\\uB41C\\uB2E4.\"}),(0,e.jsx)(n.li,{children:\"bugStatus \\uD14C\\uC774\\uBE14\\uC740 \\uBC84\\uADF8\\uAC00 \\uC5B4\\uB5BB\\uAC8C \\uCC98\\uB9AC\\uB418\\uACE0 \\uC788\\uB294\\uC9C0 \\uC0C1\\uD0DC\\uB97C \\uC758\\uBBF8\\uD55C\\uB2E4.\"}),(0,e.jsx)(n.li,{children:\"Products \\uD14C\\uC774\\uBE14\\uC740 \\uBC84\\uADF8\\uC758 source \\uAC00 \\uB418\\uB294 \\uC81C\\uD488\\uC744 \\uC758\\uBBF8\\uD558\\uBA70, \\uD558\\uB098\\uC758 Product\\uC5D0 \\uC5EC\\uB7EC\\uAC1C\\uC758 \\uBC84\\uADF8\\uAC00 \\uC788\\uC744 \\uC218 \\uC788\\uACE0, \\uD558\\uB098\\uC758 Bug\\uAC00 \\uC5EC\\uB7EC\\uAC1C Product\\uC5D0 \\uC788\\uC744 \\uC218 \\uC788\\uC73C\\uBBC0\\uB85C many-to-many \\uAD00\\uACC4\\uC774\\uB2E4.\"}),(0,e.jsx)(n.li,{children:\"BugsProducts \\uD14C\\uC774\\uBE14\\uC740 Bugs \u003c-\u003e Products \\uD14C\\uC774\\uBE14\\uC758 many-to-many \\uAD00\\uACC4 \\uD574\\uC18C\\uB97C \\uC704\\uD55C intersection table \\uC774\\uB2E4.\"})]}),(0,e.jsx)(\"div\",{className:\"text-center\",children:(0,e.jsx)(t,{alt:\"title\",src:\"/static/images/sql_antipattern/example_erd1.png\",className:\"object-cover object-center md:h-36 lg:h-48\",width:\"600vh\",height:\"750vh\"})}),(0,e.jsx)(n.ul,{children:(0,e.jsx)(n.li,{children:\"installer\\uB294 \\uD504\\uB85C\\uB355\\uD2B8\\uAC00 \\uC2E4\\uD589\\uD30C\\uC77C\\uB85C \\uC124\\uCE58\\uB418\\uB294 \\uD615\\uD0DC\\uC758 \\uC18C\\uD504\\uD2B8\\uC6E8\\uC5B4\\uB85C \\uC124\\uCE58\\uC5D0 \\uAD00\\uB828\\uB41C \\uC815\\uBCF4\\uB97C \\uB2F4\\uB294\\uB2E4.\"})}),(0,e.jsx)(\"br\",{}),(0,e.jsx)(\"div\",{className:\"remark-code-title\",children:\"DDL\"}),(0,e.jsx)(n.pre,{className:\"language-sql\",children:(0,e.jsxs)(n.code,{className:\"language-sql code-highlight\",children:[(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"CREATE\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"TABLE\"}),\" Accounts \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    account_id \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"SERIAL\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"PRIMARY\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    account_name \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"VARCHAR\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"20\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    first_name \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"VARCHAR\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"20\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    last_name \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"VARCHAR\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"20\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    email \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"VARCHAR\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"100\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    password_hash \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"CHAR\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"64\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    portrait_image \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"BLOB\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    hourly_rate \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"NUMERIC\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"9\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"2\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"CREATE\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"TABLE\"}),\" BugStatus \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"status\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"VARCHAR\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"20\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"PRIMARY\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"CREATE\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"TABLE\"}),\" Bugs \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    bug_id \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"SERIAL\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"PRIMARY\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    date_reported \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"DATE\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"NOT\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"NULL\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    summary \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"VARCHAR\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"80\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    description \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"VARCHAR\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1000\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    resolution \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"VARCHAR\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1000\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    reported_by \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"BIGINT\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"UNSIGNED\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"NOT\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"NULL\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    assigned_to \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"BIGINT\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"UNSIGNED\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    verified_by \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"BIGINT\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"UNSIGNED\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"status\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"VARCHAR\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"20\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"NOT\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"NULL\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"DEFAULT\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'NEW'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    priority \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"VARCHAR\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"20\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    hours \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"NUMERIC\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"9\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"2\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FOREIGN\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"reported_by\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"REFERENCES\"}),\" Accounts\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"account_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FOREIGN\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"assigned_to\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"REFERENCES\"}),\" Accounts\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"account_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FOREIGN\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"verified_by\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"REFERENCES\"}),\" Accounts\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"account_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FOREIGN\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"status\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"REFERENCES\"}),\" BugStatus\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"status\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"CREATE\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"TABLE\"}),\" Comments \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    comment_id \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"SERIAL\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"PRIMARY\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    bug_id \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"BIGINT\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"UNSIGNED\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"NOT\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"NULL\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    author \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"BIGINT\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"UNSIGNED\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"NOT\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"NULL\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    comment_date \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"DATETIME\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"NOT\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"NULL\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"comment\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"TEXT\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"NOT\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"NULL\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FOREIGN\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"bug_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"REFERENCES\"}),\" Bugs\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"bug_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FOREIGN\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"author\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"REFERENCES\"}),\" Accounts\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"account_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"CREATE\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"TABLE\"}),\" Screenshots \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    bug_id \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"BIGINT\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"UNSIGNED\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"NOT\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"NULL\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    image_id \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"BIGINT\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"UNSIGNED\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"NOT\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"NULL\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    screenshot_image \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"BLOB\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    caption \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"VARCHAR\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"100\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"PRIMARY\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"bug_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" image_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FOREIGN\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"bug_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"REFERENCES\"}),\" Bugs\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"bug_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"CREATE\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"TABLE\"}),\" Tags \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    bug_id \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"BIGINT\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"UNSIGNED\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"NOT\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"NULL\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    tag \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"VARCHAR\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"20\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"NOT\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"NULL\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"PRIMARY\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"bug_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" tag\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FOREIGN\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"bug_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"REFERENCES\"}),\" Bugs\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"bug_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"CREATE\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"TABLE\"}),\" Products \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    product_id \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"SERIAL\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"PRIMARY\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    product_name \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"VARCHAR\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"50\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"CREATE\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"TABLE\"}),\" BugsProducts\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    bug_id \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"BIGINT\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"UNSIGNED\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"NOT\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"NULL\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    product_id \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"BIGINT\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"UNSIGNED\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"NOT\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"NULL\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"PRIMARY\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"bug_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" product_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FOREIGN\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"bug_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"REFERENCES\"}),\" Bugs\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"bug_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FOREIGN\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"product_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"REFERENCES\"}),\" Products\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"product_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`})]})}),(0,e.jsxs)(n.h1,{id:\"part-i---logical-database-design-antipatterns\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",href:\"#part-i---logical-database-design-antipatterns\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Part I - Logical Database Design Antipatterns\"]}),(0,e.jsxs)(n.h3,{children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",href:\"#\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),(0,e.jsx)(c.PatternTitleHeader,{patternNo:\"| \\uD328\\uD134 1 |\",titleText:\"\\uBB34\\uB2E8\\uD6A1\\uB2E8 jaywalking\"})]}),(0,e.jsx)(n.p,{children:\"\\uCC45\\uC5D0\\uC11C\\uB294 Product \\uB77C\\uB294 \\uD14C\\uC774\\uBE14\\uC5D0 \\uADF8 \\uC81C\\uD488\\uC758 \\uB2F4\\uB2F9\\uC790 \\uBAA9\\uB85D(Accounts)\\uC744 \\uD45C\\uD604\\uD560 \\uB54C \\uC5EC\\uB7EC\\uAC1C\\uC758 \\uAC12\\uC744 \\uCF64\\uB9C8\\uB85C \\uAD6C\\uBD84\\uD55C \\uBB38\\uC790\\uC5F4\\uC744 \\uC0AC\\uC6A9\\uD588\\uB2E4.\"}),(0,e.jsx)(n.p,{children:\"\\uC774 \\uBC29\\uBC95\\uC774 \\uB098\\uC05C \\uC774\\uC720\\uB294 \\uB370\\uC774\\uD130\\uBCA0\\uC774\\uC2A4\\uB294 \\uC774\\uB7F0 \\uD615\\uD0DC\\uC758 \\uCEEC\\uB7FC\\uC744 \\uC0AC\\uC6A9\\uD558\\uB3C4\\uB85D \\uB9CC\\uB4E4\\uC5B4\\uC9C0\\uC9C0 \\uC54A\\uC558\\uAE30 \\uB54C\\uBB38\\uC774\\uB2E4. \\uCC45\\uC5D0\\uC11C\\uB294 select, aggregate, update \\uB4F1\\uC758 \\uCFFC\\uB9AC\\uB97C \\uBCF4\\uC5EC\\uC8FC\\uBA70 \\uC77C\\uBC18\\uC801\\uC73C\\uB85C \\uCFFC\\uB9AC\\uD558\\uB294 \\uBC29\\uBC95\\uC774 \\uC544\\uB2C8\\uB77C \\uD2B9\\uBCC4\\uD55C \\uBC29\\uC2DD\\uC73C\\uB85C \\uCFFC\\uB9AC\\uD574\\uC57C \\uD558\\uBA70 \\uC77C\\uBC18\\uC801\\uC73C\\uB85C \\uCFFC\\uB9AC\\uD588\\uC744 \\uB54C\\uC640 \\uBE44\\uAD50\\uD558\\uC5EC \\uC5EC\\uB7EC\\uBC88\\uC758 SQL \\uBB38\\uC7A5\\uC774 \\uD544\\uC694\\uD568\\uC744 \\uB9D0\\uD55C\\uB2E4.\"}),(0,e.jsx)(n.p,{children:\"\\uD574\\uACB0 \\uBC29\\uBC95\\uC73C\\uB85C\\uB294 Account\\uC640 Product \\uC0AC\\uC774\\uC5D0 \\uB2E4\\uB300\\uB2E4 \\uD14C\\uC774\\uBE14\\uC744 \\uB9CC\\uB4E4\\uC5B4 \\uC0AC\\uC6A9\\uD558\\uB294 \\uAC83\\uC774\\uB2E4.\"}),(0,e.jsx)(n.p,{children:\"\\uC774 \\uBC29\\uBC95\\uC758 \\uC720\\uC77C\\uD55C \\uC7A5\\uC810\\uC740 \\uC560\\uD50C\\uB9AC\\uCF00\\uC774\\uC158\\uC5D0\\uC11C \\uCF64\\uB9C8\\uB85C \\uAD6C\\uBD84\\uB41C \\uBB38\\uC790\\uC5F4\\uACFC \\uAC19\\uC740 \\uD615\\uD0DC\\uC758 \\uAC12\\uC744 \\uC870\\uC791 \\uC5C6\\uC774 \\uADF8\\uB300\\uB85C \\uC0AC\\uC6A9\\uD558\\uB294 \\uACBD\\uC6B0\\uC774\\uBA70 \\uC774\\uAC83\\uC740 \\uC77C\\uC885\\uC758 \\uBC18\\uC815\\uADDC\\uD654 \\uD6A8\\uACFC\\uB97C \\uC77C\\uC73C\\uD0A8\\uB2E4\\uACE0 \\uB9D0\\uD55C\\uB2E4. (\\uBC18\\uC815\\uADDC\\uD654\\uB294 \\uC131\\uB2A5 \\uB54C\\uBB38\\uC5D0 \\uC870\\uC778\\uC744 \\uD1B5\\uD574 \\uD14C\\uC774\\uBE14\\uC744 \\uACB0\\uD569\\uC2DC\\uD0A4\\uC9C0 \\uC54A\\uAE30 \\uC704\\uD574 \\uCEEC\\uB7FC\\uC744 \\uC815\\uADDC\\uD654\\uD558\\uC9C0 \\uC54A\\uB294 \\uAC83\\uC744 \\uB9D0\\uD55C\\uB2E4.)\"}),(0,e.jsx)(n.hr,{}),(0,e.jsxs)(n.h3,{id:\"-1\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",href:\"#-1\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),(0,e.jsx)(c.PatternTitleHeader,{patternNo:\"| \\uD328\\uD134 2 |\",titleText:\"\\uC21C\\uC9C4\\uD55C \\uD2B8\\uB9AC Naive trees\"})]}),(0,e.jsx)(n.p,{children:\"\\uD14C\\uC774\\uBE14\\uC774 \\uACC4\\uCE35 \\uAD6C\\uC870\\uB97C \\uB9CC\\uB4DC\\uB294 \\uBC29\\uBC95\\uC744 5\\uAC00\\uC9C0 \\uC18C\\uAC1C\\uD55C\\uB2E4.\"}),(0,e.jsx)(n.p,{children:\"\\uC0AC\\uC6A9 \\uC608\\uB294 \\uBC84\\uADF8 \\uCD94\\uC801 \\uC2DC\\uC2A4\\uD15C\\uC5D0\\uC11C \\uBC84\\uADF8\\uC5D0 \\uB300\\uD55C \\uB313\\uAE00 \\uD14C\\uC774\\uBE14\\uC774\\uB2E4.\"}),(0,e.jsx)(n.ol,{children:(0,e.jsx)(n.li,{children:\"Adjacency List(\\uC778\\uC811 \\uBAA9\\uB85D)\"})}),(0,e.jsx)(\"div\",{className:\"remark-code-title\",children:\"adjacecy list\"}),(0,e.jsx)(n.pre,{className:\"language-sql\",children:(0,e.jsxs)(n.code,{className:\"language-sql code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"CREATE\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"TABLE\"}),\" Comments \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    comment_id \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"SERIAL\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"PRIMARY\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    parent_id \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"BIGINT\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"UNSIGNED\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    bug_id \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"BIGINT\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"UNSIGNED\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"NOT\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"NULL\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    author \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"BIGINT\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"UNSIGNED\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"NOT\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"NULL\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    comment_date \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"DATETIME\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"NOT\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"NULL\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"comment\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"TEXT\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"NOT\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"NULL\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FOREIGN\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"parent_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"REFERENCES\"}),\" Comments\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"comment_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FOREIGN\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"bug_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"REFERENCES\"}),\" Bugs\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"bug_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FOREIGN\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"author\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"REFERENCES\"}),\" Accounts\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"account_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`})]})}),(0,e.jsxs)(n.table,{children:[(0,e.jsx)(n.thead,{children:(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.th,{children:\"comment_id\"}),(0,e.jsx)(n.th,{children:\"parent_id\"}),(0,e.jsx)(n.th,{children:\"author\"}),(0,e.jsx)(n.th,{children:\"comment\"})]})}),(0,e.jsxs)(n.tbody,{children:[(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"1\"}),(0,e.jsx)(n.td,{children:\"null\"}),(0,e.jsx)(n.td,{children:\"Fran\"}),(0,e.jsx)(n.td,{children:\"What\\u2019s the cause of this bug?\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"2\"}),(0,e.jsx)(n.td,{children:\"1\"}),(0,e.jsx)(n.td,{children:\"Ollie\"}),(0,e.jsx)(n.td,{children:\"I think it\\u2019s a null pointer.\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"3\"}),(0,e.jsx)(n.td,{children:\"2\"}),(0,e.jsx)(n.td,{children:\"Fran\"}),(0,e.jsx)(n.td,{children:\"No, I checked for that.\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"4\"}),(0,e.jsx)(n.td,{children:\"1\"}),(0,e.jsx)(n.td,{children:\"Kukla\"}),(0,e.jsx)(n.td,{children:\"We need to check for invalid input.\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"5\"}),(0,e.jsx)(n.td,{children:\"4\"}),(0,e.jsx)(n.td,{children:\"Ollie\"}),(0,e.jsx)(n.td,{children:\"Yes, that\\u2019s a bug.\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"6\"}),(0,e.jsx)(n.td,{children:\"4\"}),(0,e.jsx)(n.td,{children:\"Fran\"}),(0,e.jsx)(n.td,{children:\"Yes, please add a check\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"7\"}),(0,e.jsx)(n.td,{children:\"6\"}),(0,e.jsx)(n.td,{children:\"Kukla\"}),(0,e.jsx)(n.td,{children:\"That fixed it\"})]})]})]}),(0,e.jsx)(n.p,{children:\"\\uAC00\\uC7A5 \\uB2E8\\uC21C\\uD55C \\uBC29\\uBC95\\uC73C\\uB85C parent_id \\uAC19\\uC740 \\uAC19\\uC740 \\uD14C\\uC774\\uBE14\\uC758 pk\\uB97C \\uD45C\\uC2DC\\uD55C \\uCEEC\\uB7FC\\uC744 \\uCC38\\uC870\\uD558\\uB3C4\\uB85D \\uD558\\uB294 \\uAC83\\uC774\\uB2E4.\"}),(0,e.jsx)(\"br\",{}),(0,e.jsx)(\"div\",{className:\"remark-code-title\",children:\"adjacency list query parent\"}),(0,e.jsx)(n.pre,{className:\"language-sql\",children:(0,e.jsxs)(n.code,{className:\"language-sql code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"SELECT\"}),\" c1\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" c2\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FROM\"}),\" Comments c1 \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"LEFT\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"OUTER\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"JOIN\"}),` Comments c2\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"ON\"}),\" c2\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"parent_id \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" c1\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"comment_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"\\uB2E8\\uC21C\\uD788 \\uBD80\\uBAA8\\uB97C \\uAC80\\uC0C9\\uD558\\uB294\\uAC83\\uC740 \\uC27D\\uB2E4.\"}),(0,e.jsx)(\"br\",{}),(0,e.jsx)(\"div\",{className:\"remark-code-title\",children:\"adjacency list query ancester\"}),(0,e.jsx)(n.pre,{className:\"language-sql\",children:(0,e.jsxs)(n.code,{className:\"language-sql code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"SELECT\"}),\" c1\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" c2\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" c3\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" c4\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FROM\"}),\" Comments c1 \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"-- 1st level\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"LEFT\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"OUTER\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"JOIN\"}),` Comments c2\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"ON\"}),\" c2\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"parent_id \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" c1\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"comment_id \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"-- 2nd level\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"LEFT\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"OUTER\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"JOIN\"}),` Comments c3\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"ON\"}),\" c3\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"parent_id \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" c2\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"comment_id \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"-- 3rd level\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"LEFT\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"OUTER\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"JOIN\"}),` Comments c4\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"ON\"}),\" c4\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"parent_id \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" c3\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"comment_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"-- 4th level\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"\\uADF8\\uB7EC\\uB098 \\uC774 \\uBC29\\uBC95\\uC740 \\uB2E8\\uACC4\\uAC00 \\uB298\\uC5B4\\uAC08 \\uB54C\\uB9C8\\uB2E4 Left Outer Join\\uC744 \\uC0AC\\uC6A9\\uD574 \\uCFFC\\uB9AC \\uAE38\\uC774\\uAC00 \\uB298\\uC5B4\\uAC04\\uB2E4.\"}),(0,e.jsx)(\"br\",{}),(0,e.jsx)(\"div\",{className:\"remark-code-title\",children:\"adjacency list insert and update\"}),(0,e.jsx)(n.pre,{className:\"language-sql\",children:(0,e.jsxs)(n.code,{className:\"language-sql code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"INSERT\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"INTO\"}),\" Comments \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"bug_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" parent_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" author\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"comment\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"VALUES\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1234\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"7\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'Kukla'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'Thanks!'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"UPDATE\"}),\" Comments \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"SET\"}),\" parent_id \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"3\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"WHERE\"}),\" comment_id \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"6\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"\\uB178\\uB4DC\\uB97C \\uCD94\\uAC00\\uD558\\uB294 \\uAC83\\uACFC \\uB178\\uB4DC\\uB97C \\uC774\\uB3D9\\uD558\\uB294 \\uAC83\\uC740 \\uC27D\\uB2E4.\"}),(0,e.jsx)(\"br\",{}),(0,e.jsx)(\"div\",{className:\"remark-code-title\",children:\"adjacency list delete\"}),(0,e.jsx)(n.pre,{className:\"language-sql\",children:(0,e.jsxs)(n.code,{className:\"language-sql code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"SELECT\"}),\" comment_id \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FROM\"}),\" Comments \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"WHERE\"}),\" parent_id \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"4\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"-- returns 5 and 6\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"SELECT\"}),\" comment_id \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FROM\"}),\" Comments \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"WHERE\"}),\" parent_id \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"5\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"-- returns none\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"SELECT\"}),\" comment_id \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FROM\"}),\" Comments \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"WHERE\"}),\" parent_id \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"6\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"-- returns 7\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"SELECT\"}),\" comment_id \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FROM\"}),\" Comments \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"WHERE\"}),\" parent_id \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"7\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"-- returns none\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"DELETE\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FROM\"}),\" Comments \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"WHERE\"}),\" comment_id \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"IN\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"7\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"DELETE\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FROM\"}),\" Comments \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"WHERE\"}),\" comment_id \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"IN\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"5\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"6\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"DELETE\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FROM\"}),\" Comments \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"WHERE\"}),\" comment_id \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"4\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"\\uADF8\\uB7EC\\uB098 \\uD2B8\\uB9AC\\uC5D0\\uC11C \\uB178\\uB4DC\\uB97C \\uC0AD\\uC81C\\uD558\\uB294 \\uAC83\\uC740 \\uBCF5\\uC7A1\\uD574\\uC9C4\\uB2E4.\"}),(0,e.jsx)(\"br\",{}),(0,e.jsx)(\"div\",{className:\"remark-code-title\",children:\"delete non-leaf-node in adjacency list\"}),(0,e.jsx)(n.pre,{className:\"language-sql\",children:(0,e.jsxs)(n.code,{className:\"language-sql code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"SELECT\"}),\" parent_id \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FROM\"}),\" Comments \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"WHERE\"}),\" comment_id \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"6\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"-- returns 4\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"UPDATE\"}),\" Comments \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"SET\"}),\" parent_id \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"4\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"WHERE\"}),\" parent_id \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"6\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"DELETE\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FROM\"}),\" Comments \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"WHERE\"}),\" comment_id \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"6\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"\\uC11C\\uBE0C\\uD2B8\\uB9AC \\uC804\\uCCB4\\uB97C \\uC0AD\\uC81C\\uD558\\uB824\\uBA74 FK \\uC870\\uAC74\\uC774 \\uAC78\\uB824 \\uC788\\uC73C\\uBBC0\\uB85C \\uB2E4\\uC218\\uC758 \\uCFFC\\uB9AC\\uB97C \\uD1B5\\uD574 \\uBAA8\\uB4E0 \\uC790\\uC190\\uC744 \\uCC3E\\uC740 \\uD6C4 \\uAC00\\uC7A5 \\uC544\\uB798 \\uB2E8\\uACC4\\uC5D0\\uC11C\\uBD80\\uD130 \\uCC28\\uB840\\uB300\\uB85C \\uC0AD\\uC81C\\uD558\\uBA74\\uC11C \\uC62C\\uB77C\\uAC00\\uC57C \\uD55C\\uB2E4.\"}),(0,e.jsx)(n.p,{children:\"\\uC774\\uB7F0 \\uB2E8\\uC810\\uB4E4\\uC774 adjacency_list \\uC124\\uACC4 \\uBC29\\uBC95\\uC774 \\uC548\\uD2F0\\uD328\\uD134\\uC778 \\uC6D0\\uC778\\uC774\\uB2E4.\"}),(0,e.jsx)(\"br\",{}),(0,e.jsx)(n.ol,{start:\"2\",children:(0,e.jsx)(n.li,{children:\"Recursive Query\"})}),(0,e.jsx)(n.p,{children:\"\\uC7AC\\uADC0 \\uCFFC\\uB9AC\\uB294 \\uD2B9\\uC815 DBMS \\uC5D0\\uC11C\\uB9CC \\uC9C0\\uC6D0\\uD55C\\uB2E4.\"}),(0,e.jsx)(n.p,{children:\"oracle - CONNECT BY, RECURSIVE WITH\"}),(0,e.jsx)(\"div\",{className:\"remark-code-title\",children:\"oracle connect-by\"}),(0,e.jsx)(n.pre,{className:\"language-sql\",children:(0,e.jsxs)(n.code,{className:\"language-sql code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"SELECT\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FROM\"}),` Comments\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"START\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"WITH\"}),\" comment_id \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"9876\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"CONNECT\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"BY\"}),\" PRIOR parent_id \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" comment_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"mysql 5.7 \\uC774\\uC0C1 - WITH RECURSIVE\"}),(0,e.jsx)(\"div\",{className:\"remark-code-title\",children:\"recursive query syntax using the WITH keyword\"}),(0,e.jsx)(n.pre,{className:\"language-sql\",children:(0,e.jsxs)(n.code,{className:\"language-sql code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"WITH\"}),\" CommentTree \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  comment_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" bug_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" parent_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" author\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"comment\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),` depth\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"AS\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"SELECT\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"AS\"}),` depth\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FROM\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`    Comments\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"WHERE\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    parent_id \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"IS\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"NULL\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"UNION\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"ALL\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"SELECT\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    c\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    ct\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"depth \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"AS\"}),` depth\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FROM\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`    CommentTree ct\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"JOIN\"}),\" Comments c \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"ON\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"ct\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"comment_id \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" c\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"parent_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"SELECT\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FROM\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`  CommentTree\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"WHERE\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  bug_id \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1234\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"\\uC11C\\uC801\\uC5D0\\uC11C\\uB294 Recursive Query\\uC5D0 \\uB300\\uD55C \\uB2E8\\uC810\\uC744 \\uB9D0\\uD558\\uC9C4 \\uC54A\\uB294\\uB2E4. \\uB2E4\\uB9CC \\uB2E4\\uB978 \\uBC29\\uBC95\\uACFC \\uBE44\\uAD50\\uD558\\uAE30 \\uC704\\uD574 \\uC5EC\\uAE30\\uC11C \\uC9DA\\uACE0 \\uB118\\uC5B4\\uAC04\\uB2E4.\"}),(0,e.jsx)(\"br\",{}),(0,e.jsx)(n.p,{children:\"adjacency_list \\uBC29\\uBC95\\uC774 \\uAC00\\uC9C4 \\uB2E8\\uC810\\uB4E4 \\uB54C\\uBB38\\uC5D0 \\uCC45\\uC5D0\\uC11C \\uC81C\\uC2DC\\uD558\\uB294 \\uB300\\uC548\\uC801\\uC778 \\uBAA8\\uB378\\uC740 \\uC544\\uB798 3\\uAC00\\uC9C0\\uC774\\uB2E4.\"}),(0,e.jsx)(\"br\",{}),(0,e.jsx)(n.ol,{start:\"3\",children:(0,e.jsx)(n.li,{children:\"path enumeration(\\uACBD\\uB85C \\uC5F4\\uAC70)\"})}),(0,e.jsx)(n.p,{children:\"\\uACBD\\uB85C \\uC5F4\\uAC70 \\uBAA8\\uB378\\uC740 \\uD14C\\uC774\\uBE14\\uC5D0 path \\uCEEC\\uB7FC\\uC73C\\uB85C \\uC870\\uC0C1\\uB4E4\\uC758 \\uBAA8\\uB4E0 PK\\uB97C \\uD3EC\\uD568\\uD558\\uC5EC \\uB098\\uC5F4\\uD558\\uB294 \\uBC29\\uBC95\\uC774\\uB2E4.\"}),(0,e.jsx)(n.pre,{className:\"language-sql\",children:(0,e.jsxs)(n.code,{className:\"language-sql code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"CREATE\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"TABLE\"}),\" Comments \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    comment_id \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"SERIAL\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"PRIMARY\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    path \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"VARCHAR\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1000\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    bug_id \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"BIGINT\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"UNSIGNED\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"NOT\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"NULL\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    author \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"BIGINT\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"UNSIGNED\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"NOT\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"NULL\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    comment_date \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"DATETIME\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"NOT\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"NULL\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"comment\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"TEXT\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"NOT\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"NULL\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FOREIGN\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"bug_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"REFERENCES\"}),\" Bugs\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"bug_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FOREIGN\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"author\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"REFERENCES\"}),\" Accounts\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"account_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,e.jsxs)(n.table,{children:[(0,e.jsx)(n.thead,{children:(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.th,{children:\"comment_id\"}),(0,e.jsx)(n.th,{children:\"path\"}),(0,e.jsx)(n.th,{children:\"author\"}),(0,e.jsx)(n.th,{children:\"comment\"})]})}),(0,e.jsxs)(n.tbody,{children:[(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"1\"}),(0,e.jsx)(n.td,{children:\"1/\"}),(0,e.jsx)(n.td,{children:\"Fran\"}),(0,e.jsx)(n.td,{children:\"What\\u2019s the cause of this bug?\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"2\"}),(0,e.jsx)(n.td,{children:\"1/2/\"}),(0,e.jsx)(n.td,{children:\"Ollie\"}),(0,e.jsx)(n.td,{children:\"I think it\\u2019s a null pointer.\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"3\"}),(0,e.jsx)(n.td,{children:\"1/2/3/\"}),(0,e.jsx)(n.td,{children:\"Fran\"}),(0,e.jsx)(n.td,{children:\"No, I checked for that.\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"4\"}),(0,e.jsx)(n.td,{children:\"1/4/\"}),(0,e.jsx)(n.td,{children:\"Kukla\"}),(0,e.jsx)(n.td,{children:\"We need to check for invalid input.\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"5\"}),(0,e.jsx)(n.td,{children:\"1/4/5/\"}),(0,e.jsx)(n.td,{children:\"Ollie\"}),(0,e.jsx)(n.td,{children:\"Yes, that\\u2019s a bug.\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"6\"}),(0,e.jsx)(n.td,{children:\"1/4/6/\"}),(0,e.jsx)(n.td,{children:\"Fran\"}),(0,e.jsx)(n.td,{children:\"Yes, please add a check\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"7\"}),(0,e.jsx)(n.td,{children:\"1/4/6/7/\"}),(0,e.jsx)(n.td,{children:\"Kukla\"}),(0,e.jsx)(n.td,{children:\"That fixed it\"})]})]})]}),(0,e.jsx)(n.p,{children:\"comment_id 7\\uC758 \\uC870\\uC0C1\\uCC3E\\uAE30\"}),(0,e.jsx)(n.pre,{className:\"language-sql\",children:(0,e.jsxs)(n.code,{className:\"language-sql code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"SELECT\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FROM\"}),\" Comments \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"AS\"}),` c\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"WHERE\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'1/4/6/7/'\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"LIKE\"}),\" c\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"path \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"||\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'%'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"comment_id 4\\uC758 \\uC790\\uC190\\uCC3E\\uAE30\"}),(0,e.jsx)(n.pre,{className:\"language-sql\",children:(0,e.jsxs)(n.code,{className:\"language-sql code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"SELECT\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FROM\"}),\" Comments \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"AS\"}),` c\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"WHERE\"}),\" c\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"path \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"LIKE\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'1/4/'\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"||\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'%'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,e.jsx)(n.ol,{start:\"4\",children:(0,e.jsx)(n.li,{children:\"Nested Sets\"})}),(0,e.jsx)(n.p,{children:\"nested sets \\uB294 \\uC774\\uC9C4 \\uD2B8\\uB9AC \\uAC19\\uC774 \\uCEEC\\uB7FC\\uC774 \\uD558\\uB098\\uAC00 \\uB178\\uB4DC\\uAC00 \\uB418\\uC5B4 nsleft, nsright \\uB77C\\uB294 \\uC774\\uB984\\uC758 \\uCEEC\\uB7FC\\uC5D0 \\uD558\\uC704 \\uC9D1\\uD569\\uC5D0 \\uC18D\\uD558\\uB294 \\uAC01 \\uB178\\uB4DC\\uC758 \\uC815\\uBCF4\\uB97C \\uC800\\uC7A5\\uD55C\\uB2E4.\"}),(0,e.jsx)(n.p,{children:\"nsleft\\uC5D0 \\uD560\\uB2F9\\uB418\\uB294 \\uB118\\uBC84\\uB294 \\uBAA8\\uB4E0 \\uB178\\uB4DC\\uC758 \\uC790\\uC2DD \\uC218\\uBCF4\\uB2E4 \\uC791\\uACE0 nsright\\uB294 \\uBAA8\\uB4E0 \\uB178\\uB4DC\\uC758 \\uC790\\uC2DD\\uBCF4\\uB2E4 \\uD06C\\uB2E4\"}),(0,e.jsx)(n.pre,{className:\"language-sql\",children:(0,e.jsxs)(n.code,{className:\"language-sql code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"CREATE\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"TABLE\"}),\" Comments \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    comment_id \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"SERIAL\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"PRIMARY\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    nsleft \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"INTEGER\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"NOT\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"NULL\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    nsright \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"INTEGER\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"NOT\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"NULL\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    bug_id \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"BIGINT\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"UNSIGNED\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"NOT\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"NULL\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    author \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"BIGINT\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"UNSIGNED\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"NOT\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"NULL\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    comment_date \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"DATETIME\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"NOT\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"NULL\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"comment\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"TEXT\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"NOT\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"NULL\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FOREIGN\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"bug_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"REFERENCES\"}),\" Bugs \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"bug_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FOREIGN\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"author\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"REFERENCES\"}),\" Accounts\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"account_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,e.jsxs)(n.table,{children:[(0,e.jsx)(n.thead,{children:(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.th,{children:\"comment_id\"}),(0,e.jsx)(n.th,{children:\"nsleft\"}),(0,e.jsx)(n.th,{children:\"nsright\"}),(0,e.jsx)(n.th,{children:\"author\"}),(0,e.jsx)(n.th,{children:\"comment\"})]})}),(0,e.jsxs)(n.tbody,{children:[(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"1\"}),(0,e.jsx)(n.td,{children:\"1\"}),(0,e.jsx)(n.td,{children:\"14\"}),(0,e.jsx)(n.td,{children:\"Fran\"}),(0,e.jsx)(n.td,{children:\"What\\u2019s the cause of this bug?\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"2\"}),(0,e.jsx)(n.td,{children:\"2\"}),(0,e.jsx)(n.td,{children:\"5\"}),(0,e.jsx)(n.td,{children:\"Ollie\"}),(0,e.jsx)(n.td,{children:\"I think it\\u2019s a null pointer.\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"3\"}),(0,e.jsx)(n.td,{children:\"3\"}),(0,e.jsx)(n.td,{children:\"4\"}),(0,e.jsx)(n.td,{children:\"Fran\"}),(0,e.jsx)(n.td,{children:\"No, I checked for that.\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"4\"}),(0,e.jsx)(n.td,{children:\"6\"}),(0,e.jsx)(n.td,{children:\"13\"}),(0,e.jsx)(n.td,{children:\"Kukla\"}),(0,e.jsx)(n.td,{children:\"We need to check for invalid input.\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"5\"}),(0,e.jsx)(n.td,{children:\"7\"}),(0,e.jsx)(n.td,{children:\"8\"}),(0,e.jsx)(n.td,{children:\"Ollie\"}),(0,e.jsx)(n.td,{children:\"Yes, that\\u2019s a bug.\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"6\"}),(0,e.jsx)(n.td,{children:\"9\"}),(0,e.jsx)(n.td,{children:\"12\"}),(0,e.jsx)(n.td,{children:\"Fran\"}),(0,e.jsx)(n.td,{children:\"Yes, please add a check\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"7\"}),(0,e.jsx)(n.td,{children:\"10\"}),(0,e.jsx)(n.td,{children:\"11\"}),(0,e.jsx)(n.td,{children:\"Kukla\"}),(0,e.jsx)(n.td,{children:\"That fixed it\"})]})]})]}),(0,e.jsx)(n.p,{children:\"\\uC704 \\uD14C\\uC774\\uBE14\\uC744 \\uC2DC\\uAC01\\uD654\\uD558\\uBA74 \\uC544\\uB798\\uC640 \\uAC19\\uB2E4.\"}),(0,e.jsx)(\"div\",{className:\"text-center\",children:(0,e.jsx)(t,{alt:\"title\",src:\"/static/images/sql_antipattern/nested_sets.png\",className:\"object-cover object-center md:h-36 lg:h-48\",width:\"600vh\",height:\"550vh\"})}),(0,e.jsx)(n.p,{children:\"\\uC544\\uB798 \\uCFFC\\uB9AC\\uB294 comment_id 4\\uC758 nsleft, nsright \\uAC12\\uC73C\\uB85C \\uADF8 \\uC0AC\\uC774\\uC758 \\uC790\\uC190\\uB4E4\\uC744 \\uCC3E\\uC744 \\uC218 \\uC788\\uB2E4.\"}),(0,e.jsx)(n.pre,{className:\"language-sql\",children:(0,e.jsxs)(n.code,{className:\"language-sql code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"SELECT\"}),\" c2\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FROM\"}),\" Comments \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"AS\"}),` c1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"JOIN\"}),\" Comments \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"as\"}),` c2\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"ON\"}),\" c2\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"nsleft \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"BETWEEN\"}),\" c1\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"nsleft \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"AND\"}),\" c1\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),`nsright\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"WHERE\"}),\" c1\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"comment_id \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"4\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"\\uC544\\uB798 \\uCFFC\\uB9AC\\uB294 comment_id 6\\uC758 nsleft, nsright \\uAC12\\uC73C\\uB85C \\uADF8 \\uC0AC\\uC774\\uC758 \\uC870\\uC0C1\\uB4E4\\uC744 \\uCC3E\\uC744 \\uC218 \\uC788\\uB2E4.\"}),(0,e.jsx)(n.pre,{className:\"language-sql\",children:(0,e.jsxs)(n.code,{className:\"language-sql code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"SELECT\"}),\" c2\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FROM\"}),\" Comments \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"AS\"}),` c1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"JOIN\"}),\" Comments \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"AS\"}),` c2\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"ON\"}),\" c1\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"nsleft \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"BETWEEN\"}),\" c2\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"nsleft \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"AND\"}),\" c2\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),`nsright\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"WHERE\"}),\" c1\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"comment_id \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"6\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,e.jsx)(n.ol,{start:\"5\",children:(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.p,{children:\"Closure Table\"}),(0,e.jsx)(n.p,{children:\"\\uC774 \\uBC29\\uBC95\\uC5D0\\uC11C\\uB294 path \\uD14C\\uC774\\uBE14\\uC744 \\uBCC4\\uB3C4\\uB85C \\uB450\\uC5B4 ancester(\\uC870\\uC0C1), descendant(\\uC790\\uC190) \\uD544\\uB4DC\\uC5D0 \\uC5F0\\uACB0\\uB41C row\\uC758 pk\\uB97C \\uD45C\\uAE30\\uD558\\uB294 \\uBC29\\uBC95\\uC73C\\uB85C \\uC5F0\\uACB0\\uD55C\\uB2E4.\"})]})}),(0,e.jsx)(n.pre,{className:\"language-sql\",children:(0,e.jsxs)(n.code,{className:\"language-sql code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"CREATE\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"TABLE\"}),\" Comments \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    comment_id \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"SERIAL\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"PRIMARY\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    bug_id \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"BIGINT\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"UNSIGNED\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"NOT\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"NULL\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    author \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"BIGINT\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"UNSIGNED\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"NOT\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"NULL\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    comment_date \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"DATETIME\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"NOT\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"NULL\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"comment\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"TEXT\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"NOT\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"NULL\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FOREIGN\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"bug_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"REFERENCES\"}),\" Bugs\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"bug_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FOREIGN\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"author\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"REFERENCES\"}),\" Accounts\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"account_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"CREATE\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"TABLE\"}),\" TreePaths \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    ancestor \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"BIGINT\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"UNSIGNED\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"NOT\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"NULL\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    descendant \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"BIGINT\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"UNSIGNED\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"NOT\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"NULL\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"PRIMARY\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"ancestor\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" descendant\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FOREIGN\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"ancestor\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"REFERENCES\"}),\" Comments\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"comment_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FOREIGN\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"descendant\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"REFERENCES\"}),\" Comments\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"comment_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,e.jsx)(\"div\",{className:\"w-full flex justify-center\",children:(0,e.jsx)(\"div\",{className:\"w-1/2\",children:(0,e.jsx)(c.Pattern2NaiveTreesClosureTableTreePath,{})})}),(0,e.jsx)(n.p,{children:\"\\uC790\\uC190\\uC744 \\uAD6C\\uD558\\uB294 \\uBC29\\uBC95\"}),(0,e.jsx)(n.pre,{className:\"language-sql\",children:(0,e.jsxs)(n.code,{className:\"language-sql code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"SELECT\"}),\" c\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FROM\"}),\" Comments \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"AS\"}),` c\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"JOIN\"}),\" TreePaths \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"AS\"}),\" t \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"ON\"}),\" c\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"comment_id \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),`descendant\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"WHERE\"}),\" t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"ancestor \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"4\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"\\uC870\\uC0C1\\uC744 \\uAD6C\\uD558\\uB294 \\uBC29\\uBC95\"}),(0,e.jsx)(n.pre,{className:\"language-sql\",children:(0,e.jsxs)(n.code,{className:\"language-sql code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"SELECT\"}),\" c\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FROM\"}),\" Comments \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"AS\"}),` c\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"JOIN\"}),\" TreePaths \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"AS\"}),\" t \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"ON\"}),\" c\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"comment_id \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),`ancestor\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"WHERE\"}),\" t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"descendant \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"6\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`})]})}),(0,e.jsx)(n.p,{children:\"\\uC0C8 leafnode\\uB97C #5\\uC758 \\uC790\\uC2DD\\uC73C\\uB85C insert\\uD558\\uB294 \\uBC29\\uBC95\"}),(0,e.jsx)(n.pre,{className:\"language-sql\",children:(0,e.jsxs)(n.code,{className:\"language-sql code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"INSERT\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"INTO\"}),\" TreePaths \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"ancestor\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" descendant\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"SELECT\"}),\" t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"ancestor\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"8\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FROM\"}),\" TreePaths \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"AS\"}),` t\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"WHERE\"}),\" t\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"descendant \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"5\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"UNION\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"ALL\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"SELECT\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"8\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"8\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"#4 row \\uC640 \\uADF8 \\uC804\\uCCB4 subtree\\uB97C \\uC0AD\\uC81C\\uD558\\uB294 \\uBC29\\uBC95\"}),(0,e.jsx)(n.pre,{className:\"language-sql\",children:(0,e.jsxs)(n.code,{className:\"language-sql code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"DELETE\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FROM\"}),` TreePaths\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"WHERE\"}),\" descendant \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"IN\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"SELECT\"}),` descendant\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FROM\"}),` TreePaths\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"WHERE\"}),\" ancestor \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"4\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,e.jsxs)(n.p,{children:[(0,e.jsx)(\"br\",{}),\"- 5\\uAC00\\uC9C0 \\uBC29\\uBC95 \\uBE44\\uAD50\"]}),(0,e.jsx)(n.div,{children:(0,e.jsx)(t,{alt:\"chdd\",src:\"/static/images/sql_antipattern/chdd.png\",width:\"2186\",height:\"514\"})}),(0,e.jsx)(n.ul,{children:(0,e.jsx)(n.li,{children:\"Ref. Integ = \\uCC38\\uC870 \\uBB34\\uACB0\\uC131(referential integrity)\"})}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.strong,{children:\"Adjacency List\"})}),(0,e.jsxs)(n.ul,{children:[(0,e.jsxs)(n.li,{children:[\"pros\",(0,e.jsx)(n.ul,{children:(0,e.jsx)(n.li,{children:\"\\uC77C\\uBC18\\uC801\\uC73C\\uB85C \\uC0AC\\uC6A9\\uD558\\uBBC0\\uB85C \\uAC00\\uC7A5 \\uC774\\uD574\\uD558\\uAE30 \\uC27D\\uB2E4\"})})]}),(0,e.jsxs)(n.li,{children:[\"cons\",(0,e.jsx)(n.ul,{children:(0,e.jsx)(n.li,{children:\"\\uD2B8\\uB9AC\\uB97C \\uCFFC\\uB9AC\\uD560\\uB54C \\uC5B4\\uB835\\uACE0, \\uC0AD\\uC81C\\uD560\\uB54C \\uBCF5\\uC7A1\\uD558\\uB2E4.\"})})]})]}),(0,e.jsx)(\"br\",{}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.strong,{children:\"Recursive Query\"})}),(0,e.jsx)(n.p,{children:\"\\uC7AC\\uADC0 \\uCFFC\\uB9AC \\uAE30\\uB2A5\\uC744 \\uAC00\\uC9C4 DBMS\\uB97C \\uC0AC\\uC6A9\\uD560 \\uB54C adjacency list\\uB97C \\uC0AC\\uC6A9\\uD558\\uBA74 \\uD6A8\\uC728\\uC801\\uC774\\uB2E4 (\\uCC45\\uC5D0\\uC11C\\uB294 \\uB2E8\\uC810\\uC744 \\uC5B8\\uAE09\\uD558\\uC9C0 \\uC54A\\uC558\\uB2E4.)\"}),(0,e.jsx)(\"br\",{}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.strong,{children:\"Path Enumeration\"})}),(0,e.jsxs)(n.ul,{children:[(0,e.jsxs)(n.li,{children:[\"pros\",(0,e.jsx)(n.ul,{children:(0,e.jsx)(n.li,{children:\"UI\\uC5D0\\uC11C breadcrumb \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uB97C \\uAD6C\\uC131\\uD560 \\uB54C \\uC88B\\uB2E4\"})})]}),(0,e.jsxs)(n.li,{children:[\"cons\",(0,e.jsx)(n.ul,{children:(0,e.jsx)(n.li,{children:\"\\uCC38\\uC870\\uBB34\\uACB0\\uC131\\uC744 \\uAC15\\uC81C\\uD558\\uC9C0 \\uBABB\\uD558\\uBBC0\\uB85C \\uAE68\\uC9C0\\uAE30 \\uC27D\\uACE0 \\uC815\\uBCF4\\uAC00 \\uC911\\uBCF5\\uB41C\\uB2E4.\"})})]})]}),(0,e.jsx)(\"br\",{}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.strong,{children:\"Nested Set\"})}),(0,e.jsxs)(n.ul,{children:[(0,e.jsxs)(n.li,{children:[\"pros\",(0,e.jsx)(n.ul,{children:(0,e.jsx)(n.li,{children:\"\\uD2B8\\uB9AC\\uB97C \\uC218\\uC815\\uD560 \\uB54C\\uBCF4\\uB2E4 \\uD2B8\\uB9AC\\uB97C \\uC77D\\uC5B4\\uC62C \\uC77C\\uC774 \\uB9CE\\uC744 \\uB54C \\uC0AC\\uC6A9\\uD558\\uB294 \\uAC83\\uC774 \\uC88B\\uB2E4\"})})]}),(0,e.jsxs)(n.li,{children:[\"cons\",(0,e.jsx)(n.ul,{children:(0,e.jsx)(n.li,{children:\"\\uCC38\\uC870\\uBB34\\uACB0\\uC131\\uC744 \\uAC15\\uC81C\\uD558\\uC9C0 \\uBABB\\uD558\\uBBC0\\uB85C \\uAE68\\uC9C0\\uAE30 \\uC27D\\uACE0 \\uC815\\uBCF4\\uAC00 \\uC911\\uBCF5\\uB41C\\uB2E4.\"})})]})]}),(0,e.jsx)(\"br\",{}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.strong,{children:\"Closure Table\"})}),(0,e.jsxs)(n.ul,{children:[(0,e.jsxs)(n.li,{children:[\"pros\",(0,e.jsxs)(n.ul,{children:[(0,e.jsx)(n.li,{children:\"\\uB2E4\\uBAA9\\uC801(versatile)\\uC73C\\uB85C \\uC0AC\\uC6A9\\uD560 \\uC218 \\uC788\\uB294 \\uC124\\uACC4\"}),(0,e.jsx)(n.li,{children:\"\\uD558\\uB098\\uC758 \\uB178\\uB4DC\\uAC00 \\uC5EC\\uB7EC\\uAC1C\\uC758 \\uD2B8\\uB9AC\\uB4E4\\uC5D0 \\uC18D\\uD560 \\uC218 \\uC788\\uB2E4.\"})]})]}),(0,e.jsxs)(n.li,{children:[\"cons\",(0,e.jsxs)(n.ul,{children:[(0,e.jsx)(n.li,{children:\"relationship\\uC744 \\uC800\\uC7A5\\uD558\\uAE30 \\uC704\\uD574 \\uCD94\\uAC00\\uC801\\uC778 \\uD14C\\uC774\\uBE14\\uC774 \\uD544\\uC694\\uB85C \\uD55C\\uB2E4.\"}),(0,e.jsx)(n.li,{children:\"\\uAE4A\\uC740 \\uACC4\\uCE35\\uC744 \\uC778\\uCF54\\uB529\\uD560\\uB54C \\uB610\\uD55C \\uB2E4\\uC218\\uC758 row\\uB97C \\uC0AC\\uC6A9\\uD574\\uC57C \\uD558\\uBBC0\\uB85C \\uC2DC\\uAC04(\\uCEF4\\uD4E8\\uD305 \\uD30C\\uC6CC) \\uC99D\\uAC00\\uC2DC\\uD0A4\\uAE30 \\uC704\\uD574 \\uACF5\\uAC04\\uC744 \\uCD94\\uAC00\\uC801\\uC73C\\uB85C \\uC0AC\\uC6A9\\uD558\\uB294 \\uD2B8\\uB808\\uC774\\uB4DC \\uC624\\uD504 \\uAD00\\uACC4\\uC774\\uB2E4.\"})]})]})]}),(0,e.jsx)(n.hr,{}),(0,e.jsxs)(n.h3,{id:\"-2\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",href:\"#-2\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),(0,e.jsx)(c.PatternTitleHeader,{patternNo:\"| \\uD328\\uD134 3 |\",titleText:\"\\uC544\\uC774\\uB514\\uAC00 \\uD544\\uC694\\uD574\"})]}),(0,e.jsx)(n.p,{children:\"PK\\uB97C \\uC0AC\\uC6A9\\uD558\\uC790\\uB294 \\uAC83\\uC774\\uBA70 auto increment\\uB098 \\uC2DC\\uD000\\uC2A4\\uB97C \\uC774\\uC6A9\\uD558\\uB294 \\uC18C\\uC704 \\uB9CC\\uB2A5\\uD0A4(id \\uCEEC\\uB7FC)\\uB97C \\uC0AC\\uC6A9\\uD560 \\uACBD\\uC6B0 \\uC5EC\\uB7EC\\uAC00\\uC9C0 \\uB2E8\\uC810\\uC774 \\uC788\\uB2E4.\"}),(0,e.jsx)(n.p,{children:\"\\uC911\\uBCF5 \\uD0A4, \\uC911\\uBCF5 \\uD589, \\uBAA8\\uD638\\uD55C \\uD0A4\\uC758 \\uC758\\uBBF8 \\uB4F1\\uC774 \\uC788\\uC73C\\uBA70 \\uD56D\\uC0C1 \\uB9CC\\uB2A5\\uD0A4\\uB97C \\uC0AC\\uC6A9\\uD560 \\uC218 \\uC5C6\\uB2E4\\uB294 \\uAC83\\uC774 \\uACB0\\uB860\\uC774\\uB2E4.\"}),(0,e.jsx)(n.p,{children:\"\\uAC01 \\uD14C\\uC774\\uBE14\\uB9C8\\uB2E4 \\uC801\\uD569\\uD55C pk \\uCEEC\\uB7FC\\uC744 \\uC758\\uBBF8\\uB97C \\uC798 \\uC804\\uB2EC\\uD560 \\uC218 \\uC788\\uB294 \\uC774\\uB984\\uC73C\\uB85C \\uC0AC\\uC6A9\\uD574\\uC57C \\uD55C\\uB2E4.\"}),(0,e.jsx)(n.p,{children:\"\\uBCF5\\uD569\\uD0A4\\uAC00 \\uD544\\uC694\\uD560 \\uB54C\\uB294 \\uBCF5\\uD569\\uD0A4\\uB97C \\uC0AC\\uC6A9\\uD574\\uC57C \\uD55C\\uB2E4.\"}),(0,e.jsx)(n.hr,{}),(0,e.jsxs)(n.h3,{id:\"-3\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",href:\"#-3\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),(0,e.jsx)(c.PatternTitleHeader,{patternNo:\"| \\uD328\\uD134 4 |\",titleText:\"\\uD0A4\\uAC00 \\uC5C6\\uB294 \\uC5D4\\uD2B8\\uB9AC Keyless Entry\"})]}),(0,e.jsx)(n.p,{children:\"FK\\uB97C \\uC0AC\\uC6A9\\uD558\\uC790\"}),(0,e.jsx)(n.hr,{}),(0,e.jsxs)(n.h3,{id:\"-4\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",href:\"#-4\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),(0,e.jsx)(c.PatternTitleHeader,{patternNo:\"| \\uD328\\uD134 5 |\",titleText:\"entity-attribute-value \\uD14C\\uC774\\uBE14\"})]}),(0,e.jsx)(n.p,{children:\"\\uB450 \\uD14C\\uC774\\uBE14\\uC774 \\uACF5\\uD1B5\\uC801\\uC778 \\uC18D\\uC131\\uC744 \\uAC00\\uC9C0\\uACE0 \\uC788\\uC744 \\uB54C \\uC774\\uB7F0 \\uC18D\\uC131\\uB4E4\\uC744 \\uBCC4\\uB3C4\\uC758 \\uD14C\\uC774\\uBE14\\uC5D0 \\uCEEC\\uB7FC\\uC774 \\uC544\\uB2CC row\\uB85C \\uC800\\uC7A5\\uD558\\uB294 \\uAC83\\uC744 EAV \\uD14C\\uC774\\uBE14\\uC774\\uB77C \\uBD80\\uB978\\uB2E4.\"}),(0,e.jsx)(n.p,{children:\"\\uD328\\uD134 5\\uC5D0\\uC11C \\uC18C\\uAC1C\\uD558\\uB824\\uB294 \\uAC83\\uC740 \\uC774\\uB7F0 \\uD14C\\uC774\\uBE14\\uC744 \\uC0AC\\uC6A9\\uD588\\uC744 \\uB54C \\uC5B4\\uB5A4 \\uBB38\\uC81C\\uC810\\uB4E4\\uC774\\uB2E4.\"}),(0,e.jsx)(\"div\",{className:\"text-center\",children:(0,e.jsx)(t,{alt:\"title\",src:\"/static/images/sql_antipattern/EAV_table.png\",className:\"object-cover object-center md:h-36 lg:h-48\",width:\"450vh\",height:\"450vh\"})}),(0,e.jsxs)(n.p,{children:[\"\\uC704 \\uADF8\\uB9BC\\uC740 Bugs\\uC640 FeatureRequest \\uC758 \",(0,e.jsx)(n.code,{children:\"class diagram\"}),\" \\uC774\\uB2E4.\"]}),(0,e.jsx)(n.p,{children:\"\\uC774\\uB7F0 \\uAC1D\\uCCB4 \\uAD00\\uACC4\\uB97C \\uC18C\\uAC1C\\uD558\\uB824\\uB294 EAV(Entity-Attr-Val) \\uD14C\\uC774\\uBE14\\uB85C \\uC124\\uACC4\\uD558\\uBA74 \\uC544\\uB798\\uC640 \\uAC19\\uB2E4.\"}),(0,e.jsx)(\"div\",{className:\"remark-code-title\",children:\"construct EAV tables\"}),(0,e.jsx)(n.pre,{className:\"language-sql\",children:(0,e.jsxs)(n.code,{className:\"language-sql code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"CREATE\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"TABLE\"}),\" Issues \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    issue_id \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"SERIAL\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"PRIMARY\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"INSERT\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"INTO\"}),\" Issues \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"issue_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"VALUES\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1234\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"CREATE\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"TABLE\"}),\" IssueAttributes \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    issue_id \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"BIGINT\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"UNSIGNED\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"NOT\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"NULL\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    attr_name \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"VARCHAR\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"100\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"NOT\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"NULL\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    attr_value \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"VARCHAR\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"100\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"PRIMARY\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"issue_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" attr_name\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FOREIGN\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"issue_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"REFERENCES\"}),\" Issues\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"issue_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"INSERT\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"INTO\"}),\" IssueAttributes \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"issue_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" attr_name\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" attr_value\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"VALUES\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1234\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'product'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'1'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1234\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'date_reported'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'2009-06-01'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1234\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'status'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'NEW'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1234\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'description'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'Saving does not work'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1234\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'reported_by'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'Bill'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1234\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'version_affected'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'1.0'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1234\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'severity'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'loss of functionality'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1234\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'priority'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'high'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"Bugs\\uC640 FeatureRequest \\uD14C\\uC774\\uBE14\\uC774 \\uACF5\\uD1B5\\uC801\\uC778 \\uCEEC\\uB7FC\\uC744 \\uAC16\\uACE0 \\uC788\\uC744 \\uB54C \\uC774 \\uD14C\\uC774\\uBE14\\uC744 Issues \\uB77C\\uACE0 \\uC774\\uB984\\uBD99\\uC778\\uB2E4.\"}),(0,e.jsx)(n.p,{children:\"Issues \\uD14C\\uC774\\uBE14\\uC5D0\\uB294 PK\\uC778 Issue_id \\uCEEC\\uB7FC\\uB9CC \\uC874\\uC7AC\\uD558\\uBA70 \\uB098\\uBA38\\uC9C0 \\uCEEC\\uB7FC\\uB4E4\\uC740 IssueAttributes \\uB77C\\uB294 \\uD14C\\uC774\\uBE14\\uC744 \\uB9CC\\uB4E4\\uACE0 \\uC774 \\uD14C\\uC774\\uBE14 \\uCEEC\\uB7FC\\uC744 issue_id, attr_name, attr_value \\uB85C \\uAD6C\\uC131\\uD558\\uC5EC \\uD544\\uC694\\uD55C \\uCEEC\\uB7FC\\uBA85\\uC744 attr_name\\uC5D0 \\uADF8 \\uAC12\\uC744 attr_value\\uB85C \\uC0AC\\uC6A9\\uD558\\uB294 \\uBC29\\uBC95\\uC774\\uB2E4.\"}),(0,e.jsxs)(n.p,{children:[\"\\uC774\\uB7F0 \\uBC29\\uBC95\\uC740 \\uB2E8\\uC21C\\uD558\\uACE0 \\uBA87\\uAC00\\uC9C0 \\uC7A5\\uC810\\uC774 \\uC788\\uC9C0\\uB9CC, \\uB354 \\uB9CE\\uC740 \\uC5EC\\uB7EC\\uAC00\\uC9C0 \",(0,e.jsx)(n.strong,{children:\"\\uB2E8\\uC810\"}),\"\\uC744 \\uAC00\\uC9C4\\uB2E4.\"]}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.strong,{children:\"\\uB370\\uC774\\uD130 \\uC815\\uD569\\uC131\\uC744 \\uD574\\uCE5C\\uB2E4.\"})}),(0,e.jsxs)(n.ul,{children:[(0,e.jsx)(n.li,{children:(0,e.jsx)(n.p,{children:\"NOT NULL \\uAC19\\uC740 \\uC81C\\uC57D\\uC870\\uAC74 \\uC0AC\\uC6A9 \\uBD88\\uAC00\"})}),(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.p,{children:\"\\uB370\\uC774\\uD130 \\uD0C0\\uC785 \\uC0AC\\uC6A9 \\uBD88\\uAC00\"}),(0,e.jsx)(n.ul,{children:(0,e.jsx)(n.li,{children:\"\\uC77C\\uBC18\\uC801\\uC73C\\uB85C \\uBAA8\\uB4E0 \\uD0C0\\uC785\\uC744 \\uC9C0\\uC6D0\\uD558\\uAE30 \\uC704\\uD574 attr_value \\uD0C0\\uC785\\uC5D0 \\uBB38\\uC790\\uC5F4\\uC744 \\uC0AC\\uC6A9\\uD558\\uBBC0\\uB85C \\uB0A0\\uC9DC \\uAC12\\uC774 \\uC798\\uBABB\\uB41C \\uACBD\\uC6B0\\uC5D0 \\uC720\\uD6A8\\uAC12 \\uAC80\\uC99D\\uC744 \\uD560 \\uC218 \\uC5C6\\uB2E4.\"})})]}),(0,e.jsx)(n.li,{children:(0,e.jsx)(n.p,{children:\"FK \\uC0AC\\uC6A9 \\uBD88\\uAC00\\uD558\\uBBC0\\uB85C \\uC785\\uB825\\uB418\\uB294 \\uAC12\\uC758 \\uBC94\\uC704\\uB97C \\uC81C\\uD55C\\uD560 \\uC218 \\uC5C6\\uB2E4.\"})}),(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.p,{children:\"\\uC18D\\uC131 \\uC774\\uB984 \\uC81C\\uD55C \\uBD88\\uAC00\"}),(0,e.jsxs)(n.ul,{children:[(0,e.jsx)(n.li,{children:\"\\uC774\\uB984\\uC758 \\uAC12\\uC744 \\uC720\\uB3D9\\uC801\\uC73C\\uB85C \\uC815\\uD560 \\uC218 \\uC788\\uC5B4\\uC11C \\uD55C \\uAC00\\uC9C0 \\uC758\\uBBF8\\uC758 \\uB370\\uC774\\uD130\\uAC00 \\uC5EC\\uB7EC\\uAC00\\uC9C0 attr_name\\uC744 \\uAC00\\uC9C8 \\uC218 \\uC788\\uB2E4(date_reported, report_date)\"}),(0,e.jsx)(n.li,{children:\"\\uC774\\uB7F0 \\uC810\\uC740 \\uC0AC\\uC6A9\\uC790\\uB97C \\uD63C\\uB780\\uC2A4\\uB7FD\\uAC8C \\uB9CC\\uB4E4\\uC218 \\uC788\\uB2E4\"})]})]})]}),(0,e.jsx)(n.p,{children:\"\\uD589\\uC744 \\uC77C\\uBC18\\uC801\\uC778 \\uD14C\\uC774\\uBE14\\uC5D0\\uC11C SELECT \\uD55C \\uAC83\\uCC98\\uB7FC \\uBCF4\\uC774\\uAC8C \\uC7AC\\uAD6C\\uC131\\uD560\\uB54C\\uB3C4 \\uAC01 \\uD544\\uC694\\uD55C attr_name \\uAC2F\\uC218\\uB9CC\\uD07C LEFT OUTER JOIN\\uC744 \\uD544\\uC694\\uB85C \\uD558\\uAE30 \\uB54C\\uBB38\\uC5D0 \\uBE44\\uC6A9\\uC774 \\uB9CE\\uC774 \\uB4E0\\uB2E4.\"}),(0,e.jsx)(n.p,{children:\"\\uCC45\\uC5D0\\uC11C\\uB294 \\uC774\\uB7F0 \\uBC29\\uBC95\\uC744 \\uC0AC\\uC6A9\\uD558\\uB824\\uBA74 RDBMS\\uAC00 \\uC544\\uB2CC DB\\uB97C \\uC0AC\\uC6A9\\uD558\\uB77C\\uACE0 \\uC870\\uC5B8\\uD558\\uACE0 \\uC788\\uC73C\\uBA70 \\uADF8 \\uACBD\\uC6B0\\uB85C\\uB294 Berkeley DB, \\uCE74\\uC0B0\\uB4DC\\uB77C , Couch DB , \\uD558\\uB461, \\uBABD\\uACE0\\uB514\\uBE44, Redis \\uB4F1\\uC744 \\uC18C\\uAC1C\\uD574\\uC8FC\\uACE0 \\uC788\\uB2E4.\"}),(0,e.jsxs)(n.p,{children:[\"\\uC774 \\uD14C\\uC774\\uBE14\\uC744 \\uC0AC\\uC6A9\\uD558\\uB294 \\uBAA9\\uD45C\\uB294 \",(0,e.jsx)(n.strong,{children:'\"\\uAC00\\uBCC0 \\uC18D\\uC131 \\uC9C0\\uC6D0\"'}),\" \\uC774\\uBA70 \\uCDA9\\uC871\\uD558\\uBA74\\uC11C EAV\\uB97C \\uC0AC\\uC6A9\\uD558\\uC9C0 \\uC54A\\uB294 \\uB300\\uC548\\uC73C\\uB85C\\uB294 \\uB2E4\\uC74C\\uACFC \\uAC19\\uC740 \\uBC29\\uBC95\\uC774 \\uC788\\uB2E4.\"]}),(0,e.jsxs)(n.h4,{id:\"\\uD574\\uBC951-\\uC11C\\uBE0C\\uD0C0\\uC785-\\uBAA8\\uB378\\uB9C1\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",href:\"#\\uD574\\uBC951-\\uC11C\\uBE0C\\uD0C0\\uC785-\\uBAA8\\uB378\\uB9C1\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\uD574\\uBC951 \\uC11C\\uBE0C\\uD0C0\\uC785 \\uBAA8\\uB378\\uB9C1\"]}),(0,e.jsx)(n.p,{children:\"\\uC544\\uB798 \\uBC29\\uBC95\\uB4E4\\uC740 \\uC5EC\\uB7EC\\uAC00\\uC9C0 \\uC11C\\uBE0C\\uD0C0\\uC785 \\uBAA8\\uB378\\uB9C1 \\uBC29\\uBC95\\uB4E4\\uC774\\uB2E4.\"}),(0,e.jsxs)(n.ul,{children:[(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.p,{children:\"\\uB2E8\\uC77C \\uD14C\\uC774\\uBE14 \\uC0C1\\uC18D\"}),(0,e.jsxs)(n.ol,{children:[(0,e.jsx)(n.li,{children:\"\\uB450 \\uC11C\\uBE0C\\uD0C0\\uC785(Bugs, FeatureRequest) \\uC758 \\uBAA8\\uB4E0 \\uC18D\\uC131\\uC744 \\uB2F4\\uC744 \\uC218 \\uC788\\uB294 \\uACF5\\uD1B5\\uD14C\\uC774\\uBE14 Issues\\uB97C \\uB9CC\\uB4E0\\uB2E4.\"}),(0,e.jsx)(n.li,{children:\"\\uC774 \\uD14C\\uC774\\uBE14\\uC5D0\\uB294 \\uB450 \\uD14C\\uC774\\uBE14\\uC5D0\\uC11C \\uD544\\uC694\\uD55C \\uBAA8\\uB4E0 \\uCEEC\\uB7FC\\uC774 \\uC120\\uC5B8\\uB418\\uC5B4 \\uB370\\uC774\\uD130\\uAC00 insert \\uB41C\\uB2E4.\"}),(0,e.jsx)(n.li,{children:\"\\uC5B4\\uB5A4 row\\uAC00 \\uB450 \\uD14C\\uC774\\uBE14 \\uC911 \\uC5B4\\uB5A4 \\uD14C\\uC774\\uBE14\\uC5D0 \\uC18D\\uD55C\\uAC83\\uC778\\uC9C0\\uB97C \\uD45C\\uC2DC\\uD55C\\uB294 issue_type \\uCEEC\\uB7FC\\uC774 \\uC874\\uC7AC\\uD55C\\uB2E4.(BUG \\uB610\\uB294 FEATURE \\uB77C\\uB294 \\uAC12\\uC73C\\uB85C \\uAD6C\\uBD84)\"}),(0,e.jsx)(n.li,{children:\"\\uADF8 \\uC678\\uC5D0 \\uCEEC\\uB7FC\\uC5D0\\uB294 \\uACF5\\uD1B5\\uC801\\uC73C\\uB85C \\uC0AC\\uC6A9\\uD558\\uB294 \\uCEEC\\uB7FC\\uB4E4\\uACFC \\uAC01 \\uD14C\\uC774\\uBE14\\uC5D0\\uC11C\\uB9CC \\uC0AC\\uC6A9\\uD558\\uB294 \\uCEEC\\uB7FC\\uB4E4\\uB3C4 \\uC874\\uC7AC\\uD55C\\uB2E4.\"})]})]}),(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.p,{children:\"\\uAD6C\\uCCB4 \\uD14C\\uC774\\uBE14 \\uC0C1\\uC18D\"}),(0,e.jsx)(n.ul,{children:(0,e.jsx)(n.li,{children:\"\\uAC00\\uC7A5 \\uB2E8\\uC21C\\uD558\\uAC8C \\uB450 \\uC11C\\uBE0C\\uD0C0\\uC785\\uBCC4\\uB85C \\uD14C\\uC774\\uBE14\\uC744 \\uB9CC\\uB4DC\\uB294 \\uAC83\\uC774\\uB2E4. \\uACF5\\uD1B5 \\uC18D\\uC131\\uB3C4 \\uAC01\\uC790 \\uAC16\\uACE0 \\uC788\\uC73C\\uBA70 \\uAC01 \\uD14C\\uC774\\uBE14\\uC5D0\\uC11C\\uB9CC \\uC0AC\\uC6A9\\uD558\\uB294 \\uCEEC\\uB7FC\\uC740 \\uAC01\\uAC01 \\uAC16\\uACE0 \\uC788\\uB2E4.\"})})]}),(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.p,{children:\"\\uD074\\uB798\\uC2A4 \\uD14C\\uC774\\uBE14 \\uC0C1\\uC18D\"}),(0,e.jsxs)(n.ol,{children:[(0,e.jsx)(n.li,{children:\"\\uC11C\\uBE0C\\uD0C0\\uC785\\uC5D0\\uC11C \\uACF5\\uD1B5\\uC801\\uC778 \\uC18D\\uC131\\uC744 Issues \\uD14C\\uC774\\uBE14\\uC5D0 \\uC120\\uC5B8\\uD558\\uACE0 \\uAC01 \\uC11C\\uBE0C\\uD0C0\\uC785\\uBCC4 \\uCEEC\\uB7FC\\uB4E4\\uC740 \\uAC01\\uC790\\uC758 \\uD14C\\uC774\\uBE14\\uC5D0 \\uC720\\uC9C0\\uD55C\\uB2E4.\"}),(0,e.jsx)(n.li,{children:\"Issues \\uD14C\\uC774\\uBE14\\uACFC Bugs, FeatureRequests \\uD14C\\uC774\\uBE14\\uC740 issue_id\\uB85C FK\\uB85C \\uC5F0\\uACB0\\uD558\\uC5EC \\uC77C\\uB300\\uC77C \\uAD00\\uACC4\\uB97C \\uAC15\\uC81C\\uD55C\\uB2E4.\"})]})]}),(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.p,{children:\"Semistructured Data\"}),(0,e.jsxs)(n.ol,{children:[(0,e.jsx)(n.li,{children:\"\\uC11C\\uBE0C\\uD0C0\\uC785\\uC758 \\uC218\\uAC00 \\uB9CE\\uC744 \\uACBD\\uC6B0 JSON\\uAC19\\uC740 \\uD615\\uC2DD\\uC73C\\uB85C \\uCF54\\uB529\\uD558\\uC5EC TEXT \\uB610\\uB294 CLOB \\uCEEC\\uB7FC\\uC73C\\uB85C \\uC800\\uC7A5\\uD55C\\uB2E4.\"}),(0,e.jsx)(n.li,{children:\"\\uACF5\\uD1B5\\uC801\\uC778 \\uC18D\\uC131\\uC744 \\uADF8\\uB300\\uB85C Issues \\uD14C\\uC774\\uBE14\\uC5D0 \\uCEEC\\uB7FC\\uC73C\\uB85C \\uC815\\uC758\\uD558\\uC5EC\"}),(0,e.jsx)(n.li,{children:\"\\uC11C\\uBE0C\\uD0C0\\uC785\\uBCC4 \\uCEEC\\uB7FC\\uC744 attribute \\uCEEC\\uB7FC( TEXT, CLOB ) \\uD0C0\\uC785\\uC73C\\uB85C \\uC815\\uC758\\uD574 JSON \\uAC19\\uC740 \\uD615\\uC2DD\\uC73C\\uB85C \\uC800\\uC7A5\\uD558\\uB294 \\uD615\\uD0DC\\uC774\\uB2E4.\"}),(0,e.jsx)(n.li,{children:\"\\uC5B4\\uB5A4 row\\uAC00 \\uB450 \\uD14C\\uC774\\uBE14 \\uC911 \\uC5B4\\uB5A4 \\uD14C\\uC774\\uBE14\\uC5D0 \\uC18D\\uD55C\\uAC83\\uC778\\uC9C0\\uB97C \\uD45C\\uC2DC\\uD55C\\uB294 issue_type \\uCEEC\\uB7FC\\uC774 \\uC874\\uC7AC\\uD55C\\uB2E4.(BUG \\uB610\\uB294 FEATURE \\uB77C\\uB294 \\uAC12\\uC73C\\uB85C \\uAD6C\\uBD84)\"})]})]})]}),(0,e.jsx)(n.hr,{}),(0,e.jsxs)(n.h3,{id:\"-5\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",href:\"#-5\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),(0,e.jsx)(c.PatternTitleHeader,{patternNo:\"| \\uD328\\uD134 6 |\",titleText:\"\\uB2E4\\uD615\\uC131 \\uC5F0\\uAD00 Polymorphic Associations\"})]}),(0,e.jsx)(n.p,{children:\"\\uC774 \\uD328\\uD134\\uC740 \\uD558\\uB098\\uC758 \\uD14C\\uC774\\uBE14\\uC774 \\uC5EC\\uB7EC \\uD615\\uD0DC\\uB85C \\uCC38\\uC870\\uB418\\uB294 Polymorphic Associations \\uAD00\\uACC4\\uB97C \\uB2E4\\uB8EC\\uB2E4.\"}),(0,e.jsx)(n.p,{children:\"\\uC608\\uC81C\\uC758 Comments \\uD14C\\uC774\\uBE14\\uC740 \\uCD5C\\uCD08\\uC5D4 \\uC544\\uB798\\uC640 \\uAC19\\uC774 Bugs \\uD14C\\uC774\\uBE14\\uACFC many-to-one \\uAD00\\uACC4\\uC600\\uB2E4.\"}),(0,e.jsx)(\"div\",{className:\"remark-code-title\",children:\"first comments table\"}),(0,e.jsx)(n.pre,{className:\"language-sql\",children:(0,e.jsxs)(n.code,{className:\"language-sql code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"CREATE\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"TABLE\"}),\" Comments \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    comment_id \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"SERIAL\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"PRIMARY\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line highlight-line\",children:[\"    bug_id \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"BIGINT\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"UNSIGNED\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"NOT\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"NULL\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line highlight-line\",children:[\"    author_id \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"BIGINT\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"UNSIGNED\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"NOT\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"NULL\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    comment_date \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"DATETIME\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"NOT\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"NULL\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"comment\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"TEXT\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"NOT\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"NULL\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FOREIGN\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"author_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"REFERENCES\"}),\" Accounts\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"account_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line highlight-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FOREIGN\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"bug_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"REFERENCES\"}),\" Bugs\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"bug_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"\\uC774\\uD6C4 FeatureRequests \\uD14C\\uC774\\uBE14\\uB3C4 Comment\\uAC00 \\uD544\\uC694\\uC838 \\uC774 Comments \\uD14C\\uC774\\uBE14\\uC744 Bugs \\uC640 FeatureRequests \\uC5D0\\uC11C \\uACF5\\uC720\\uD558\\uB294 \\uD615\\uD0DC\\uB85C \\uBCC0\\uACBD\\uD558\\uAE30\\uB85C \\uD55C\\uB2E4.\"}),(0,e.jsxs)(n.p,{children:[\"\\uC774\\uB7F0 \\uACBD\\uC6B0\\uB97C \\uD574\\uACB0\\uD558\\uAE30 \\uC704\\uD574 \\uD754\\uD788 \\uC0AC\\uC6A9\\uB418\\uB294 \\uC548\\uD2F0\\uD328\\uD134\\uC740 \",(0,e.jsx)(n.strong,{children:\"Dual-Purpose-FK\"}),\" \\uC774\\uB77C\\uACE0 \\uBD80\\uB974\\uBA70 \\uAD6C\\uD604\\uC740 \\uB2E4\\uC74C\\uACFC \\uAC19\\uB2E4.\"]}),(0,e.jsxs)(n.ol,{children:[(0,e.jsx)(n.li,{children:'\\uB450 \\uD14C\\uC774\\uBE14 \\uC911 \\uC5B4\\uB5A4 \\uD14C\\uC774\\uBE14\\uC758 comment\\uC778\\uC9C0 \\uAD6C\\uBD84\\uD558\\uAE30 \\uC704\\uD574 issue_type \\uCEEC\\uB7FC\\uC744 \\uCD94\\uAC00\\uD55C\\uB2E4. \\uC785\\uB825\\uB420 \\uC218 \\uC788\\uB294 \\uAC12\\uC740 \"Bugs\" \\uB610\\uB294 \"FeatureRequests\" \\uC774\\uB2E4.'}),(0,e.jsx)(n.li,{children:\"bugs \\uC804\\uC6A9 Comments \\uD14C\\uC774\\uBE14 \\uC77C\\uB54C \\uC0AC\\uC6A9\\uD55C fk\\uC778 bug_id \\uB300\\uC2E0 \\uB450 \\uD14C\\uC774\\uBE14\\uC758 id\\uC640 \\uC5F0\\uACB0\\uB418\\uB294 issue_id\\uB97C \\uC0AC\\uC6A9\\uD55C\\uB2E4. ( \\uB450 \\uD14C\\uC774\\uBE14\\uC5D0 fk\\uB97C \\uAC15\\uC81C\\uD560 \\uC218 \\uC5C6\\uC73C\\uBBC0\\uB85C)\"})]}),(0,e.jsx)(\"div\",{className:\"remark-code-title\",children:\"ANTIPATTERN-dual purpose FK\"}),(0,e.jsx)(n.pre,{className:\"language-sql\",children:(0,e.jsxs)(n.code,{className:\"language-sql code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"CREATE\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"TABLE\"}),\" Comments \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    comment_id \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"SERIAL\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"PRIMARY\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line highlight-line\",children:[\"    issue_type \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"VARCHAR\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"20\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:'-- \"Bugs\" or \"FeatureRequests\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line highlight-line\",children:[\"    issue_id \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"BIGINT\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"UNSIGNED\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"NOT\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"NULL\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    author \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"BIGINT\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"UNSIGNED\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"NOT\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"NULL\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    comment_date \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"DATETIME\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"comment\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"TEXT\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FOREIGN\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"author\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"REFERENCES\"}),\" Accounts\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"account_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"\\uC774\\uB807\\uAC8C \\uD558\\uBA74 comment \\uD14C\\uC774\\uBE14\\uC744 \\uB450 \\uD14C\\uC774\\uBE14\\uC5D0\\uC11C \\uACF5\\uC720\\uD560 \\uC218 \\uC788\\uB2E4.\"}),(0,e.jsx)(n.p,{children:\"\\uADF8\\uB7EC\\uB098 \\uB2E8\\uC810\\uC740\"}),(0,e.jsxs)(n.ol,{children:[(0,e.jsx)(n.li,{children:\"FK\\uAC00 \\uAC15\\uC81C\\uB418\\uC9C0 \\uC54A\\uC73C\\uBBC0\\uB85C \\uB370\\uC774\\uD130 \\uC815\\uD569\\uC131\\uC744 \\uBCF4\\uC7A5\\uD560 \\uC218 \\uC5C6\\uC73C\\uBA70\"}),(0,e.jsx)(n.li,{children:\"issue_type\\uC758 \\uBB38\\uC790\\uC5F4\\uC774 \\uC5B4\\uB5A4 \\uD14C\\uC774\\uBE14\\uC5D0 \\uB300\\uC751\\uB418\\uB294\\uC9C0\\uB97C \\uD655\\uC778\\uD558\\uB294 \\uBA54\\uD0C0\\uB370\\uC774\\uD130\\uB3C4 \\uC5C6\\uB2E4.\"})]}),(0,e.jsx)(n.p,{children:\"\\uADF8\\uB798\\uC11C \\uC774\\uB7F0 \\uD615\\uD0DC\\uB294 \\uC548\\uD2F0\\uD328\\uD134\\uC73C\\uB85C \\uAC04\\uC8FC\\uB41C\\uB2E4.\"}),(0,e.jsxs)(n.p,{children:[\"\\uCCAB\\uBC88\\uC9F8 \\uD574\\uACB0\\uBC29\\uBC95\\uC740 \",(0,e.jsx)(n.strong,{children:\"Intersection Table\"}),\" \\uBC29\\uBC95\\uC73C\\uB85C \\uACF5\\uD1B5 Comment \\uD14C\\uC774\\uBE14\\uACFC \\uAC01 \\uC790\\uC2DD \\uD14C\\uC774\\uBE14\\uB9C8\\uB2E4 \\uB2E4\\uB300\\uB2E4 \\uD574\\uC18C table\\uC744 \\uB9CC\\uB4E4\\uC5B4 \\uC5F0\\uACB0\\uD574\\uC8FC\\uB294 \\uAC83\\uC774\\uB2E4.\"]}),(0,e.jsx)(\"div\",{className:\"text-center\",children:(0,e.jsx)(t,{alt:\"title\",src:\"/static/images/sql_antipattern/polymorphic_asso.png\",className:\"object-cover object-center md:h-36 lg:h-48\",width:\"600vh\",height:\"500vh\"})}),(0,e.jsx)(\"div\",{className:\"remark-code-title\",children:\"SOLUTION1 create intersection table\"}),(0,e.jsx)(n.pre,{className:\"language-sql\",children:(0,e.jsxs)(n.code,{className:\"language-sql code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"CREATE\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"TABLE\"}),\" BugsComments \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    issue_id \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"BIGINT\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"UNSIGNED\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"NOT\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"NULL\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    comment_id \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"BIGINT\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"UNSIGNED\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"NOT\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"NULL\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"PRIMARY\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"issue_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" comment_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FOREIGN\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"issue_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"REFERENCES\"}),\" Bugs\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"issue_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FOREIGN\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"comment_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"REFERENCES\"}),\" Comments\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"comment_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"CREATE\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"TABLE\"}),\" FeaturesComments \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    issue_id \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"BIGINT\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"UNSIGNED\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"NOT\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"NULL\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    comment_id \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"BIGINT\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"UNSIGNED\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"NOT\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"NULL\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"PRIMARY\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"issue_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" comment_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FOREIGN\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"issue_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"REFERENCES\"}),\" FeatureRequests\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"issue_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FOREIGN\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"comment_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"REFERENCES\"}),\" Comments\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"comment_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"\\uC774 \\uBC29\\uBC95\\uC740 \\uC7A0\\uC7AC\\uC801 \\uB2E8\\uC810\\uC774 \\uC788\\uB2E4.\"}),(0,e.jsx)(n.p,{children:\"intersection table \\uB54C\\uBB38\\uC5D0 comment\\uAC00 \\uC5EC\\uB7EC bugs\\uB098 feature request \\uC5F0\\uACB0\\uB420 \\uC218 \\uC788\\uB2E4\\uB294 \\uAC83\\uC774\\uB2E4.\"}),(0,e.jsx)(n.p,{children:\"\\uC774\\uAC83\\uC744 \\uBC29\\uC9C0\\uD558\\uB824\\uBA74 \\uAC01 \\uD14C\\uC774\\uBE14\\uC5D0 \\uC544\\uB798\\uC640 \\uAC19\\uC774 comment_id \\uCEEC\\uB7FC\\uC5D0 UNIQUE constraint \\uB97C \\uC801\\uC6A9\\uD574\\uC57C \\uC77C\\uBD80\\uB77C\\uB3C4 \\uC81C\\uD55C\\uD560 \\uC218 \\uC788\\uB2E4.\"}),(0,e.jsx)(\"div\",{className:\"remark-code-title\",children:\"SOLUTION1 1 add unique constraint on commentId\"}),(0,e.jsx)(n.pre,{className:\"language-sql\",children:(0,e.jsxs)(n.code,{className:\"language-sql code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"CREATE\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"TABLE\"}),\" BugsComments \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    issue_id \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"BIGINT\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"UNSIGNED\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"NOT\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"NULL\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    comment_id \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"BIGINT\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"UNSIGNED\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"NOT\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"NULL\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line highlight-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"UNIQUE\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"comment_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"PRIMARY\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"issue_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" comment_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FOREIGN\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"issue_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"REFERENCES\"}),\" Bugs\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"issue_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FOREIGN\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"comment_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"REFERENCES\"}),\" Comments\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"comment_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,e.jsx)(\"br\",{}),(0,e.jsxs)(n.p,{children:[\"\\uB450\\uBC88\\uC9F8 \\uD574\\uACB0\\uBC29\\uBC95\\uC740 \",(0,e.jsx)(n.strong,{children:\"Common-Super-Table\"}),\" \\uBC29\\uBC95\\uC774\\uB2E4.\"]}),(0,e.jsx)(n.p,{children:\"Bugs\\uC640 FeatureRequests\\uAC00 \\uC5F0\\uACB0\\uB41C comment\\uB97C issue \\uB77C\\uB294 \\uC774\\uB984\\uC73C\\uB85C \\uCD94\\uC0C1\\uD654\\uD55C \\uC5D4\\uD2F0\\uD2F0\\uB97C Issue\\uB97C \\uACF5\\uD1B5 \\uC0C1\\uC704 \\uD14C\\uC774\\uBE14\\uB85C \\uC5F0\\uACB0\\uD558\\uB294 \\uBC29\\uBC95\\uC774\\uB2E4.\"}),(0,e.jsx)(n.p,{children:\"Bugs, FeatureRequests\\uB294 one-to-one \\uC73C\\uB85C \\uC5F0\\uACB0\\uB418\\uACE0, Comment\\uB294 many-to-one \\uC73C\\uB85C \\uC5F0\\uACB0\\uB41C\\uB2E4.\"}),(0,e.jsx)(\"div\",{className:\"text-center\",children:(0,e.jsx)(t,{alt:\"title\",src:\"/static/images/sql_antipattern/polymorphic_asso_common_super_table.png\",className:\"object-cover object-center md:h-36 lg:h-48\",width:\"620vh\",height:\"500vh\"})}),(0,e.jsx)(\"div\",{className:\"remark-code-title\",children:\"SOLUTION2 create Common-Super-Table\"}),(0,e.jsx)(n.pre,{className:\"language-sql\",children:(0,e.jsxs)(n.code,{className:\"language-sql code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"CREATE\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"TABLE\"}),\" Issues \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line highlight-line\",children:[\"    issue_id \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"SERIAL\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"PRIMARY\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"CREATE\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"TABLE\"}),\" Bugs \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line highlight-line\",children:[\"    issue_id \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"BIGINT\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"UNSIGNED\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"PRIMARY\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FOREIGN\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"issue_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"REFERENCES\"}),\" Issues\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"issue_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"CREATE\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"TABLE\"}),\" FeatureRequests \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line highlight-line\",children:[\"    issue_id \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"BIGINT\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"UNSIGNED\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"PRIMARY\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FOREIGN\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"issue_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"REFERENCES\"}),\" Issues\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"issue_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"CREATE\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"TABLE\"}),\" Comments \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    comment_id \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"SERIAL\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"PRIMARY\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line highlight-line\",children:[\"    issue_id \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"BIGINT\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"UNSIGNED\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"NOT\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"NULL\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    author \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"BIGINT\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"UNSIGNED\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"NOT\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"NULL\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    comment_date \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"DATETIME\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"comment\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"TEXT\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FOREIGN\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"issue_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"REFERENCES\"}),\" Issues\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"issue_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FOREIGN\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"author\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"REFERENCES\"}),\" Accounts\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"account_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"4\\uAC1C\\uC758 \\uD14C\\uC774\\uBE14\\uC740 Issues \\uD14C\\uC774\\uBE14\\uC5D0 serial \\uB85C \\uC790\\uB3D9 \\uC785\\uB825\\uB41C issue_id\\uB77C\\uB294 \\uD0A4\\uB97C \\uAE30\\uC900\\uC73C\\uB85C fk\\uB85C \\uC5F0\\uACB0\\uB41C\\uB2E4.\"}),(0,e.jsx)(n.p,{children:\"\\uC790\\uC5F0\\uC2A4\\uB7FD\\uAC8C dual_purpose_FK \\uBC29\\uBC95\\uC5D0\\uC11C \\uC0AC\\uC6A9\\uD558\\uB358 issue_type \\uC5F4\\uC740 \\uC0AC\\uC6A9\\uD558\\uC9C0 \\uC54A\\uAC8C \\uB41C\\uB2E4.\"}),(0,e.jsx)(n.p,{children:\"\\uC544\\uB798\\uB294 comment_id\\uB85C \\uAC80\\uC0C9\\uD558\\uB294 \\uCFFC\\uB9AC\\uB85C intersection_table\\uC5D0\\uC11C\\uC758 fk\\uC5F0\\uACB0 \\uC5C6\\uC774\\uB3C4 \\uC880\\uB354 \\uAC04\\uACB0\\uD55C \\uCFFC\\uB9AC\\uB85C \\uB370\\uC774\\uD130\\uB97C \\uAC00\\uC838\\uC62C \\uC218 \\uC788\\uB2E4.\"}),(0,e.jsx)(\"div\",{className:\"remark-code-title\",children:\"SOLUTION2 super join\"}),(0,e.jsx)(n.pre,{className:\"language-sql\",children:(0,e.jsxs)(n.code,{className:\"language-sql code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"SELECT\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FROM\"}),\" Comments \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"AS\"}),` c\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"LEFT\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"OUTER\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"JOIN\"}),\" Bugs \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"AS\"}),\" b \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"USING\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"issue_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"LEFT\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"OUTER\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"JOIN\"}),\" FeatureRequests \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"AS\"}),\" f \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"USING\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"issue_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"WHERE\"}),\" c\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"comment_id \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"9876\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"\\uC544\\uB798\\uB294 bugs \\uD14C\\uC774\\uBE14\\uC758 PK(issue_id)\\uB85C \\uC5F0\\uACB0\\uB41C \\uBAA8\\uB4E0 comment\\uB97C \\uAC80\\uC0C9\\uD558\\uB294 \\uCFFC\\uB9AC\\uC774\\uB2E4.\"}),(0,e.jsx)(\"div\",{className:\"remark-code-title\",children:\"SOLUTION2 super join\"}),(0,e.jsx)(n.pre,{className:\"language-sql\",children:(0,e.jsxs)(n.code,{className:\"language-sql code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"SELECT\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FROM\"}),\" Bugs \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"AS\"}),` b\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"JOIN\"}),\" Comments \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"AS\"}),\" c \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"USING\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"issue_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"WHERE\"}),\" b\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"issue_id \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1234\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,e.jsxs)(n.p,{children:[\"\\uACB0\\uACFC\\uC801\\uC73C\\uB85C \",(0,e.jsx)(n.strong,{children:\"Intersection Table\"}),\" \\uBC29\\uBC95\\uBCF4\\uB2E8 \",(0,e.jsx)(n.strong,{children:\"Common-Super-Table\"}),\" \\uC774 \\uC880 \\uB354 \\uAE54\\uB054\\uD558\\uAC8C \\uC0AC\\uC6A9\\uD560 \\uC218 \\uC788\\uB2E4.\"]}),(0,e.jsx)(n.hr,{}),(0,e.jsxs)(n.h3,{id:\"-6\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",href:\"#-6\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),(0,e.jsx)(c.PatternTitleHeader,{patternNo:\"| \\uD328\\uD134 7 |\",titleText:\"\\uB2E4\\uC911 \\uCEEC\\uB7FC \\uC18D\\uC131 Multicolumn Attributes\"})]}),(0,e.jsx)(\"div\",{className:\"remark-code-title\",children:\"multicolumn attribute\"}),(0,e.jsx)(n.pre,{className:\"language-sql\",children:(0,e.jsxs)(n.code,{className:\"language-sql code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"CREATE\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"TABLE\"}),\" Bugs \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    bug_id \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"SERIAL\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"PRIMARY\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    description \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"VARCHAR\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1000\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    tag1 \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"VARCHAR\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"20\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    tag2 \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"VARCHAR\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"20\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    tag3 \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"VARCHAR\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"20\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"1\\uAC1C \\uD14C\\uC774\\uBE14\\uC5D0\\uC11C \\uB3D9\\uC77C\\uD55C \\uC774\\uB984\\uC758 \\uCEEC\\uB7FC\\uC5D0 \\uC22B\\uC790\\uB9CC \\uBD99\\uC5EC\\uC11C \\uCEEC\\uB7FC\\uC744 \\uC99D\\uAC00\\uC2DC\\uD0A4\\uB294 \\uACBD\\uC6B0 \\uD574\\uB2F9 \\uCEEC\\uB7FC\\uC5D0 \\uC77C\\uB300\\uB2E4 \\uAD00\\uACC4\\uB97C \\uAC00\\uC9C0\\uB294 \\uC885\\uC18D \\uD14C\\uC774\\uBE14\\uC744 \\uB9CC\\uB4E4\\uC5B4 \\uC0AC\\uC6A9\\uD558\\uB294 \\uAC83\\uC774 \\uC0C1\\uC2DD\\uC774\\uB2E4.\"}),(0,e.jsx)(\"div\",{className:\"remark-code-title\",children:\"tag table\"}),(0,e.jsx)(n.pre,{className:\"language-sql\",children:(0,e.jsxs)(n.code,{className:\"language-sql code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"CREATE\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"TABLE\"}),\" Tags \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    bug_id \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"BIGINT\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"UNSIGNED\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"NOT\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"NULL\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    tag \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"VARCHAR\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"20\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"PRIMARY\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"bug_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" tag\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FOREIGN\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"bug_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"REFERENCES\"}),\" Bugs\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"bug_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,e.jsx)(n.hr,{}),(0,e.jsxs)(n.h3,{id:\"-7\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",href:\"#-7\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),(0,e.jsx)(c.PatternTitleHeader,{patternNo:\"| \\uD328\\uD134 8 |\",titleText:\"\\uBA54\\uD0C0\\uB370\\uC774\\uD130 \\uD2B8\\uB9AC\\uBE14 Metadata Tribble\"})]}),(0,e.jsxs)(\"span\",{style:{fontSize:\"0.5em\"},children:[\" \",(0,e.jsxs)(n.p,{children:[\"(\",(0,e.jsx)(n.code,{children:\"tribble\"}),\"\\uC740 star trek\\uC5D0 \\uB4F1\\uC7A5\\uD558\\uB294 \\uBC88\\uC2DD\\uB825\\uC774 \\uC88B\\uC740 \\uC0DD\\uBB3C\\uC744 \\uC758\\uBBF8\\uD558\\uB294 \\uAC83\\uC73C\\uB85C \\uBCF4\\uC774\\uBA70, \\uBA54\\uD0C0\\uB370\\uC774\\uD0C0\\uAC00 \\uB298\\uC5B4\\uB098\\uB294 \\uD328\\uD134\\uC744 \\uBE44\\uC720\\uD55C \\uAC83 \\uAC19\\uB2E4. )\"]})]}),(0,e.jsx)(n.p,{children:\"\\uC544\\uB798\\uC640 \\uAC19\\uC774 \\uD14C\\uC774\\uBE14\\uC5D0\\uC11C \\uC2DC\\uAC04\\uC774 \\uC9C0\\uB0A8\\uC5D0 \\uB530\\uB77C \\uD2B9\\uC815 \\uCEEC\\uB7FC\\uC774 \\uC5F0\\uB3C4\\uBCC4\\uB85C \\uD544\\uC694\\uD560 \\uB54C \\uB9CC\\uB4DC\\uB294 \\uACBD\\uC6B0\\uB294 \\uC548\\uD2F0\\uD328\\uD134\\uC774\\uB2E4.\"}),(0,e.jsx)(\"div\",{className:\"remark-code-title\",children:\"ANTIPATTERN make revenue column per year\"}),(0,e.jsx)(n.pre,{className:\"language-sql\",children:(0,e.jsxs)(n.code,{className:\"language-sql code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"CREATE\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"TABLE\"}),\" Customers \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    customer_id NUMBER\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"9\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"PRIMARY\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    contact_info \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"VARCHAR\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"255\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    business_type \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"VARCHAR\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"20\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    revenue NUMBER\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"9\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"2\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"ALTER\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"TABLE\"}),\" Customers \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"ADD\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"revenue2002 NUMBER\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"9\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"2\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"ALTER\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"TABLE\"}),\" Customers \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"ADD\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"revenue2003 NUMBER\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"9\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"2\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"ALTER\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"TABLE\"}),\" Customers \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"ADD\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"revenue2004 NUMBER\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"9\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"2\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"\\uB610\\uB2E4\\uB978 \\uC548\\uD2F0\\uD328\\uD134\\uC740 \\uC774\\uB807\\uAC8C \\uC5F0\\uB3C4\\uBCC4 \\uD14C\\uC774\\uBE14\\uB85C \\uBD84\\uB9AC\\uD558\\uB294 \\uAC83\\uC774\\uB2E4.\"}),(0,e.jsx)(\"div\",{className:\"remark-code-title\",children:\"ANTIPATTERN clone table\"}),(0,e.jsx)(n.pre,{className:\"language-sql\",children:(0,e.jsxs)(n.code,{className:\"language-sql code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"CREATE\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"TABLE\"}),\" Bugs_2008 \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"CREATE\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"TABLE\"}),\" Bugs_2009 \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"CREATE\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"TABLE\"}),\" Bugs_2010 \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,e.jsx)(\"br\",{}),(0,e.jsx)(n.p,{children:\"\\uD574\\uACB0\\uBC29\\uBC951 - \\uC218\\uD3C9 \\uD30C\\uD2F0\\uC154\\uB2DD\"}),(0,e.jsx)(\"div\",{className:\"remark-code-title\",children:\"SOLUTION1 horizontal partitioning\"}),(0,e.jsx)(n.pre,{className:\"language-sql\",children:(0,e.jsxs)(n.code,{className:\"language-sql code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"CREATE\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"TABLE\"}),\" Bugs \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    bug_id \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"SERIAL\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"PRIMARY\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"-- ...other columns\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    date_reported \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"DATE\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"PARTITION\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"BY\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"HASH\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"YEAR\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"date_reported\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"PARTITIONS \",(0,e.jsx)(n.span,{className:\"token number\",children:\"4\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"table\\uC744 row \\uB2E8\\uC704\\uB85C \\uBD84\\uD560\\uD55C\\uB2E4.\"}),(0,e.jsx)(\"br\",{}),(0,e.jsx)(n.p,{children:\"\\uD574\\uACB0\\uBC29\\uBC952 - \\uC218\\uC9C1 \\uD30C\\uD2F0\\uC154\\uB2DD\"}),(0,e.jsx)(\"div\",{className:\"remark-code-title\",children:\"SOLUTION2 vertical partitioning\"}),(0,e.jsx)(n.pre,{className:\"language-sql\",children:(0,e.jsxs)(n.code,{className:\"language-sql code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"CREATE\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"TABLE\"}),\" ProductInstallers \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    product_id \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"BIGINT\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"UNSIGNED\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"PRIMARY\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    installer_image \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"BLOB\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"FOREIGN\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"KEY\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"product_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"REFERENCES\"}),\" Products\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"product_id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"\\uC218\\uC9C1 \\uD30C\\uD2F0\\uC154\\uB2DD\\uC740 \\uB2E8\\uC21C\\uD558\\uAC8C \\uBCF4\\uBA74 \\uD14C\\uC774\\uBE14\\uC5D0\\uC11C column\\uB2E8\\uC704\\uB85C \\uD14C\\uC774\\uBE14\\uC744 \\uBD84\\uB9AC\\uD558\\uB294 \\uAC83\\uC774\\uB2E4.\"}),(0,e.jsx)(n.p,{children:\"\\uD574\\uACB0\\uBC29\\uBC952 \\uC5D0\\uC11C \\uBCF4\\uC5EC\\uC8FC\\uB294 ProductInstallers \\uD14C\\uC774\\uBE14\\uC758 installer_image \\uCEEC\\uB7FC\\uC740 \\uC81C\\uD488\\uC758 \\uC124\\uCE58 \\uD30C\\uC77C\\uC758 BLOB \\uB370\\uC774\\uD130\\uC774\\uBA70 .exe, .dmg \\uD30C\\uC77C \\uB4F1 \\uB9E4\\uC6B0 \\uD070 \\uD30C\\uC77C\\uC774\\uB2E4.\"}),(0,e.jsx)(n.p,{children:\"\\uB17C\\uB9AC\\uC801\\uC73C\\uB85C installer_image BLOB column\\uC740 Product \\uD14C\\uC774\\uBE14\\uC5D0 \\uC18D\\uD574\\uC57C \\uD558\\uC9C0\\uB9CC \\uC774 \\uC608\\uC81C\\uC5D0\\uC11C\\uB294 \\uB2E4\\uC74C\\uACFC \\uAC19\\uC740 \\uC774\\uC720\\uB85C \\uC218\\uC9C1 \\uD30C\\uD2F0\\uC154\\uB2DD \\uB300\\uC0C1 \\uCEEC\\uB7FC\\uC73C\\uB85C \\uC801\\uC808\\uD558\\uB2E4\\uACE0 \\uD310\\uB2E8\\uD55C\\uB2E4.\"}),(0,e.jsxs)(n.ol,{children:[(0,e.jsx)(n.li,{children:\"BLOB \\uCEEC\\uB7FC\\uC740 \\uD06C\\uAE30\\uAC00 \\uB9E4\\uC6B0 \\uD074 \\uC218 \\uC788\\uB2E4.\"}),(0,e.jsx)(n.li,{children:\"\\uC5C5\\uBB34\\uC0C1 \\uB300\\uBD80\\uBD84\\uC758 \\uCFFC\\uB9AC\\uAC00 \\uD574\\uB2F9 \\uCEEC\\uB7FC\\uC744 \\uAC80\\uC0C9\\uD558\\uC9C0 \\uC54A\\uB294\\uB2E4.\"}),(0,e.jsxs)(n.li,{children:[\"\\uC774\\uB7F0 \\uACBD\\uC6B0 Product \\uD14C\\uC774\\uBE14\\uC744 \",(0,e.jsx)(n.code,{children:\"SELECT *\"}),\" \\uD560 \\uACBD\\uC6B0 \\uC131\\uB2A5 \\uBB38\\uC81C\\uAC00 \\uBC1C\\uC0DD\\uD560 \\uC18C\\uC9C0\\uAC00 \\uC788\\uB2E4.\"]})]}),(0,e.jsx)(n.p,{children:\"\\uB610\\uD55C product_id\\uB97C FK\\uB85C \\uC5F0\\uACB0\\uD574\\uC8FC\\uC5B4 \\uD544\\uC694\\uD560 \\uB584 join\\uC774 \\uAC00\\uB2A5\\uD558\\uB3C4\\uB85D \\uB9CC\\uB4E0\\uB2E4.\"}),(0,e.jsx)(n.p,{children:\"\\uB9CE\\uC740 DBMS\\uC5D0\\uC11C\\uB294 \\uC800\\uC7A5 \\uBC0F \\uAC80\\uC0C9\\uC758 \\uD6A8\\uC728\\uC131\\uC744 \\uC704\\uD574 BLOB \\uBC0F TEXT \\uAC19\\uC740 \\uB300\\uC6A9\\uB7C9 \\uCEEC\\uB7FC\\uC740 \\uB2E4\\uB978 \\uC5F4\\uACFC \\uBCC4\\uB3C4\\uB85C \\uC800\\uC7A5\\uD558\\uBBC0\\uB85C \\uD14C\\uC774\\uBE14\\uC740 \\uC774\\uB7EC\\uD55C \\uC885\\uB958\\uC758 \\uC5F4 \\uC5C6\\uC774 \\uAC80\\uC0C9\\uD558\\uBA74 \\uD6A8\\uC728\\uC801\\uC73C\\uB85C \\uC811\\uADFC\\uC774 \\uAC00\\uB2A5\\uD558\\uB2E4.\"}),(0,e.jsx)(n.hr,{})]})}}var I=T;function o(a,s){throw new Error(\"Expected \"+(s?\"component\":\"object\")+\" `\"+a+\"` to be defined: you likely forgot to import, pass, or provide it.\")}return b;})();\n;return Component;","toc":[{"value":"Example Database","url":"#example-database","depth":2},{"value":"Part I - Logical Database Design Antipatterns","url":"#part-i---logical-database-design-antipatterns","depth":1},{"value":"","url":"#","depth":3},{"value":"","url":"#","depth":3},{"value":"","url":"#","depth":3},{"value":"","url":"#","depth":3},{"value":"","url":"#","depth":3},{"value":"해법1 서브타입 모델링","url":"#해법1-서브타입-모델링","depth":4},{"value":"","url":"#","depth":3},{"value":"","url":"#","depth":3},{"value":"","url":"#","depth":3}],"frontMatter":{"readingTime":{"text":"24 min read","minutes":23.305,"time":1398300,"words":4661},"slug":"sql-antipatterns-1","fileName":"sql-antipatterns-1.mdx","title":"SQL Anti Patterns Part 1","date":"2019-03-31T09:32:14.000Z","lastmod":"2019-03-31","tags":["sql","anti-pattern"],"draft":false,"summary":"","layout":"PostSimple","bibliography":"references-data.bib","canonicalUrl":"https://demian9k.github.io/blog/sql-antipatterns-1/"}},"authorDetails":[{"readingTime":{"text":"1 min read","minutes":0.155,"time":9300,"words":31},"slug":["default"],"fileName":"default.md","name":"demian11k","avatar":"/static/images/avatar.png","email":"demian11k@gmail.com","github":"https://github.com/demian9k","date":null}],"prev":{"title":"친절한 SQL 튜닝 정리 - 5","date":"2019-03-24T21:05:00.000Z","lastmod":"2019-03-24","tags":["sql","tuning","oracle"],"draft":false,"summary":"","layout":"PostSimple","canonicalUrl":"https://demian9k.github.io/blog/friendly-SQL-tuning-5/","slug":"friendly-SQL-tuning-5"},"next":{"title":"SQL Anti Patterns Part 2, 3, 4","date":"2019-03-31T10:33:14.000Z","lastmod":"2019-03-31","tags":["sql","anti-pattern"],"draft":false,"summary":"","layout":"PostSimple","bibliography":"references-data.bib","canonicalUrl":"https://demian9k.github.io/blog/sql-antipatterns-2/","slug":"sql-antipatterns-2"}},"__N_SSG":true},"page":"/blog/[...slug]","query":{"slug":["sql-antipatterns-1"]},"buildId":"R1cpZtUWE2mFLIblfb-kJ","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>