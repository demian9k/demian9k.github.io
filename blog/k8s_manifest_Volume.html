<!DOCTYPE html><html lang="en" class="scroll-smooth"><head><meta charSet="utf-8"/><script>!function(){try {var d=document.documentElement.classList;d.remove('light','dark');var e=localStorage.getItem('theme');if("system"===e||(!e&&true)){var t="(prefers-color-scheme: dark)",m=window.matchMedia(t);m.media!==t||m.matches?d.add('dark'):d.add('light')}else if(e) d.add(e)}catch(e){}}()</script><meta content="width=device-width, initial-scale=1" name="viewport"/><title>K8S manifest - Volume</title><meta name="robots" content="follow, index"/><meta name="description" content=""/><meta property="og:url" content="https://demian9k.github.io/blog/k8s_manifest_Volume"/><meta property="og:type" content="article"/><meta property="og:site_name" content="demian11k"/><meta property="og:description" content=""/><meta property="og:title" content="K8S manifest - Volume"/><meta property="og:image" content="https://demian9k.github.io/static/images/twitter-card.png"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site"/><meta name="twitter:title" content="K8S manifest - Volume"/><meta name="twitter:description" content=""/><meta name="twitter:image" content="https://demian9k.github.io/static/images/twitter-card.png"/><link rel="canonical" href="https://demian9k.github.io/blog/k8s_manifest_Volume"/><meta property="article:published_time" content="2023-06-01T03:03:00.000Z"/><meta property="article:modified_time" content="2023-06-01T00:00:00.000Z"/><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "Article",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://demian9k.github.io/blog/k8s_manifest_Volume"
  },
  "headline": "K8S manifest - Volume",
  "image": [
    {
      "@type": "ImageObject",
      "url": "https://demian9k.github.io/static/images/twitter-card.png"
    }
  ],
  "datePublished": "2023-06-01T03:03:00.000Z",
  "dateModified": "2023-06-01T00:00:00.000Z",
  "author": {
    "@type": "Person",
    "name": "demian11k"
  },
  "publisher": {
    "@type": "Organization",
    "name": "demian11k",
    "logo": {
      "@type": "ImageObject",
      "url": "https://demian9k.github.io/static/images/logo.png"
    }
  },
  "description": ""
}</script><meta name="next-head-count" content="21"/><link rel="apple-touch-icon" sizes="76x76" href="/static/favicons/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/static/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/static/favicons/favicon-16x16.png"/><link rel="manifest" href="/static/favicons/site.webmanifest"/><link rel="mask-icon" href="/static/favicons/safari-pinned-tab.svg" color="#5bbad5"/><meta name="msapplication-TileColor" content="#000000"/><meta name="theme-color" media="(prefers-color-scheme: light)" content="#fff"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#000"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><link rel="preload" href="/_next/static/css/94ea37d977b78d30.css" as="style"/><link rel="stylesheet" href="/_next/static/css/94ea37d977b78d30.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-781a92acf59ed6b5.js" defer=""></script><script src="/_next/static/chunks/main-bfc1a3b6dd286443.js" defer=""></script><script src="/_next/static/chunks/pages/_app-e22266d47111418b.js" defer=""></script><script src="/_next/static/chunks/140-77b8ab5a870d524b.js" defer=""></script><script src="/_next/static/chunks/574-40cb695d6b511631.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5B...slug%5D-48fd063b43fdbe6a.js" defer=""></script><script src="/_next/static/otfPwKwSsy3CYkkcjSJd6/_buildManifest.js" defer=""></script><script src="/_next/static/otfPwKwSsy3CYkkcjSJd6/_ssgManifest.js" defer=""></script><script src="/_next/static/otfPwKwSsy3CYkkcjSJd6/_middlewareManifest.js" defer=""></script></head><body class="bg-white text-black antialiased dark:bg-gray-900 dark:text-white"><div id="__next" data-reactroot=""><div class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><div class="flex h-screen flex-col justify-between"><header class="flex items-center justify-between py-10"><div><a aria-label="demian11k" href="/"><div class="flex items-center justify-between"><div class="mr-3"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%2740%27%20height=%2740%27/%3e"/></span><img alt="A" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="rounded-full object-cover object-center md:h-36 lg:h-48" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="A" srcSet="/_next/static/media/demian_avatar_logo.73bd1e6e.png?imwidth=48 1x, /_next/static/media/demian_avatar_logo.73bd1e6e.png?imwidth=96 2x" src="/_next/static/media/demian_avatar_logo.73bd1e6e.png?imwidth=96" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="rounded-full object-cover object-center md:h-36 lg:h-48" loading="lazy"/></noscript></span></div><div class="hidden h-6 text-2xl font-semibold leading-4 sm:block">demian11k</div></div></a></div><div class="flex items-center text-base leading-5"><div class="hidden sm:block"><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/blog">Blog</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/tags">Tags</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/projects">Projects</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/about">About</a></div><button aria-label="Toggle Dark Mode" type="button" class="ml-1 mr-1 h-8 w-8 rounded p-1 sm:ml-4"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg></button><div class="sm:hidden"><button type="button" class="ml-1 mr-1 h-8 w-8 rounded py-1" aria-label="Toggle Menu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg></button><div class="fixed top-0 left-0 z-10 h-full w-full transform bg-gray-200 opacity-95 duration-300 ease-in-out dark:bg-gray-800 translate-x-full"><div class="flex justify-end"><button type="button" class="mr-5 mt-11 h-8 w-8 rounded" aria-label="Toggle Menu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><nav class="fixed mt-8 h-full"><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/blog">Blog</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/tags">Tags</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/projects">Projects</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/about">About</a></div></nav></div></div></div></header><main class="mb-auto"><div class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><div class="fixed right-8 bottom-8 hidden flex-col gap-3 md:hidden"><button aria-label="Scroll To Top" type="button" class="rounded-full bg-gray-200 p-2 text-gray-500 transition-all hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-400 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><article><div><header><div class="space-y-1 border-b border-gray-200 pb-10 text-center dark:border-gray-700"><dl><div><dt class="sr-only">Published on</dt><dd class="text-base font-medium leading-6 text-gray-500 dark:text-gray-400"><time dateTime="2023-06-01T03:03:00.000Z">June 1, 2023</time></dd></div></dl><div><h1 class="text-3xl font-extrabold leading-9 tracking-tight text-gray-900 dark:text-gray-100 sm:text-4xl sm:leading-10 md:text-5xl md:leading-14">K8S manifest - Volume</h1></div></div></header><div class="divide-y divide-gray-200 pb-8 dark:divide-gray-700 xl:divide-y-0 " style="grid-template-rows:auto 1fr"><div class="divide-y divide-gray-200 dark:divide-gray-700 xl:col-span-3 xl:row-span-2 xl:pb-0"><div class="prose max-w-none pt-10 pb-8 dark:prose-dark"><h1 id="volume"><a href="#volume" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Volume</h1><p>볼륨은 이미 설치되어 운영되고 있는 저장 장치를 Pod 내부에서 직접 선언하여 사용한다.</p><h3 id="볼륨과-pv는-차이점"><a href="#볼륨과-pv는-차이점" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>볼륨과 PV는 차이점</h3><ul><li><p>볼륨은 컨테이너와 스토리지를 분리(decouple)한다.</p></li><li><p>볼륨의 lifecycle은 하나의 pod에 결합되어 있으며, 이것은 안전한 컨테이너 재시작과 하나의 파드 내 컨테이너들의 데이터 공유를 가능하게 한다.</p></li><li><p>PV는 Pod에서 Storage를 분리(decouple)한다.</p></li><li><p>PV의 lifecycle은 독립적(independent)이며, 이것은 안전한 pod 재시작과 pod사이 데이터 공유를 가능하게 한다.</p></li></ul><h4 id="볼륨은-플러그인으로서-pod에-연결되며-다음과-같은-종류가-있다"><a href="#볼륨은-플러그인으로서-pod에-연결되며-다음과-같은-종류가-있다" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>볼륨은 플러그인으로서 Pod에 연결되며 다음과 같은 종류가 있다.</h4><ul><li>emptyDir</li><li>hostPath</li><li>downwardAPI</li><li>projected</li><li>nfs</li><li>iscsi</li><li>cephfs</li></ul><h3 id="emptydir"><a href="#emptydir" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>emptyDir</h3><p>파드용 임시 디스크 영역이다. 파드가 종료되면 삭제된다. 호스트의 임의 영역을 마운트할 수 없고 호스트에 있는 파일을 참조할 수 없다.</p><div class="relative"><pre><code class="language-yaml code-highlight"><span class="code-line">kubectl apply <span class="token punctuation">-</span>f <span class="token punctuation">-</span> &lt;&lt;EOF
</span><span class="code-line">
</span><span class="code-line"><span class="token atrule key">apiVersion</span><span class="token punctuation">:</span> v1
</span><span class="code-line"><span class="token atrule key">kind</span><span class="token punctuation">:</span> Pod
</span><span class="code-line"><span class="token atrule key">metadata</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">name</span><span class="token punctuation">:</span> sample<span class="token punctuation">-</span>emptydir
</span><span class="code-line"><span class="token atrule key">spec</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">containers</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token punctuation">-</span> <span class="token atrule key">image</span><span class="token punctuation">:</span> nginx<span class="token punctuation">:</span><span class="token number">1.12</span>
</span><span class="code-line">    <span class="token atrule key">name</span><span class="token punctuation">:</span> nginx<span class="token punctuation">-</span>container
</span><span class="code-line">    <span class="token atrule key">volumeMounts</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token punctuation">-</span> <span class="token atrule key">mountPath</span><span class="token punctuation">:</span> /cache
</span><span class="code-line">      <span class="token atrule key">name</span><span class="token punctuation">:</span> cache<span class="token punctuation">-</span>volume
</span><span class="code-line">  <span class="token atrule key">volumes</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token punctuation">-</span> <span class="token atrule key">name</span><span class="token punctuation">:</span> cache<span class="token punctuation">-</span>volume
</span><span class="code-line">    <span class="token atrule key">emptyDir</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">EOF
</span></code></pre></div><p>할당된 emptyDir 볼륨을 확인하면 노드의 디스크 영역이 할당된 것을 알 수 있다.</p><div class="relative"><pre><code class="code-highlight language-bash"><span class="code-line">kubectl <span class="token builtin class-name">exec</span> -it sample-emptydir --df -h <span class="token function">grep</span> /cache
</span></code></pre></div><p>리소스를 제한한 volume 연결</p><div class="relative"><pre><code class="language-yaml code-highlight"><span class="code-line">kubectl apply <span class="token punctuation">-</span>f <span class="token punctuation">-</span> &lt;&lt;EOF
</span><span class="code-line">
</span><span class="code-line"><span class="token atrule key">apiVersion</span><span class="token punctuation">:</span> v1
</span><span class="code-line"><span class="token atrule key">kind</span><span class="token punctuation">:</span> Pod
</span><span class="code-line"><span class="token atrule key">metadata</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">name</span><span class="token punctuation">:</span> sample<span class="token punctuation">-</span>emptydir<span class="token punctuation">-</span>limit
</span><span class="code-line"><span class="token atrule key">spec</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">containers</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token punctuation">-</span> <span class="token atrule key">image</span><span class="token punctuation">:</span> nginx<span class="token punctuation">:</span><span class="token number">1.16</span>
</span><span class="code-line">    <span class="token atrule key">name</span><span class="token punctuation">:</span> nginx<span class="token punctuation">-</span>container
</span><span class="code-line">    <span class="token atrule key">volumeMounts</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token punctuation">-</span> <span class="token atrule key">mountPath</span><span class="token punctuation">:</span> /cache
</span><span class="code-line">      <span class="token atrule key">name</span><span class="token punctuation">:</span> cache<span class="token punctuation">-</span>volume
</span><span class="code-line">  <span class="token atrule key">volumes</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token punctuation">-</span> <span class="token atrule key">name</span><span class="token punctuation">:</span> cache<span class="token punctuation">-</span>volume
</span><span class="code-line">    <span class="token atrule key">emptyDir</span><span class="token punctuation">:</span>
</span><span class="code-line">      <span class="token atrule key">sizeLimit</span><span class="token punctuation">:</span> 128Mi
</span><span class="code-line">
</span><span class="code-line">EOF
</span></code></pre></div><div class="relative"><pre><code class="code-highlight language-bash"><span class="code-line"><span class="token comment">#별도 터미널에서 변화를 확인하기 위해 실행</span>
</span><span class="code-line">kubectl get pods --watch
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">#다른 터미널에서 실행</span>
</span><span class="code-line"><span class="token comment">#150MB 파일을 /cache/dummy에 생성</span>
</span><span class="code-line">kubectl <span class="token builtin class-name">exec</span> -it sample-emptydir-limit -- <span class="token function">dd</span> <span class="token assign-left variable">if</span><span class="token operator">=</span>/dev/zero <span class="token assign-left variable">of</span><span class="token operator">=</span>/cache/dummy <span class="token assign-left variable">bs</span><span class="token operator">=</span>1M <span class="token assign-left variable">count</span><span class="token operator">=</span><span class="token number">150</span>
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">#watch 결과 running -&gt; ContainerCreating -&gt; ContainerStatusUnknown</span>
</span><span class="code-line">sample-emptydir-limit               <span class="token number">1</span>/1     Running             <span class="token number">0</span>               2s
</span><span class="code-line">sample-emptydir-limit               <span class="token number">0</span>/1     ContainerCreating   <span class="token number">1</span>               3m5s
</span><span class="code-line">sample-emptydir-limit               <span class="token number">0</span>/1     ContainerStatusUnknown   <span class="token number">1</span>               3m5s
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line"><span class="token comment"># describe 해보면 용량 제한 초과로 evicted 된 것을 확인할 수 있다.</span>
</span><span class="code-line">$ kubectl describe pods sample-emptydir-limit
</span><span class="code-line">
</span><span class="code-line">Events:
</span><span class="code-line">  Type     Reason     Age    From               Message
</span><span class="code-line">  ----     ------     ----   ----               -------
</span><span class="code-line">  Normal   Scheduled  4m18s  default-scheduler  Successfully assigned default/sample-emptydir-limit to docker-desktop
</span><span class="code-line">  Normal   Pulled     4m17s  kubelet            Container image <span class="token string">&quot;nginx:1.16&quot;</span> already present on machine
</span><span class="code-line">  Normal   Created    4m17s  kubelet            Created container nginx-container
</span><span class="code-line">  Normal   Started    4m17s  kubelet            Started container nginx-container
</span><span class="code-line">  Warning  Evicted    75s    kubelet            Usage of EmptyDir volume <span class="token string">&quot;cache-volume&quot;</span> exceeds the limit <span class="token string">&quot;128Mi&quot;</span><span class="token builtin class-name">.</span>
</span><span class="code-line">  Normal   Killing    75s    kubelet            Stopping container nginx-container
</span></code></pre></div><h3 id="hostpath"><a href="#hostpath" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>hostPath</h3><p>k8s 노드상의 영역을 컨테이너에 매핑하는 플러그인 emptyDir과 다른 점은 임의 영역을 마운트 할 수 있기때문에 사용할 때 호스트의 어떤 영역을 사용할 지 지정해야 한다.</p><blockquote><p><strong>경고:</strong> HostPath 볼륨에는 많은 보안 위험이 있으며, 가능하면 HostPath를 사용하지 않는 것이 좋다. HostPath 볼륨을 사용해야 하는 경우, 필요한 파일 또는 디렉터리로만 범위를 지정하고 ReadOnly로 마운트해야 한다.</p></blockquote><div class="relative"><pre><code class="language-yaml code-highlight"><span class="code-line">kubectl apply <span class="token punctuation">-</span>f <span class="token punctuation">-</span> &lt;&lt;EOF
</span><span class="code-line">
</span><span class="code-line"><span class="token atrule key">apiVersion</span><span class="token punctuation">:</span> v1
</span><span class="code-line"><span class="token atrule key">kind</span><span class="token punctuation">:</span> Pod
</span><span class="code-line"><span class="token atrule key">metadata</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">name</span><span class="token punctuation">:</span> sample<span class="token punctuation">-</span>hostpath
</span><span class="code-line"><span class="token atrule key">spec</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">containers</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token punctuation">-</span> <span class="token atrule key">image</span><span class="token punctuation">:</span> nginx<span class="token punctuation">:</span><span class="token number">1.12</span>
</span><span class="code-line">    <span class="token atrule key">name</span><span class="token punctuation">:</span> nginx<span class="token punctuation">-</span>container
</span><span class="code-line">    <span class="token atrule key">volumeMounts</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token punctuation">-</span> <span class="token atrule key">mountPath</span><span class="token punctuation">:</span> /srv <span class="token comment">#이 컨테이너에서 hostpath-sample을 /srv라는 경로로 사용할 것임을 선언</span>
</span><span class="code-line">      <span class="token atrule key">name</span><span class="token punctuation">:</span> hostpath<span class="token punctuation">-</span>sample <span class="token comment">#container-volume mapping</span>
</span><span class="code-line">  <span class="token atrule key">volumes</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token punctuation">-</span> <span class="token atrule key">name</span><span class="token punctuation">:</span> hostpath<span class="token punctuation">-</span>sample
</span><span class="code-line">    <span class="token atrule key">hostPath</span><span class="token punctuation">:</span>
</span><span class="code-line">      <span class="token atrule key">path</span><span class="token punctuation">:</span> /etc <span class="token comment"># 호스트의 디렉터리 위치</span>
</span><span class="code-line">      <span class="token atrule key">type</span><span class="token punctuation">:</span> DirectoryOrCreate <span class="token comment"># 이 필드는 선택 사항이다</span>
</span><span class="code-line">
</span><span class="code-line">EOF
</span></code></pre></div><p>지정할 수 있는 hostPath type은 아래와 같다.</p><ul><li>Diretory</li><li>미리 디렉토리가 존재해야 하는 타입</li><li>DirectoryOrCreate</li><li>디렉터리가 존재하지 않을 경우 생성한다.</li><li>보안상 사용하지 않는 것이 권장된다.</li><li>File</li><li>지정된 경로에 파일이 존재해야 함</li><li>Socket</li><li>지정된 경로에 Unix 소켓이 있어야 함</li><li>BlockDevice</li><li>지정된 경로에 블록 장치가 있어야 함</li></ul><div class="relative"><pre><code class="code-highlight language-bash"><span class="code-line"><span class="token comment">#호스트 OS 이미지 확인</span>
</span><span class="code-line"><span class="token comment"># 에서 /etc 가 생성한 파드의 /srv에 마운트된 것을 확인</span>
</span><span class="code-line">demian@DESKTOP-K8O1SPU:~$ kubectl <span class="token builtin class-name">exec</span> -it sample-hostpath -- <span class="token function">cat</span> /srv/os-release <span class="token operator">|</span> <span class="token function">grep</span> PRETTY_NAME
</span><span class="code-line"><span class="token assign-left variable">PRETTY_NAME</span><span class="token operator">=</span><span class="token string">&quot;Debian GNU/Linux 9 (stretch)&quot;</span>
</span><span class="code-line"><span class="token comment"># 책에선 PRETTY_NAME=container optimized OS 으로 나온다.</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">#컨테이너 내부에서 OS 이미지 확인</span>
</span><span class="code-line">demian@DESKTOP-K8O1SPU:~$ kubectl <span class="token builtin class-name">exec</span> -it sample-hostpath -- <span class="token function">cat</span> /etc/os-release <span class="token operator">|</span> <span class="token function">grep</span> PRETTY_NAME
</span><span class="code-line"><span class="token assign-left variable">PRETTY_NAME</span><span class="token operator">=</span><span class="token string">&quot;Debian GNU/Linux 9 (stretch)&quot;</span>
</span></code></pre></div><h3 id="downwardapi"><a href="#downwardapi" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>downwardAPI</h3><p>실행중인 container가 내부에서 자신의 pod와 그 환경에 대해 알수 있게 하는 volume이다.</p><p>아래 설정에서는 items의 path들(podname, cpu-request) 이 /srv path로 expose 된다.</p><div class="relative"><pre><code class="language-yaml code-highlight"><span class="code-line">kubectl apply <span class="token punctuation">-</span>f <span class="token punctuation">-</span> &lt;&lt;EOF
</span><span class="code-line">
</span><span class="code-line"><span class="token atrule key">apiVersion</span><span class="token punctuation">:</span> v1
</span><span class="code-line"><span class="token atrule key">kind</span><span class="token punctuation">:</span> Pod
</span><span class="code-line"><span class="token atrule key">metadata</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">name</span><span class="token punctuation">:</span> sample<span class="token punctuation">-</span>downward<span class="token punctuation">-</span>api
</span><span class="code-line"><span class="token atrule key">spec</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">containers</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token punctuation">-</span> <span class="token atrule key">name</span><span class="token punctuation">:</span> nginx<span class="token punctuation">-</span>container
</span><span class="code-line">      <span class="token atrule key">image</span><span class="token punctuation">:</span> nginx<span class="token punctuation">:</span><span class="token number">1.12</span>
</span><span class="code-line">      <span class="token atrule key">volumeMounts</span><span class="token punctuation">:</span>
</span><span class="code-line">        <span class="token punctuation">-</span> <span class="token atrule key">name</span><span class="token punctuation">:</span> downward<span class="token punctuation">-</span>api<span class="token punctuation">-</span>volume
</span><span class="code-line">          <span class="token atrule key">mountPath</span><span class="token punctuation">:</span> /srv
</span><span class="code-line">  <span class="token atrule key">volumes</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token punctuation">-</span> <span class="token atrule key">name</span><span class="token punctuation">:</span> downward<span class="token punctuation">-</span>api<span class="token punctuation">-</span>volume
</span><span class="code-line">      <span class="token atrule key">downwardAPI</span><span class="token punctuation">:</span>
</span><span class="code-line">        <span class="token atrule key">items</span><span class="token punctuation">:</span>
</span><span class="code-line">          <span class="token punctuation">-</span> <span class="token atrule key">path</span><span class="token punctuation">:</span> <span class="token string">&quot;podname&quot;</span>
</span><span class="code-line">            <span class="token atrule key">fieldRef</span><span class="token punctuation">:</span>
</span><span class="code-line">              <span class="token atrule key">fieldPath</span><span class="token punctuation">:</span> metadata.name
</span><span class="code-line">          <span class="token punctuation">-</span> <span class="token atrule key">path</span><span class="token punctuation">:</span> <span class="token string">&quot;cpu-request&quot;</span>
</span><span class="code-line">            <span class="token atrule key">resourceFieldRef</span><span class="token punctuation">:</span>
</span><span class="code-line">              <span class="token atrule key">containerName</span><span class="token punctuation">:</span> nginx<span class="token punctuation">-</span>container
</span><span class="code-line">              <span class="token atrule key">resource</span><span class="token punctuation">:</span> requests.cpu
</span><span class="code-line">
</span><span class="code-line">EOF
</span></code></pre></div><p>metadata.name은 pod의 metadata.name이며, requests.cpu는 Pod에 속한 container인 nginx-container의 cpu 사용량을 매핑된다.</p><p>아래 명령어로 확인할 수 있다.</p><div class="relative"><pre><code class="code-highlight language-bash"><span class="code-line">kubectl <span class="token builtin class-name">exec</span> -it sample-downward-api -- <span class="token function">ls</span> -l /srv
</span><span class="code-line">lrwxrwxrwx <span class="token number">1</span> root root <span class="token number">18</span> May <span class="token number">31</span> 06:18 cpu-request -<span class="token operator">&gt;</span> <span class="token punctuation">..</span>data/cpu-request
</span><span class="code-line">lrwxrwxrwx <span class="token number">1</span> root root <span class="token number">14</span> May <span class="token number">31</span> 06:18 podname -<span class="token operator">&gt;</span> <span class="token punctuation">..</span>data/podnam
</span><span class="code-line">
</span><span class="code-line">kubectl <span class="token builtin class-name">exec</span> -it sample-downward-api -- <span class="token function">cat</span> /srv/podname
</span><span class="code-line">sample-downward-api
</span></code></pre></div><h3 id="projected"><a href="#projected" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>projected</h3><p>Secret,ConfigMap, downwardAPI, service Account Token의 볼륨 마운트를 하나의 디렉터리에 통합하는 플러그인이다.</p><div class="relative"><pre><code class="language-yaml code-highlight"><span class="code-line"><span class="token atrule key">apiVersion</span><span class="token punctuation">:</span> v1
</span><span class="code-line"><span class="token atrule key">kind</span><span class="token punctuation">:</span> Pod
</span><span class="code-line"><span class="token atrule key">metadata</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">name</span><span class="token punctuation">:</span> sample<span class="token punctuation">-</span>projected
</span><span class="code-line"><span class="token atrule key">spec</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">containers</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token punctuation">-</span> <span class="token atrule key">name</span><span class="token punctuation">:</span> nginx<span class="token punctuation">-</span>container
</span><span class="code-line">      <span class="token atrule key">image</span><span class="token punctuation">:</span> nginx<span class="token punctuation">:</span><span class="token number">1.12</span>
</span><span class="code-line">      <span class="token atrule key">volumeMounts</span><span class="token punctuation">:</span>
</span><span class="code-line">        <span class="token punctuation">-</span> <span class="token atrule key">name</span><span class="token punctuation">:</span> projected<span class="token punctuation">-</span>volume
</span><span class="code-line">          <span class="token atrule key">mountPath</span><span class="token punctuation">:</span> /srv
</span><span class="code-line">  <span class="token atrule key">volumes</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token punctuation">-</span> <span class="token atrule key">name</span><span class="token punctuation">:</span> projected<span class="token punctuation">-</span>volume
</span><span class="code-line">      <span class="token atrule key">projected</span><span class="token punctuation">:</span>
</span><span class="code-line">        <span class="token atrule key">sources</span><span class="token punctuation">:</span>
</span><span class="code-line">          <span class="token punctuation">-</span> <span class="token atrule key">secret</span><span class="token punctuation">:</span>
</span><span class="code-line">              <span class="token atrule key">name</span><span class="token punctuation">:</span> sample<span class="token punctuation">-</span>db<span class="token punctuation">-</span>auth
</span><span class="code-line">              <span class="token atrule key">items</span><span class="token punctuation">:</span>
</span><span class="code-line">                <span class="token punctuation">-</span> <span class="token atrule key">key</span><span class="token punctuation">:</span> username
</span><span class="code-line">                  <span class="token atrule key">path</span><span class="token punctuation">:</span> secret/username.txt
</span><span class="code-line">          <span class="token punctuation">-</span> <span class="token atrule key">configMap</span><span class="token punctuation">:</span>
</span><span class="code-line">              <span class="token atrule key">name</span><span class="token punctuation">:</span> sample<span class="token punctuation">-</span>configmap
</span><span class="code-line">              <span class="token atrule key">items</span><span class="token punctuation">:</span>
</span><span class="code-line">                <span class="token punctuation">-</span> <span class="token atrule key">key</span><span class="token punctuation">:</span> nginx.conf
</span><span class="code-line">                  <span class="token atrule key">path</span><span class="token punctuation">:</span> configmap/nginx.conf
</span><span class="code-line">          <span class="token punctuation">-</span> <span class="token atrule key">downwardAPI</span><span class="token punctuation">:</span>
</span><span class="code-line">              <span class="token atrule key">items</span><span class="token punctuation">:</span>
</span><span class="code-line">                <span class="token punctuation">-</span> <span class="token atrule key">path</span><span class="token punctuation">:</span> <span class="token string">&#x27;podname&#x27;</span>
</span><span class="code-line">                  <span class="token atrule key">fieldRef</span><span class="token punctuation">:</span>
</span><span class="code-line">                    <span class="token atrule key">fieldPath</span><span class="token punctuation">:</span> metadata.name
</span></code></pre></div><h3 id="nfs"><a href="#nfs" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>NFS</h3><p>AWS efs를 nfs 로 연결해서 사용하는 example</p><div class="relative"><pre><code class="language-yaml code-highlight"><span class="code-line"><span class="token atrule key">apiVersion</span><span class="token punctuation">:</span> apps/v1
</span><span class="code-line"><span class="token atrule key">kind</span><span class="token punctuation">:</span> Deployment
</span><span class="code-line"><span class="token atrule key">metadata</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">name</span><span class="token punctuation">:</span> nfs<span class="token punctuation">-</span>example
</span><span class="code-line"><span class="token atrule key">spec</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">replicas</span><span class="token punctuation">:</span> <span class="token number">2</span>
</span><span class="code-line">  <span class="token atrule key">selector</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token atrule key">matchLabels</span><span class="token punctuation">:</span>
</span><span class="code-line">      <span class="token atrule key">app</span><span class="token punctuation">:</span> nfs<span class="token punctuation">-</span>example
</span><span class="code-line">  <span class="token atrule key">template</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token atrule key">metadata</span><span class="token punctuation">:</span>
</span><span class="code-line">      <span class="token atrule key">labels</span><span class="token punctuation">:</span>
</span><span class="code-line">        <span class="token atrule key">app</span><span class="token punctuation">:</span> nfs<span class="token punctuation">-</span>example
</span><span class="code-line">    <span class="token atrule key">spec</span><span class="token punctuation">:</span>
</span><span class="code-line">      <span class="token atrule key">containers</span><span class="token punctuation">:</span>
</span><span class="code-line">        <span class="token punctuation">-</span> <span class="token atrule key">image</span><span class="token punctuation">:</span> nginx
</span><span class="code-line">          <span class="token atrule key">name</span><span class="token punctuation">:</span> nginx
</span><span class="code-line">          <span class="token atrule key">volumeMounts</span><span class="token punctuation">:</span>
</span><span class="code-line">            <span class="token punctuation">-</span> <span class="token atrule key">mountPath</span><span class="token punctuation">:</span> /nfs
</span><span class="code-line">              <span class="token atrule key">name</span><span class="token punctuation">:</span> efs<span class="token punctuation">-</span>vol
</span><span class="code-line">      <span class="token atrule key">volumes</span><span class="token punctuation">:</span>
</span><span class="code-line">        <span class="token punctuation">-</span> <span class="token atrule key">name</span><span class="token punctuation">:</span> efs<span class="token punctuation">-</span>vol
</span><span class="code-line">          <span class="token atrule key">nfs</span><span class="token punctuation">:</span>
</span><span class="code-line">            <span class="token comment"># 예제로 EFS를 사용했지만 일반적인 NFS 서버면 된다.</span>
</span><span class="code-line">            <span class="token atrule key">server</span><span class="token punctuation">:</span> fs<span class="token punctuation">-</span>f9352198.efs.ap<span class="token punctuation">-</span>northeast<span class="token punctuation">-</span>2.amazonaws.com
</span><span class="code-line">            <span class="token atrule key">path</span><span class="token punctuation">:</span> /
</span><span class="code-line">            <span class="token atrule key">readOnly</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
</span></code></pre></div></div></div><div id="comment"></div><footer><div class="flex flex-col text-sm font-medium sm:flex-row sm:justify-between sm:text-base"><div class="pt-4 xl:pt-8"><a class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/blog/prometheus_johoon">← <!-- -->prometheus johoon</a></div><div class="pt-4 xl:pt-8"><a class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/blog/k8s_manifest-PersistentVolume">K8S manifest - PersistentVolume<!-- --> →</a></div></div></footer></div></div></article></div></main><footer><div class="mt-16 flex flex-col items-center"><div class="mb-3 flex space-x-4"><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="mailto:demian11k@gmail.com"><span class="sr-only">mail</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="fill-current text-gray-700 hover:text-blue-500 dark:text-gray-200 dark:hover:text-blue-400 h-6 w-6"><path d="M2.003 5.884 10 9.882l7.997-3.998A2 2 0 0 0 16 4H4a2 2 0 0 0-1.997 1.884z"></path><path d="m18 8.118-8 4-8-4V14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8.118z"></path></svg></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://github.com/demian9k"><span class="sr-only">github</span><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="fill-current text-gray-700 hover:text-blue-500 dark:text-gray-200 dark:hover:text-blue-400 h-6 w-6"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></a></div><div class="mb-2 flex space-x-2 text-sm text-gray-500 dark:text-gray-400"><div>demian11k</div><div> • </div><div>© 2023</div><div> • </div><a href="/">demian11k</a></div></div></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"mdxSource":"var Component=(()=\u003e{var r=Object.create;var l=Object.defineProperty;var d=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var m=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty;var i=a=\u003el(a,\"__esModule\",{value:!0});var u=(a,s)=\u003e()=\u003e(s||a((s={exports:{}}).exports,s),s.exports),N=(a,s)=\u003e{i(a);for(var c in s)l(a,c,{get:s[c],enumerable:!0})},k=(a,s,c)=\u003e{if(s\u0026\u0026typeof s==\"object\"||typeof s==\"function\")for(let n of p(s))!h.call(a,n)\u0026\u0026n!==\"default\"\u0026\u0026l(a,n,{get:()=\u003es[n],enumerable:!(c=d(s,n))||c.enumerable});return a},y=a=\u003ek(i(l(a!=null?r(m(a)):{},\"default\",a\u0026\u0026a.__esModule\u0026\u0026\"default\"in a?{get:()=\u003ea.default,enumerable:!0}:{value:a,enumerable:!0})),a);var o=u((P,t)=\u003e{t.exports=_jsx_runtime});var x={};N(x,{default:()=\u003ef,frontmatter:()=\u003eg});var e=y(o()),g={title:\"K8S manifest - Volume\",date:new Date(168558858e4),lastmod:\"2023-06-01\",tags:[\"kubernetes\"],draft:!1,summary:\"\",layout:\"PostSimple\"};function b(a={}){let{wrapper:s}=a.components||{};return s?(0,e.jsx)(s,Object.assign({},a,{children:(0,e.jsx)(c,{})})):c();function c(){let n=Object.assign({h1:\"h1\",a:\"a\",span:\"span\",p:\"p\",h3:\"h3\",ul:\"ul\",li:\"li\",h4:\"h4\",pre:\"pre\",code:\"code\",blockquote:\"blockquote\",strong:\"strong\"},a.components);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(n.h1,{id:\"volume\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",href:\"#volume\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Volume\"]}),(0,e.jsx)(n.p,{children:\"\\uBCFC\\uB968\\uC740 \\uC774\\uBBF8 \\uC124\\uCE58\\uB418\\uC5B4 \\uC6B4\\uC601\\uB418\\uACE0 \\uC788\\uB294 \\uC800\\uC7A5 \\uC7A5\\uCE58\\uB97C Pod \\uB0B4\\uBD80\\uC5D0\\uC11C \\uC9C1\\uC811 \\uC120\\uC5B8\\uD558\\uC5EC \\uC0AC\\uC6A9\\uD55C\\uB2E4.\"}),(0,e.jsxs)(n.h3,{id:\"\\uBCFC\\uB968\\uACFC-pv\\uB294-\\uCC28\\uC774\\uC810\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",href:\"#\\uBCFC\\uB968\\uACFC-pv\\uB294-\\uCC28\\uC774\\uC810\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\uBCFC\\uB968\\uACFC PV\\uB294 \\uCC28\\uC774\\uC810\"]}),(0,e.jsxs)(n.ul,{children:[(0,e.jsx)(n.li,{children:(0,e.jsx)(n.p,{children:\"\\uBCFC\\uB968\\uC740 \\uCEE8\\uD14C\\uC774\\uB108\\uC640 \\uC2A4\\uD1A0\\uB9AC\\uC9C0\\uB97C \\uBD84\\uB9AC(decouple)\\uD55C\\uB2E4.\"})}),(0,e.jsx)(n.li,{children:(0,e.jsx)(n.p,{children:\"\\uBCFC\\uB968\\uC758 lifecycle\\uC740 \\uD558\\uB098\\uC758 pod\\uC5D0 \\uACB0\\uD569\\uB418\\uC5B4 \\uC788\\uC73C\\uBA70, \\uC774\\uAC83\\uC740 \\uC548\\uC804\\uD55C \\uCEE8\\uD14C\\uC774\\uB108 \\uC7AC\\uC2DC\\uC791\\uACFC \\uD558\\uB098\\uC758 \\uD30C\\uB4DC \\uB0B4 \\uCEE8\\uD14C\\uC774\\uB108\\uB4E4\\uC758 \\uB370\\uC774\\uD130 \\uACF5\\uC720\\uB97C \\uAC00\\uB2A5\\uD558\\uAC8C \\uD55C\\uB2E4.\"})}),(0,e.jsx)(n.li,{children:(0,e.jsx)(n.p,{children:\"PV\\uB294 Pod\\uC5D0\\uC11C Storage\\uB97C \\uBD84\\uB9AC(decouple)\\uD55C\\uB2E4.\"})}),(0,e.jsx)(n.li,{children:(0,e.jsx)(n.p,{children:\"PV\\uC758 lifecycle\\uC740 \\uB3C5\\uB9BD\\uC801(independent)\\uC774\\uBA70, \\uC774\\uAC83\\uC740 \\uC548\\uC804\\uD55C pod \\uC7AC\\uC2DC\\uC791\\uACFC pod\\uC0AC\\uC774 \\uB370\\uC774\\uD130 \\uACF5\\uC720\\uB97C \\uAC00\\uB2A5\\uD558\\uAC8C \\uD55C\\uB2E4.\"})})]}),(0,e.jsxs)(n.h4,{id:\"\\uBCFC\\uB968\\uC740-\\uD50C\\uB7EC\\uADF8\\uC778\\uC73C\\uB85C\\uC11C-pod\\uC5D0-\\uC5F0\\uACB0\\uB418\\uBA70-\\uB2E4\\uC74C\\uACFC-\\uAC19\\uC740-\\uC885\\uB958\\uAC00-\\uC788\\uB2E4\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",href:\"#\\uBCFC\\uB968\\uC740-\\uD50C\\uB7EC\\uADF8\\uC778\\uC73C\\uB85C\\uC11C-pod\\uC5D0-\\uC5F0\\uACB0\\uB418\\uBA70-\\uB2E4\\uC74C\\uACFC-\\uAC19\\uC740-\\uC885\\uB958\\uAC00-\\uC788\\uB2E4\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\uBCFC\\uB968\\uC740 \\uD50C\\uB7EC\\uADF8\\uC778\\uC73C\\uB85C\\uC11C Pod\\uC5D0 \\uC5F0\\uACB0\\uB418\\uBA70 \\uB2E4\\uC74C\\uACFC \\uAC19\\uC740 \\uC885\\uB958\\uAC00 \\uC788\\uB2E4.\"]}),(0,e.jsxs)(n.ul,{children:[(0,e.jsx)(n.li,{children:\"emptyDir\"}),(0,e.jsx)(n.li,{children:\"hostPath\"}),(0,e.jsx)(n.li,{children:\"downwardAPI\"}),(0,e.jsx)(n.li,{children:\"projected\"}),(0,e.jsx)(n.li,{children:\"nfs\"}),(0,e.jsx)(n.li,{children:\"iscsi\"}),(0,e.jsx)(n.li,{children:\"cephfs\"})]}),(0,e.jsxs)(n.h3,{id:\"emptydir\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",href:\"#emptydir\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"emptyDir\"]}),(0,e.jsx)(n.p,{children:\"\\uD30C\\uB4DC\\uC6A9 \\uC784\\uC2DC \\uB514\\uC2A4\\uD06C \\uC601\\uC5ED\\uC774\\uB2E4. \\uD30C\\uB4DC\\uAC00 \\uC885\\uB8CC\\uB418\\uBA74 \\uC0AD\\uC81C\\uB41C\\uB2E4. \\uD638\\uC2A4\\uD2B8\\uC758 \\uC784\\uC758 \\uC601\\uC5ED\\uC744 \\uB9C8\\uC6B4\\uD2B8\\uD560 \\uC218 \\uC5C6\\uACE0 \\uD638\\uC2A4\\uD2B8\\uC5D0 \\uC788\\uB294 \\uD30C\\uC77C\\uC744 \\uCC38\\uC870\\uD560 \\uC218 \\uC5C6\\uB2E4.\"}),(0,e.jsx)(n.pre,{className:\"language-yaml\",children:(0,e.jsxs)(n.code,{className:\"language-yaml code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"kubectl apply \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"f \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),` \u003c\u003cEOF\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"apiVersion\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` v1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"kind\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` Pod\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"metadata\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" sample\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`emptydir\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"spec\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"containers\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"image\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" nginx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1.12\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" nginx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`container\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"volumeMounts\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"mountPath\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` /cache\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" cache\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`volume\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"volumes\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" cache\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`volume\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"emptyDir\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`EOF\n`})]})}),(0,e.jsx)(n.p,{children:\"\\uD560\\uB2F9\\uB41C emptyDir \\uBCFC\\uB968\\uC744 \\uD655\\uC778\\uD558\\uBA74 \\uB178\\uB4DC\\uC758 \\uB514\\uC2A4\\uD06C \\uC601\\uC5ED\\uC774 \\uD560\\uB2F9\\uB41C \\uAC83\\uC744 \\uC54C \\uC218 \\uC788\\uB2E4.\"}),(0,e.jsx)(n.pre,{className:\"language-bash\",children:(0,e.jsx)(n.code,{className:\"code-highlight language-bash\",children:(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"kubectl \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\"exec\"}),\" -it sample-emptydir --df -h \",(0,e.jsx)(n.span,{className:\"token function\",children:\"grep\"}),` /cache\n`]})})}),(0,e.jsx)(n.p,{children:\"\\uB9AC\\uC18C\\uC2A4\\uB97C \\uC81C\\uD55C\\uD55C volume \\uC5F0\\uACB0\"}),(0,e.jsx)(n.pre,{className:\"language-yaml\",children:(0,e.jsxs)(n.code,{className:\"language-yaml code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"kubectl apply \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"f \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),` \u003c\u003cEOF\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"apiVersion\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` v1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"kind\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` Pod\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"metadata\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" sample\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"emptydir\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`limit\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"spec\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"containers\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"image\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" nginx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1.16\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" nginx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`container\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"volumeMounts\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"mountPath\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` /cache\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" cache\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`volume\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"volumes\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" cache\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`volume\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"emptyDir\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"sizeLimit\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` 128Mi\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`EOF\n`})]})}),(0,e.jsx)(n.pre,{className:\"language-bash\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-bash\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"#\\uBCC4\\uB3C4 \\uD130\\uBBF8\\uB110\\uC5D0\\uC11C \\uBCC0\\uD654\\uB97C \\uD655\\uC778\\uD558\\uAE30 \\uC704\\uD574 \\uC2E4\\uD589\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`kubectl get pods --watch\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"#\\uB2E4\\uB978 \\uD130\\uBBF8\\uB110\\uC5D0\\uC11C \\uC2E4\\uD589\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"#150MB \\uD30C\\uC77C\\uC744 /cache/dummy\\uC5D0 \\uC0DD\\uC131\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"kubectl \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\"exec\"}),\" -it sample-emptydir-limit -- \",(0,e.jsx)(n.span,{className:\"token function\",children:\"dd\"}),\" \",(0,e.jsx)(n.span,{className:\"token assign-left variable\",children:\"if\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\"/dev/zero \",(0,e.jsx)(n.span,{className:\"token assign-left variable\",children:\"of\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\"/cache/dummy \",(0,e.jsx)(n.span,{className:\"token assign-left variable\",children:\"bs\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\"1M \",(0,e.jsx)(n.span,{className:\"token assign-left variable\",children:\"count\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"150\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"#watch \\uACB0\\uACFC running -\u003e ContainerCreating -\u003e ContainerStatusUnknown\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"sample-emptydir-limit               \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),\"/1     Running             \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),`               2s\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"sample-emptydir-limit               \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),\"/1     ContainerCreating   \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),`               3m5s\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"sample-emptydir-limit               \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),\"/1     ContainerStatusUnknown   \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),`               3m5s\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# describe \\uD574\\uBCF4\\uBA74 \\uC6A9\\uB7C9 \\uC81C\\uD55C \\uCD08\\uACFC\\uB85C evicted \\uB41C \\uAC83\\uC744 \\uD655\\uC778\\uD560 \\uC218 \\uC788\\uB2E4.\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`$ kubectl describe pods sample-emptydir-limit\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`Events:\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`  Type     Reason     Age    From               Message\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`  ----     ------     ----   ----               -------\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`  Normal   Scheduled  4m18s  default-scheduler  Successfully assigned default/sample-emptydir-limit to docker-desktop\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  Normal   Pulled     4m17s  kubelet            Container image \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"nginx:1.16\"'}),` already present on machine\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`  Normal   Created    4m17s  kubelet            Created container nginx-container\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`  Normal   Started    4m17s  kubelet            Started container nginx-container\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  Warning  Evicted    75s    kubelet            Usage of EmptyDir volume \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"cache-volume\"'}),\" exceeds the limit \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"128Mi\"'}),(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\".\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`  Normal   Killing    75s    kubelet            Stopping container nginx-container\n`})]})}),(0,e.jsxs)(n.h3,{id:\"hostpath\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",href:\"#hostpath\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"hostPath\"]}),(0,e.jsx)(n.p,{children:\"k8s \\uB178\\uB4DC\\uC0C1\\uC758 \\uC601\\uC5ED\\uC744 \\uCEE8\\uD14C\\uC774\\uB108\\uC5D0 \\uB9E4\\uD551\\uD558\\uB294 \\uD50C\\uB7EC\\uADF8\\uC778 emptyDir\\uACFC \\uB2E4\\uB978 \\uC810\\uC740 \\uC784\\uC758 \\uC601\\uC5ED\\uC744 \\uB9C8\\uC6B4\\uD2B8 \\uD560 \\uC218 \\uC788\\uAE30\\uB54C\\uBB38\\uC5D0 \\uC0AC\\uC6A9\\uD560 \\uB54C \\uD638\\uC2A4\\uD2B8\\uC758 \\uC5B4\\uB5A4 \\uC601\\uC5ED\\uC744 \\uC0AC\\uC6A9\\uD560 \\uC9C0 \\uC9C0\\uC815\\uD574\\uC57C \\uD55C\\uB2E4.\"}),(0,e.jsx)(n.blockquote,{children:(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"\\uACBD\\uACE0:\"}),\" HostPath \\uBCFC\\uB968\\uC5D0\\uB294 \\uB9CE\\uC740 \\uBCF4\\uC548 \\uC704\\uD5D8\\uC774 \\uC788\\uC73C\\uBA70, \\uAC00\\uB2A5\\uD558\\uBA74 HostPath\\uB97C \\uC0AC\\uC6A9\\uD558\\uC9C0 \\uC54A\\uB294 \\uAC83\\uC774 \\uC88B\\uB2E4. HostPath \\uBCFC\\uB968\\uC744 \\uC0AC\\uC6A9\\uD574\\uC57C \\uD558\\uB294 \\uACBD\\uC6B0, \\uD544\\uC694\\uD55C \\uD30C\\uC77C \\uB610\\uB294 \\uB514\\uB809\\uD130\\uB9AC\\uB85C\\uB9CC \\uBC94\\uC704\\uB97C \\uC9C0\\uC815\\uD558\\uACE0 ReadOnly\\uB85C \\uB9C8\\uC6B4\\uD2B8\\uD574\\uC57C \\uD55C\\uB2E4.\"]})}),(0,e.jsx)(n.pre,{className:\"language-yaml\",children:(0,e.jsxs)(n.code,{className:\"language-yaml code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"kubectl apply \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"f \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),` \u003c\u003cEOF\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"apiVersion\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` v1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"kind\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` Pod\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"metadata\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" sample\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`hostpath\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"spec\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"containers\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"image\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" nginx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1.12\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" nginx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`container\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"volumeMounts\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"mountPath\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" /srv \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"#\\uC774 \\uCEE8\\uD14C\\uC774\\uB108\\uC5D0\\uC11C hostpath-sample\\uC744 /srv\\uB77C\\uB294 \\uACBD\\uB85C\\uB85C \\uC0AC\\uC6A9\\uD560 \\uAC83\\uC784\\uC744 \\uC120\\uC5B8\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" hostpath\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"sample \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"#container-volume mapping\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"volumes\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" hostpath\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`sample\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"hostPath\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"path\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" /etc \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# \\uD638\\uC2A4\\uD2B8\\uC758 \\uB514\\uB809\\uD130\\uB9AC \\uC704\\uCE58\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"type\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" DirectoryOrCreate \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# \\uC774 \\uD544\\uB4DC\\uB294 \\uC120\\uD0DD \\uC0AC\\uD56D\\uC774\\uB2E4\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`EOF\n`})]})}),(0,e.jsx)(n.p,{children:\"\\uC9C0\\uC815\\uD560 \\uC218 \\uC788\\uB294 hostPath type\\uC740 \\uC544\\uB798\\uC640 \\uAC19\\uB2E4.\"}),(0,e.jsxs)(n.ul,{children:[(0,e.jsx)(n.li,{children:\"Diretory\"}),(0,e.jsx)(n.li,{children:\"\\uBBF8\\uB9AC \\uB514\\uB809\\uD1A0\\uB9AC\\uAC00 \\uC874\\uC7AC\\uD574\\uC57C \\uD558\\uB294 \\uD0C0\\uC785\"}),(0,e.jsx)(n.li,{children:\"DirectoryOrCreate\"}),(0,e.jsx)(n.li,{children:\"\\uB514\\uB809\\uD130\\uB9AC\\uAC00 \\uC874\\uC7AC\\uD558\\uC9C0 \\uC54A\\uC744 \\uACBD\\uC6B0 \\uC0DD\\uC131\\uD55C\\uB2E4.\"}),(0,e.jsx)(n.li,{children:\"\\uBCF4\\uC548\\uC0C1 \\uC0AC\\uC6A9\\uD558\\uC9C0 \\uC54A\\uB294 \\uAC83\\uC774 \\uAD8C\\uC7A5\\uB41C\\uB2E4.\"}),(0,e.jsx)(n.li,{children:\"File\"}),(0,e.jsx)(n.li,{children:\"\\uC9C0\\uC815\\uB41C \\uACBD\\uB85C\\uC5D0 \\uD30C\\uC77C\\uC774 \\uC874\\uC7AC\\uD574\\uC57C \\uD568\"}),(0,e.jsx)(n.li,{children:\"Socket\"}),(0,e.jsx)(n.li,{children:\"\\uC9C0\\uC815\\uB41C \\uACBD\\uB85C\\uC5D0 Unix \\uC18C\\uCF13\\uC774 \\uC788\\uC5B4\\uC57C \\uD568\"}),(0,e.jsx)(n.li,{children:\"BlockDevice\"}),(0,e.jsx)(n.li,{children:\"\\uC9C0\\uC815\\uB41C \\uACBD\\uB85C\\uC5D0 \\uBE14\\uB85D \\uC7A5\\uCE58\\uAC00 \\uC788\\uC5B4\\uC57C \\uD568\"})]}),(0,e.jsx)(n.pre,{className:\"language-bash\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-bash\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"#\\uD638\\uC2A4\\uD2B8 OS \\uC774\\uBBF8\\uC9C0 \\uD655\\uC778\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# \\uC5D0\\uC11C /etc \\uAC00 \\uC0DD\\uC131\\uD55C \\uD30C\\uB4DC\\uC758 /srv\\uC5D0 \\uB9C8\\uC6B4\\uD2B8\\uB41C \\uAC83\\uC744 \\uD655\\uC778\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"demian@DESKTOP-K8O1SPU:~$ kubectl \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\"exec\"}),\" -it sample-hostpath -- \",(0,e.jsx)(n.span,{className:\"token function\",children:\"cat\"}),\" /srv/os-release \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"|\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"grep\"}),` PRETTY_NAME\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token assign-left variable\",children:\"PRETTY_NAME\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"Debian GNU/Linux 9 (stretch)\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# \\uCC45\\uC5D0\\uC120 PRETTY_NAME=container optimized OS \\uC73C\\uB85C \\uB098\\uC628\\uB2E4.\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"#\\uCEE8\\uD14C\\uC774\\uB108 \\uB0B4\\uBD80\\uC5D0\\uC11C OS \\uC774\\uBBF8\\uC9C0 \\uD655\\uC778\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"demian@DESKTOP-K8O1SPU:~$ kubectl \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\"exec\"}),\" -it sample-hostpath -- \",(0,e.jsx)(n.span,{className:\"token function\",children:\"cat\"}),\" /etc/os-release \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"|\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"grep\"}),` PRETTY_NAME\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token assign-left variable\",children:\"PRETTY_NAME\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"Debian GNU/Linux 9 (stretch)\"'}),`\n`]})]})}),(0,e.jsxs)(n.h3,{id:\"downwardapi\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",href:\"#downwardapi\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"downwardAPI\"]}),(0,e.jsx)(n.p,{children:\"\\uC2E4\\uD589\\uC911\\uC778 container\\uAC00 \\uB0B4\\uBD80\\uC5D0\\uC11C \\uC790\\uC2E0\\uC758 pod\\uC640 \\uADF8 \\uD658\\uACBD\\uC5D0 \\uB300\\uD574 \\uC54C\\uC218 \\uC788\\uAC8C \\uD558\\uB294 volume\\uC774\\uB2E4.\"}),(0,e.jsx)(n.p,{children:\"\\uC544\\uB798 \\uC124\\uC815\\uC5D0\\uC11C\\uB294 items\\uC758 path\\uB4E4(podname, cpu-request) \\uC774 /srv path\\uB85C expose \\uB41C\\uB2E4.\"}),(0,e.jsx)(n.pre,{className:\"language-yaml\",children:(0,e.jsxs)(n.code,{className:\"language-yaml code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"kubectl apply \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"f \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),` \u003c\u003cEOF\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"apiVersion\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` v1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"kind\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` Pod\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"metadata\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" sample\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"downward\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`api\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"spec\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"containers\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" nginx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`container\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"image\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" nginx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1.12\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"volumeMounts\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" downward\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"api\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`volume\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"mountPath\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` /srv\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"volumes\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" downward\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"api\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`volume\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"downwardAPI\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"items\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"path\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"podname\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"fieldRef\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"              \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"fieldPath\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` metadata.name\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"path\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"cpu-request\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"resourceFieldRef\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"              \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"containerName\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" nginx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`container\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"              \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"resource\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` requests.cpu\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`EOF\n`})]})}),(0,e.jsx)(n.p,{children:\"metadata.name\\uC740 pod\\uC758 metadata.name\\uC774\\uBA70, requests.cpu\\uB294 Pod\\uC5D0 \\uC18D\\uD55C container\\uC778 nginx-container\\uC758 cpu \\uC0AC\\uC6A9\\uB7C9\\uC744 \\uB9E4\\uD551\\uB41C\\uB2E4.\"}),(0,e.jsx)(n.p,{children:\"\\uC544\\uB798 \\uBA85\\uB839\\uC5B4\\uB85C \\uD655\\uC778\\uD560 \\uC218 \\uC788\\uB2E4.\"}),(0,e.jsx)(n.pre,{className:\"language-bash\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-bash\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"kubectl \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\"exec\"}),\" -it sample-downward-api -- \",(0,e.jsx)(n.span,{className:\"token function\",children:\"ls\"}),` -l /srv\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"lrwxrwxrwx \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),\" root root \",(0,e.jsx)(n.span,{className:\"token number\",children:\"18\"}),\" May \",(0,e.jsx)(n.span,{className:\"token number\",children:\"31\"}),\" 06:18 cpu-request -\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"..\"}),`data/cpu-request\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"lrwxrwxrwx \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),\" root root \",(0,e.jsx)(n.span,{className:\"token number\",children:\"14\"}),\" May \",(0,e.jsx)(n.span,{className:\"token number\",children:\"31\"}),\" 06:18 podname -\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"..\"}),`data/podnam\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"kubectl \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\"exec\"}),\" -it sample-downward-api -- \",(0,e.jsx)(n.span,{className:\"token function\",children:\"cat\"}),` /srv/podname\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`sample-downward-api\n`})]})}),(0,e.jsxs)(n.h3,{id:\"projected\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",href:\"#projected\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"projected\"]}),(0,e.jsx)(n.p,{children:\"Secret,ConfigMap, downwardAPI, service Account Token\\uC758 \\uBCFC\\uB968 \\uB9C8\\uC6B4\\uD2B8\\uB97C \\uD558\\uB098\\uC758 \\uB514\\uB809\\uD130\\uB9AC\\uC5D0 \\uD1B5\\uD569\\uD558\\uB294 \\uD50C\\uB7EC\\uADF8\\uC778\\uC774\\uB2E4.\"}),(0,e.jsx)(n.pre,{className:\"language-yaml\",children:(0,e.jsxs)(n.code,{className:\"language-yaml code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"apiVersion\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` v1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"kind\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` Pod\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"metadata\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" sample\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`projected\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"spec\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"containers\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" nginx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`container\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"image\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" nginx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1.12\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"volumeMounts\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" projected\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`volume\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"mountPath\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` /srv\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"volumes\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" projected\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`volume\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"projected\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"sources\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"secret\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"              \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" sample\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"db\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`auth\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"              \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"items\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"key\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` username\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"path\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` secret/username.txt\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"configMap\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"              \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" sample\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`configmap\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"              \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"items\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"key\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` nginx.conf\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"path\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` configmap/nginx.conf\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"downwardAPI\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"              \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"items\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"path\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'podname'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"fieldRef\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"fieldPath\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` metadata.name\n`]})]})}),(0,e.jsxs)(n.h3,{id:\"nfs\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",href:\"#nfs\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"NFS\"]}),(0,e.jsx)(n.p,{children:\"AWS efs\\uB97C nfs \\uB85C \\uC5F0\\uACB0\\uD574\\uC11C \\uC0AC\\uC6A9\\uD558\\uB294 example\"}),(0,e.jsx)(n.pre,{className:\"language-yaml\",children:(0,e.jsxs)(n.code,{className:\"language-yaml code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"apiVersion\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` apps/v1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"kind\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` Deployment\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"metadata\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" nfs\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`example\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"spec\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"replicas\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"selector\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"matchLabels\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"app\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" nfs\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`example\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"template\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"metadata\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"labels\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"app\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" nfs\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`example\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"spec\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"containers\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"image\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` nginx\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` nginx\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"volumeMounts\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"mountPath\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` /nfs\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"              \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" efs\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`vol\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"volumes\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" efs\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`vol\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"nfs\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# \\uC608\\uC81C\\uB85C EFS\\uB97C \\uC0AC\\uC6A9\\uD588\\uC9C0\\uB9CC \\uC77C\\uBC18\\uC801\\uC778 NFS \\uC11C\\uBC84\\uBA74 \\uB41C\\uB2E4.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"server\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" fs\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"f9352198.efs.ap\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"northeast\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`2.amazonaws.com\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"path\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` /\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"readOnly\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean important\",children:\"false\"}),`\n`]})]})})]})}}var f=b;return x;})();\n;return Component;","toc":[{"value":"Volume","url":"#volume","depth":1},{"value":"볼륨과 PV는 차이점","url":"#볼륨과-pv는-차이점","depth":3},{"value":"볼륨은 플러그인으로서 Pod에 연결되며 다음과 같은 종류가 있다.","url":"#볼륨은-플러그인으로서-pod에-연결되며-다음과-같은-종류가-있다","depth":4},{"value":"emptyDir","url":"#emptydir","depth":3},{"value":"hostPath","url":"#hostpath","depth":3},{"value":"downwardAPI","url":"#downwardapi","depth":3},{"value":"projected","url":"#projected","depth":3},{"value":"NFS","url":"#nfs","depth":3}],"frontMatter":{"readingTime":{"text":"8 min read","minutes":7.18,"time":430800,"words":1436},"slug":"k8s_manifest_Volume","fileName":"k8s_manifest_Volume.mdx","title":"K8S manifest - Volume","date":"2023-06-01T03:03:00.000Z","lastmod":"2023-06-01","tags":["kubernetes"],"draft":false,"summary":"","layout":"PostSimple"}},"authorDetails":[{"readingTime":{"text":"1 min read","minutes":0.155,"time":9300,"words":31},"slug":["default"],"fileName":"default.md","name":"demian11k","avatar":"/static/images/avatar.png","email":"demian11k@gmail.com","github":"https://github.com/demian9k","date":null}],"prev":{"title":"prometheus johoon","date":"2023-05-31T03:03:00.000Z","lastmod":"2023-05-31","tags":["alert"],"draft":false,"summary":"","layout":"PostSimple","slug":"prometheus_johoon"},"next":{"title":"K8S manifest - PersistentVolume","date":"2023-06-01T04:03:00.000Z","lastmod":"2023-06-01","tags":["kubernetes"],"draft":false,"summary":"","layout":"PostSimple","slug":"k8s_manifest-PersistentVolume"}},"__N_SSG":true},"page":"/blog/[...slug]","query":{"slug":["k8s_manifest_Volume"]},"buildId":"otfPwKwSsy3CYkkcjSJd6","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>