<!DOCTYPE html><html lang="en" class="scroll-smooth"><head><meta charSet="utf-8"/><script>!function(){try {var d=document.documentElement.classList;d.remove('light','dark');var e=localStorage.getItem('theme');if("system"===e||(!e&&true)){var t="(prefers-color-scheme: dark)",m=window.matchMedia(t);m.media!==t||m.matches?d.add('dark'):d.add('light')}else if(e) d.add(e)}catch(e){}}()</script><meta content="width=device-width, initial-scale=1" name="viewport"/><title>K8S manifest - Service</title><meta name="robots" content="follow, index"/><meta name="description" content=""/><meta property="og:url" content="https://demian9k.github.io/blog/k8s_manifest-Service"/><meta property="og:type" content="article"/><meta property="og:site_name" content="demian11k studylog"/><meta property="og:description" content=""/><meta property="og:title" content="K8S manifest - Service"/><meta property="og:image" content="https://demian9k.github.io/static/images/twitter-card.png"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site"/><meta name="twitter:title" content="K8S manifest - Service"/><meta name="twitter:description" content=""/><meta name="twitter:image" content="https://demian9k.github.io/static/images/twitter-card.png"/><link rel="canonical" href="https://demian9k.github.io/blog/k8s_manifest-Service"/><meta property="article:published_time" content="2023-05-16T03:03:00.000Z"/><meta property="article:modified_time" content="2023-05-16T00:00:00.000Z"/><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "Article",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://demian9k.github.io/blog/k8s_manifest-Service"
  },
  "headline": "K8S manifest - Service",
  "image": [
    {
      "@type": "ImageObject",
      "url": "https://demian9k.github.io/static/images/twitter-card.png"
    }
  ],
  "datePublished": "2023-05-16T03:03:00.000Z",
  "dateModified": "2023-05-16T00:00:00.000Z",
  "author": {
    "@type": "Person",
    "name": "demian11k"
  },
  "publisher": {
    "@type": "Organization",
    "name": "demian11k",
    "logo": {
      "@type": "ImageObject",
      "url": "https://demian9k.github.io/static/images/logo.png"
    }
  },
  "description": ""
}</script><meta name="next-head-count" content="21"/><link rel="apple-touch-icon" sizes="76x76" href="/static/favicons/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/static/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/static/favicons/favicon-16x16.png"/><link rel="manifest" href="/static/favicons/site.webmanifest"/><link rel="mask-icon" href="/static/favicons/safari-pinned-tab.svg" color="#5bbad5"/><meta name="msapplication-TileColor" content="#000000"/><meta name="theme-color" media="(prefers-color-scheme: light)" content="#fff"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#000"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><link rel="preload" href="/_next/static/css/9da9539fac7f1ee9.css" as="style"/><link rel="stylesheet" href="/_next/static/css/9da9539fac7f1ee9.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-1667cddafac2eea3.js" defer=""></script><script src="/_next/static/chunks/main-bfc1a3b6dd286443.js" defer=""></script><script src="/_next/static/chunks/pages/_app-e097d8b875e64e46.js" defer=""></script><script src="/_next/static/chunks/140-77b8ab5a870d524b.js" defer=""></script><script src="/_next/static/chunks/574-40cb695d6b511631.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5B...slug%5D-48fd063b43fdbe6a.js" defer=""></script><script src="/_next/static/ZrykKxtWiPyMXxUDniMmQ/_buildManifest.js" defer=""></script><script src="/_next/static/ZrykKxtWiPyMXxUDniMmQ/_ssgManifest.js" defer=""></script><script src="/_next/static/ZrykKxtWiPyMXxUDniMmQ/_middlewareManifest.js" defer=""></script></head><body class="bg-white text-black antialiased dark:bg-gray-900 dark:text-white"><div id="__next" data-reactroot=""><div class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><div class="flex h-screen flex-col justify-between"><header class="flex items-center justify-between py-10"><div><a aria-label="demian11k.studylog" href="/static"><div class="flex items-center justify-between"><div class="mr-3"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%2740%27%20height=%2740%27/%3e"/></span><img alt="A" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="rounded-full object-cover object-center md:h-36 lg:h-48" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="A" srcSet="/_next/static/media/demian_avatar_logo.c12b9855.png?imwidth=48 1x, /_next/static/media/demian_avatar_logo.c12b9855.png?imwidth=96 2x" src="/_next/static/media/demian_avatar_logo.c12b9855.png?imwidth=96" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="rounded-full object-cover object-center md:h-36 lg:h-48" loading="lazy"/></noscript></span></div><div class="hidden h-6 text-2xl font-semibold sm:block">demian11k.studylog</div></div></a></div><div class="flex items-center text-base leading-5"><div class="hidden sm:block"><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/blog">Blog</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/tags">Tags</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/projects">Projects</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/about">About</a></div><button aria-label="Toggle Dark Mode" type="button" class="ml-1 mr-1 h-8 w-8 rounded p-1 sm:ml-4"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg></button><div class="sm:hidden"><button type="button" class="ml-1 mr-1 h-8 w-8 rounded py-1" aria-label="Toggle Menu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg></button><div class="fixed top-0 left-0 z-10 h-full w-full transform bg-gray-200 opacity-95 duration-300 ease-in-out dark:bg-gray-800 translate-x-full"><div class="flex justify-end"><button type="button" class="mr-5 mt-11 h-8 w-8 rounded" aria-label="Toggle Menu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><nav class="fixed mt-8 h-full"><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/blog">Blog</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/tags">Tags</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/projects">Projects</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/about">About</a></div></nav></div></div></div></header><main class="mb-auto"><div class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><div class="fixed right-8 bottom-8 hidden flex-col gap-3 md:hidden"><button aria-label="Scroll To Top" type="button" class="rounded-full bg-gray-200 p-2 text-gray-500 transition-all hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-400 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><article><div><header><div class="space-y-1 border-b border-gray-200 pb-10 text-center dark:border-gray-700"><dl><div><dt class="sr-only">Published on</dt><dd class="text-base font-medium leading-6 text-gray-500 dark:text-gray-400"><time dateTime="2023-05-16T03:03:00.000Z">May 16, 2023</time></dd></div></dl><div><h1 class="text-3xl font-extrabold leading-9 tracking-tight text-gray-900 dark:text-gray-100 sm:text-4xl sm:leading-10 md:text-5xl md:leading-14">K8S manifest - Service</h1></div></div></header><div class="divide-y divide-gray-200 pb-8 dark:divide-gray-700 xl:divide-y-0 " style="grid-template-rows:auto 1fr"><div class="divide-y divide-gray-200 dark:divide-gray-700 xl:col-span-3 xl:row-span-2 xl:pb-0"><div class="prose max-w-none pt-10 pb-8 dark:prose-dark"><p><strong>network.md를 먼저 읽어야 한다.</strong></p><h2 id="서비스-리소스의-필요성"><a href="#서비스-리소스의-필요성" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>서비스 리소스의 필요성</h2><p>pod는 비영구적인 리소스로 pet(반려동물) 이 아니라 cattle(가축)처럼 취급된다.(disposable/replaceable)</p><p>이런 맥락에서 Deployment나 ReplicaSet는 동적으로 파드를 생성/제거한다.</p><ul><li>Deployment에서 관리되는 파드는 Rolling Update 같은 기능 때문에 동시에 다른 버전의 여러개가 생성될 수 있으며, 이런 기능 때문에 새 Pod는 이전에 사용하던 IP를 사용하지 못하므로 동적으로 새로운 IP가 할당되어야 한다.</li></ul><p>Pod는 이렇게 IP가 항상 변경되는 리소스이고, 이 점은 사용자가 Pod가 실행하는 app을 사용하려 할 때 어떤 IP로 바뀌었는지를 알아야 하는 문제가 된다.</p><p>k8s에서는 이 문제를 해결할 수 있는 서비스 리소스를 제공한다. <code>Service</code> 는 사용자가 접근하려는 Pod의 변경을 알지 못해도 접근을 하는 일관적인 방법을 제공한다. 서비스는 Pod에 고유한 IP 주소를 부여하고 Pod Set에는 하나 dns 이름을 부여한다. 그리고 Pod Set에 대한 부하 분산 또한 수행할 수 있다.</p><h2 id="externalip"><a href="#externalip" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>ExternalIP</h2><p>특정 K8S 노드의 IP:Port 에서 수신한 트래픽을 컨테이너로 전송하는 형태로 통신하는 <code>ClusterType</code> service의 한 유형이다.</p><p>기본적으로 <code>ClusterType</code> 이므로 서비스를 생성하면 ClusterIP도 확보된다.</p><div class="relative"><pre><code class="language-yaml code-highlight"><span class="code-line"><span class="token atrule key">apiVersion</span><span class="token punctuation">:</span> v1
</span><span class="code-line"><span class="token atrule key">kind</span><span class="token punctuation">:</span> Service
</span><span class="code-line"><span class="token atrule key">metadata</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">name</span><span class="token punctuation">:</span> sample<span class="token punctuation">-</span>externalip
</span><span class="code-line"><span class="token atrule key">spec</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">type</span><span class="token punctuation">:</span> ClusterIP
</span><span class="code-line">  <span class="token atrule key">externalIPs</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token punctuation">-</span> 10.178.0.11
</span><span class="code-line">    <span class="token punctuation">-</span> 10.178.0.12
</span><span class="code-line">  <span class="token atrule key">ports</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token punctuation">-</span> <span class="token atrule key">name</span><span class="token punctuation">:</span> <span class="token string">&#x27;http-port&#x27;</span>
</span><span class="code-line">      <span class="token atrule key">protocol</span><span class="token punctuation">:</span> <span class="token string">&#x27;TCP&#x27;</span>
</span><span class="code-line">      <span class="token atrule key">port</span><span class="token punctuation">:</span> <span class="token number">8080</span>
</span><span class="code-line">      <span class="token atrule key">targetPort</span><span class="token punctuation">:</span> <span class="token number">80</span>
</span><span class="code-line">  <span class="token atrule key">selector</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token atrule key">app</span><span class="token punctuation">:</span> sample<span class="token punctuation">-</span>app
</span></code></pre></div><p>Service.spec.externalIPs 쿠버네티스 노드 IP 목록</p><div class="relative"><pre><code class="code-highlight language-bash"><span class="code-line"><span class="token comment"># 노드 IP목록은 현재 사용중인 노드 정보에서 가져온다.</span>
</span><span class="code-line">$ kubectl get nodes -o custom-columns<span class="token operator">=</span><span class="token string">&quot;NAME:{metadata.name},IP:{status.addresses[].address}&quot;</span>
</span><span class="code-line">
</span><span class="code-line">NAME             IP
</span><span class="code-line">docker-desktop   <span class="token number">192.168</span>.65.4
</span></code></pre></div><p>Service.spec.ports[].port 노드 IP와 ClusterIP에서 수신할 포트 번호</p><p>Service.spec.ports[].targetPort 컨테이너에서 수신할 포트 번호</p><p>이렇게 설정하면 외부에서 10.178.0.11:8080, 10.178.0.12:8080 을 통해 sample-app의 80 포트로 통신할 수 있다.</p><p>일반적으로 k8s 노드가 갖고 있는 ip는 private ip 주소로 할당되며 이것을 외부 IP 대역과 통신하기 위해서는 reverse proxy나 port forward등의 방법을 통해 public ip와 연결해야 가능하다.</p><p>일반적으로 서비스를 expose 할때는 이 externalIP 보다는 <code>NodePort</code>, <code>LoadBalencer</code>, <code>Ingress</code> 의 사용이 권장된다.</p><h2 id="nodeport-서비스"><a href="#nodeport-서비스" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>NodePort 서비스</h2><div class="relative"><pre><code class="language-yaml code-highlight"><span class="code-line"><span class="token atrule key">apiVersion</span><span class="token punctuation">:</span> v1
</span><span class="code-line"><span class="token atrule key">kind</span><span class="token punctuation">:</span> Service
</span><span class="code-line"><span class="token atrule key">metadata</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">name</span><span class="token punctuation">:</span> sample<span class="token punctuation">-</span>nodeport
</span><span class="code-line"><span class="token atrule key">spec</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">type</span><span class="token punctuation">:</span> NodePort
</span><span class="code-line">  <span class="token atrule key">ports</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token punctuation">-</span> <span class="token atrule key">name</span><span class="token punctuation">:</span> <span class="token string">&#x27;http-port&#x27;</span>
</span><span class="code-line">      <span class="token atrule key">protocol</span><span class="token punctuation">:</span> <span class="token string">&#x27;TCP&#x27;</span>
</span><span class="code-line">      <span class="token atrule key">port</span><span class="token punctuation">:</span> <span class="token number">8080</span>
</span><span class="code-line">      <span class="token atrule key">targetPort</span><span class="token punctuation">:</span> <span class="token number">80</span>
</span><span class="code-line">      <span class="token atrule key">nodePort</span><span class="token punctuation">:</span> <span class="token number">30080</span>
</span><span class="code-line">  <span class="token atrule key">selector</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token atrule key">app</span><span class="token punctuation">:</span> sample<span class="token punctuation">-</span>app
</span></code></pre></div><p>NodePort 서비스는 spec.ports[].nodePort에 지정된 포트를 해당 클러스터에 속한 모든 노드의 포트에서 expose한다. 해당 클러스터 외부에서 접근한 요청은 export된 port로 selector와 matching되는 container와 통신할 수 있다.</p><h4 id="nodeport-type의-service-resource-manifest에서-지정되는-여러가지-포트들"><a href="#nodeport-type의-service-resource-manifest에서-지정되는-여러가지-포트들" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>NodePort type의 Service Resource Manifest에서 지정되는 여러가지 포트들</h4><ul><li><code>spec.ports[].port</code> 에는 ClusterIP에서 수신할 포트 번호</li><li>NodePort 서비스는 ClusterIP 서비스를 생성하여 내부 통신을 위임한다.</li><li>일반적으로 port와 targetPort는 같은 값으로 지정하는 편이다.</li><li><code>spec.ports[].targetPort</code>에는 목적지 컨테이너 포트 번호</li><li><code>spec.ports[].nodePort</code> 에는 모든 노드에서 이 서비스를 위해 expose할 포트번호를 지정한다.<ul><li>nodePort가 지정되지 않을 경우 빈 포트번호가 자동으로 선택된다.</li><li>많은 k8s 환경(GKE 등)에서 포트번호 범위로 30000 ~ 32767 만 허용한다.</li></ul></li></ul><p>ClusterIP-ExternalIPs 유형은 지정된 노드만 포트를 외부에 expose 하는 데 비해 NodePort type은 클러스터 내 모든 Node에서 동일한 port를 일관적으로 expose 하는 데 차이점이 있다.</p><p>example의 서비스 manifest로 생성한 서비스는 클러스터 외부 사용자가 <code>spec.ports[].nodePort</code> 인 30080 포트로 접속하여 내부 주소인 spec.ports[].port의 네트워크를 사용해 8080포트로 진입하여 pod의 80포트로 통신할 수 있게 된다.</p><p>nodePort는 쿠버네티스의 LoadBalancer 리소스에서도 지정할 수 있다.</p><h4 id="다른-타입과-비교"><a href="#다른-타입과-비교" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>다른 타입과 비교</h4><ul><li>ClusterIP는 클러스터 내부에서만 접근 가능한 서비스 리소스</li><li>ExternalName은 외부 리소스의 DNS alias 로 동작한다.</li></ul><h2 id="endpoint-resource"><a href="#endpoint-resource" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Endpoint Resource</h2><p><code>EndPoint</code>는 서비스가 연결되는 네트워크 엔드포인트이다.</p><p>서비스를 생성했을 때 해당 서비스가 어떤 엔드포인트로 연결되는지 확인할 수 있다.</p><div class="relative"><pre><code class="code-highlight language-bash"><span class="code-line">kubectl get endpoints
</span><span class="code-line">kubectl get ep
</span></code></pre></div><p>Service selector에 매칭되는 파드가 있으면 IP등이 표시된다.</p><div class="relative"><pre><code class="language-yaml code-highlight"><span class="code-line"><span class="token atrule key">apiVersion</span><span class="token punctuation">:</span> v1
</span><span class="code-line"><span class="token atrule key">kind</span><span class="token punctuation">:</span> Service
</span><span class="code-line"><span class="token atrule key">metadata</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">name</span><span class="token punctuation">:</span> my<span class="token punctuation">-</span>service
</span><span class="code-line"><span class="token atrule key">spec</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">type</span><span class="token punctuation">:</span> NodePort
</span><span class="code-line">  <span class="token atrule key">selector</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token atrule key">app</span><span class="token punctuation">:</span> myapp
</span><span class="code-line">  <span class="token atrule key">ports</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token punctuation">-</span> <span class="token atrule key">name</span><span class="token punctuation">:</span> http
</span><span class="code-line">      <span class="token atrule key">nodePort</span><span class="token punctuation">:</span> <span class="token number">30001</span>
</span><span class="code-line">      <span class="token atrule key">port</span><span class="token punctuation">:</span> <span class="token number">80</span>
</span><span class="code-line">      <span class="token atrule key">targetPort</span><span class="token punctuation">:</span> <span class="token number">80</span>
</span><span class="code-line">      <span class="token atrule key">protocol</span><span class="token punctuation">:</span> TCP
</span><span class="code-line"><span class="token punctuation">---</span>
</span><span class="code-line"><span class="token atrule key">apiVersion</span><span class="token punctuation">:</span> v1
</span><span class="code-line"><span class="token atrule key">kind</span><span class="token punctuation">:</span> Pod
</span><span class="code-line"><span class="token atrule key">metadata</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">name</span><span class="token punctuation">:</span> web
</span><span class="code-line">  <span class="token atrule key">labels</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token atrule key">app</span><span class="token punctuation">:</span> myapp
</span><span class="code-line"><span class="token atrule key">spec</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">containers</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token punctuation">-</span> <span class="token atrule key">name</span><span class="token punctuation">:</span> app
</span><span class="code-line">      <span class="token atrule key">image</span><span class="token punctuation">:</span> nginx
</span></code></pre></div><p>위 manifest를 적용하면 Endpoint Controller에 의해 파드의 생성을 감지하고 엔드포인트에 Pod의 IP가 추가된다.</p><p>엔드포인트는 Pod의 IP로 내부 컨테이너들의 Port를 구분해서 라우팅을 구분하는 기능이 기본적인 기능이다.</p><div class="relative"><pre><code class="code-highlight language-Bash"><span class="code-line">$ kubectl get endpoints
</span><span class="code-line">NAME         ENDPOINTS                                AGE
</span><span class="code-line">my-service   <span class="token number">10.1</span>.0.66:80,10.1.0.68:80,10.1.0.69:80   90m
</span><span class="code-line">
</span><span class="code-line"><span class="token comment"># 엔드포인트 IP와 Pod IP 일치 확인하기</span>
</span><span class="code-line">kubectl describe endpoints my-service <span class="token operator">|</span> <span class="token function">grep</span> Addresses <span class="token operator">&amp;&amp;</span> kubectl describe pod web
</span><span class="code-line">
</span><span class="code-line">
</span></code></pre></div><p>엔드포인트는 아래의 경우 수동으로 생성해야 되는 경우가 있다.</p><p>Endpoints를 수동으로 생성해야하는 경우(라벨 셀렉터가 없는 Service를 생성해야하는 경우)</p><ul><li>Service를 통해 클러스터 외부에 있는 서버로 트래픽을 보내야 하는 경우</li><li>한 Service에서 다른 Namespace 또는 다른 클러스터의 Service를 지정하려고 하는 경우</li></ul><div class="relative"><pre><code class="language-yaml code-highlight"><span class="code-line"><span class="token atrule key">apiVersion</span><span class="token punctuation">:</span> v1
</span><span class="code-line"><span class="token atrule key">kind</span><span class="token punctuation">:</span> Service
</span><span class="code-line"><span class="token atrule key">metadata</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">name</span><span class="token punctuation">:</span> my<span class="token punctuation">-</span>service
</span><span class="code-line"><span class="token atrule key">spec</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">type</span><span class="token punctuation">:</span> NodePort
</span><span class="code-line">  <span class="token atrule key">ports</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token punctuation">-</span> <span class="token atrule key">name</span><span class="token punctuation">:</span> http
</span><span class="code-line">      <span class="token atrule key">nodePort</span><span class="token punctuation">:</span> <span class="token number">30001</span>
</span><span class="code-line">      <span class="token atrule key">port</span><span class="token punctuation">:</span> <span class="token number">80</span>
</span><span class="code-line">      <span class="token atrule key">targetPort</span><span class="token punctuation">:</span> <span class="token number">80</span>
</span><span class="code-line">      <span class="token atrule key">protocol</span><span class="token punctuation">:</span> TCP
</span><span class="code-line">
</span><span class="code-line"><span class="token punctuation">---</span>
</span><span class="code-line"><span class="token atrule key">apiVersion</span><span class="token punctuation">:</span> v1
</span><span class="code-line"><span class="token atrule key">kind</span><span class="token punctuation">:</span> Endpoints
</span><span class="code-line"><span class="token atrule key">metadata</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">name</span><span class="token punctuation">:</span> my<span class="token punctuation">-</span>service
</span><span class="code-line"><span class="token atrule key">subsets</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token punctuation">-</span> <span class="token atrule key">addresses</span><span class="token punctuation">:</span>
</span><span class="code-line">      <span class="token punctuation">-</span> <span class="token atrule key">ip</span><span class="token punctuation">:</span> 52.78.168.73 <span class="token comment"># 외부 웹 서버 IP 주소</span>
</span><span class="code-line">    <span class="token atrule key">ports</span><span class="token punctuation">:</span>
</span><span class="code-line">      <span class="token punctuation">-</span> <span class="token atrule key">name</span><span class="token punctuation">:</span> http
</span><span class="code-line">        <span class="token atrule key">port</span><span class="token punctuation">:</span> <span class="token number">80</span>
</span><span class="code-line"><span class="token comment"># Endpoints의 metadata.name과 ports.name이 Service와 일치해야 한다</span>
</span></code></pre></div><table><thead><tr><th>서비스 종류</th><th>IP 엔드포인트 내용</th></tr></thead><tbody><tr><td>ClusterIP</td><td>클러스터 내부에서만 통신 가능한 가상 IP</td></tr><tr><td>ExternalIP</td><td>특정 노드의 IP 주소</td></tr><tr><td>NodePort</td><td>모든 노드의 IP 주소</td></tr><tr><td>LoadBalancer</td><td>클러스터 외부에서 제공되는 로드 밸런서의 가상 IP</td></tr><tr><td>Headless(None)</td><td>Pod의 IP 주소를 사용한 DNS 라운드 로빈</td></tr><tr><td>ExternalName</td><td>CNAME을 사용한 느슨한 연결 확보</td></tr><tr><td>None-Selector</td><td>원하는 목적지 멤버를 설정할 수 있는 다양한 엔드포인트</td></tr></tbody></table><h1 id="loadbalancer-type-service"><a href="#loadbalancer-type-service" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>LoadBalancer type Service</h1><p>일반적으로 LoadBalancer는 Production Level에서 사용되는 서비스 리소스다.</p><div class="relative"><pre><code class="language-yaml code-highlight"><span class="code-line"><span class="token atrule key">apiVersion</span><span class="token punctuation">:</span> v1
</span><span class="code-line"><span class="token atrule key">kind</span><span class="token punctuation">:</span> Service
</span><span class="code-line"><span class="token atrule key">metadata</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">name</span><span class="token punctuation">:</span> sample<span class="token punctuation">-</span>lb
</span><span class="code-line"><span class="token atrule key">spec</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">type</span><span class="token punctuation">:</span> LoadBalancer
</span><span class="code-line">  <span class="token atrule key">ports</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token punctuation">-</span> <span class="token atrule key">name</span><span class="token punctuation">:</span> <span class="token string">&#x27;http-port&#x27;</span>
</span><span class="code-line">      <span class="token atrule key">protocol</span><span class="token punctuation">:</span> <span class="token string">&#x27;TCP&#x27;</span>
</span><span class="code-line">      <span class="token atrule key">port</span><span class="token punctuation">:</span> <span class="token number">8080</span>
</span><span class="code-line">      <span class="token atrule key">targetPort</span><span class="token punctuation">:</span> <span class="token number">80</span>
</span><span class="code-line">      <span class="token atrule key">nodePort</span><span class="token punctuation">:</span> <span class="token number">30082</span>
</span><span class="code-line">  <span class="token atrule key">selector</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token atrule key">app</span><span class="token punctuation">:</span> sample<span class="token punctuation">-</span>app
</span></code></pre></div><p>spec.ports[].targetPort: 목적지 컨테이너 포트 번호 spec.ports[].port: LoadBalancer에서 할당되는 가상 IP와 ClusterIP에서 수신할 포트 번호 spec.ports[].nodePort: 모든 쿠버네티스 노드 IP 주소에서 수신할 포트 번호</p><p>커피고래 <a target="_blank" rel="noopener noreferrer" href="https://coffeewhale.com/k8s/network/2019/05/30/k8s-network-03/">https://coffeewhale.com/k8s/network/2019/05/30/k8s-network-03/</a></p></div></div><div id="comment"></div><footer><div class="flex flex-col text-sm font-medium sm:flex-row sm:justify-between sm:text-base"><div class="pt-4 xl:pt-8"><a class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/blog/k8s_manifest-Deployment">← <!-- -->K8S manifest - Deployment</a></div><div class="pt-4 xl:pt-8"><a class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/blog/k8s_manifest-ReplicaSet">K8S manifest - ReplicaSet<!-- --> →</a></div></div></footer></div></div></article></div></main><footer><div class="mt-16 flex flex-col items-center"><div class="mb-3 flex space-x-4"><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="mailto:demian11k@gmail.com"><span class="sr-only">mail</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="fill-current text-gray-700 hover:text-blue-500 dark:text-gray-200 dark:hover:text-blue-400 h-6 w-6"><path d="M2.003 5.884 10 9.882l7.997-3.998A2 2 0 0 0 16 4H4a2 2 0 0 0-1.997 1.884z"></path><path d="m18 8.118-8 4-8-4V14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8.118z"></path></svg></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://github.com/demian9k"><span class="sr-only">github</span><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="fill-current text-gray-700 hover:text-blue-500 dark:text-gray-200 dark:hover:text-blue-400 h-6 w-6"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></a></div><div class="mb-2 flex space-x-2 text-sm text-gray-500 dark:text-gray-400"><div>demian11k</div><div> • </div><div>© 2023</div><div> • </div><a href="/static">demian11k studylog</a></div></div></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"mdxSource":"var Component=(()=\u003e{var d=Object.create;var l=Object.defineProperty;var o=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var h=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty;var t=a=\u003el(a,\"__esModule\",{value:!0});var u=(a,s)=\u003e()=\u003e(s||a((s={exports:{}}).exports,s),s.exports),N=(a,s)=\u003e{t(a);for(var c in s)l(a,c,{get:s[c],enumerable:!0})},k=(a,s,c)=\u003e{if(s\u0026\u0026typeof s==\"object\"||typeof s==\"function\")for(let n of p(s))!m.call(a,n)\u0026\u0026n!==\"default\"\u0026\u0026l(a,n,{get:()=\u003es[n],enumerable:!(c=o(s,n))||c.enumerable});return a},y=a=\u003ek(t(l(a!=null?d(h(a)):{},\"default\",a\u0026\u0026a.__esModule\u0026\u0026\"default\"in a?{get:()=\u003ea.default,enumerable:!0}:{value:a,enumerable:!0})),a);var r=u((x,i)=\u003e{i.exports=_jsx_runtime});var I={};N(I,{default:()=\u003eb,frontmatter:()=\u003eP});var e=y(r()),P={title:\"K8S manifest - Service\",date:new Date(168420618e4),lastmod:\"2023-05-16\",tags:[\"kubernetes\"],draft:!1,summary:\"\",layout:\"PostSimple\"};function g(a={}){let{wrapper:s}=a.components||{};return s?(0,e.jsx)(s,Object.assign({},a,{children:(0,e.jsx)(c,{})})):c();function c(){let n=Object.assign({p:\"p\",strong:\"strong\",h2:\"h2\",a:\"a\",span:\"span\",ul:\"ul\",li:\"li\",code:\"code\",pre:\"pre\",h4:\"h4\",table:\"table\",thead:\"thead\",tr:\"tr\",th:\"th\",tbody:\"tbody\",td:\"td\",h1:\"h1\"},a.components);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(n.p,{children:(0,e.jsx)(n.strong,{children:\"network.md\\uB97C \\uBA3C\\uC800 \\uC77D\\uC5B4\\uC57C \\uD55C\\uB2E4.\"})}),(0,e.jsxs)(n.h2,{id:\"\\uC11C\\uBE44\\uC2A4-\\uB9AC\\uC18C\\uC2A4\\uC758-\\uD544\\uC694\\uC131\",children:[(0,e.jsx)(n.a,{href:\"#\\uC11C\\uBE44\\uC2A4-\\uB9AC\\uC18C\\uC2A4\\uC758-\\uD544\\uC694\\uC131\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\uC11C\\uBE44\\uC2A4 \\uB9AC\\uC18C\\uC2A4\\uC758 \\uD544\\uC694\\uC131\"]}),(0,e.jsx)(n.p,{children:\"pod\\uB294 \\uBE44\\uC601\\uAD6C\\uC801\\uC778 \\uB9AC\\uC18C\\uC2A4\\uB85C pet(\\uBC18\\uB824\\uB3D9\\uBB3C) \\uC774 \\uC544\\uB2C8\\uB77C cattle(\\uAC00\\uCD95)\\uCC98\\uB7FC \\uCDE8\\uAE09\\uB41C\\uB2E4.(disposable/replaceable)\"}),(0,e.jsx)(n.p,{children:\"\\uC774\\uB7F0 \\uB9E5\\uB77D\\uC5D0\\uC11C Deployment\\uB098 ReplicaSet\\uB294 \\uB3D9\\uC801\\uC73C\\uB85C \\uD30C\\uB4DC\\uB97C \\uC0DD\\uC131/\\uC81C\\uAC70\\uD55C\\uB2E4.\"}),(0,e.jsx)(n.ul,{children:(0,e.jsx)(n.li,{children:\"Deployment\\uC5D0\\uC11C \\uAD00\\uB9AC\\uB418\\uB294 \\uD30C\\uB4DC\\uB294 Rolling Update \\uAC19\\uC740 \\uAE30\\uB2A5 \\uB54C\\uBB38\\uC5D0 \\uB3D9\\uC2DC\\uC5D0 \\uB2E4\\uB978 \\uBC84\\uC804\\uC758 \\uC5EC\\uB7EC\\uAC1C\\uAC00 \\uC0DD\\uC131\\uB420 \\uC218 \\uC788\\uC73C\\uBA70, \\uC774\\uB7F0 \\uAE30\\uB2A5 \\uB54C\\uBB38\\uC5D0 \\uC0C8 Pod\\uB294 \\uC774\\uC804\\uC5D0 \\uC0AC\\uC6A9\\uD558\\uB358 IP\\uB97C \\uC0AC\\uC6A9\\uD558\\uC9C0 \\uBABB\\uD558\\uBBC0\\uB85C \\uB3D9\\uC801\\uC73C\\uB85C \\uC0C8\\uB85C\\uC6B4 IP\\uAC00 \\uD560\\uB2F9\\uB418\\uC5B4\\uC57C \\uD55C\\uB2E4.\"})}),(0,e.jsx)(n.p,{children:\"Pod\\uB294 \\uC774\\uB807\\uAC8C IP\\uAC00 \\uD56D\\uC0C1 \\uBCC0\\uACBD\\uB418\\uB294 \\uB9AC\\uC18C\\uC2A4\\uC774\\uACE0, \\uC774 \\uC810\\uC740 \\uC0AC\\uC6A9\\uC790\\uAC00 Pod\\uAC00 \\uC2E4\\uD589\\uD558\\uB294 app\\uC744 \\uC0AC\\uC6A9\\uD558\\uB824 \\uD560 \\uB54C \\uC5B4\\uB5A4 IP\\uB85C \\uBC14\\uB00C\\uC5C8\\uB294\\uC9C0\\uB97C \\uC54C\\uC544\\uC57C \\uD558\\uB294 \\uBB38\\uC81C\\uAC00 \\uB41C\\uB2E4.\"}),(0,e.jsxs)(n.p,{children:[\"k8s\\uC5D0\\uC11C\\uB294 \\uC774 \\uBB38\\uC81C\\uB97C \\uD574\\uACB0\\uD560 \\uC218 \\uC788\\uB294 \\uC11C\\uBE44\\uC2A4 \\uB9AC\\uC18C\\uC2A4\\uB97C \\uC81C\\uACF5\\uD55C\\uB2E4. \",(0,e.jsx)(n.code,{children:\"Service\"}),\" \\uB294 \\uC0AC\\uC6A9\\uC790\\uAC00 \\uC811\\uADFC\\uD558\\uB824\\uB294 Pod\\uC758 \\uBCC0\\uACBD\\uC744 \\uC54C\\uC9C0 \\uBABB\\uD574\\uB3C4 \\uC811\\uADFC\\uC744 \\uD558\\uB294 \\uC77C\\uAD00\\uC801\\uC778 \\uBC29\\uBC95\\uC744 \\uC81C\\uACF5\\uD55C\\uB2E4. \\uC11C\\uBE44\\uC2A4\\uB294 Pod\\uC5D0 \\uACE0\\uC720\\uD55C IP \\uC8FC\\uC18C\\uB97C \\uBD80\\uC5EC\\uD558\\uACE0 Pod Set\\uC5D0\\uB294 \\uD558\\uB098 dns \\uC774\\uB984\\uC744 \\uBD80\\uC5EC\\uD55C\\uB2E4. \\uADF8\\uB9AC\\uACE0 Pod Set\\uC5D0 \\uB300\\uD55C \\uBD80\\uD558 \\uBD84\\uC0B0 \\uB610\\uD55C \\uC218\\uD589\\uD560 \\uC218 \\uC788\\uB2E4.\"]}),(0,e.jsxs)(n.h2,{id:\"externalip\",children:[(0,e.jsx)(n.a,{href:\"#externalip\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"ExternalIP\"]}),(0,e.jsxs)(n.p,{children:[\"\\uD2B9\\uC815 K8S \\uB178\\uB4DC\\uC758 IP:Port \\uC5D0\\uC11C \\uC218\\uC2E0\\uD55C \\uD2B8\\uB798\\uD53D\\uC744 \\uCEE8\\uD14C\\uC774\\uB108\\uB85C \\uC804\\uC1A1\\uD558\\uB294 \\uD615\\uD0DC\\uB85C \\uD1B5\\uC2E0\\uD558\\uB294 \",(0,e.jsx)(n.code,{children:\"ClusterType\"}),\" service\\uC758 \\uD55C \\uC720\\uD615\\uC774\\uB2E4.\"]}),(0,e.jsxs)(n.p,{children:[\"\\uAE30\\uBCF8\\uC801\\uC73C\\uB85C \",(0,e.jsx)(n.code,{children:\"ClusterType\"}),\" \\uC774\\uBBC0\\uB85C \\uC11C\\uBE44\\uC2A4\\uB97C \\uC0DD\\uC131\\uD558\\uBA74 ClusterIP\\uB3C4 \\uD655\\uBCF4\\uB41C\\uB2E4.\"]}),(0,e.jsx)(n.pre,{className:\"language-yaml\",children:(0,e.jsxs)(n.code,{className:\"language-yaml code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"apiVersion\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` v1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"kind\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` Service\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"metadata\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" sample\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`externalip\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"spec\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"type\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` ClusterIP\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"externalIPs\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),` 10.178.0.11\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),` 10.178.0.12\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"ports\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'http-port'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"protocol\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'TCP'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"port\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"8080\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"targetPort\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"80\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"selector\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"app\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" sample\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`app\n`]})]})}),(0,e.jsx)(n.p,{children:\"Service.spec.externalIPs \\uCFE0\\uBC84\\uB124\\uD2F0\\uC2A4 \\uB178\\uB4DC IP \\uBAA9\\uB85D\"}),(0,e.jsx)(n.pre,{className:\"language-bash\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-bash\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# \\uB178\\uB4DC IP\\uBAA9\\uB85D\\uC740 \\uD604\\uC7AC \\uC0AC\\uC6A9\\uC911\\uC778 \\uB178\\uB4DC \\uC815\\uBCF4\\uC5D0\\uC11C \\uAC00\\uC838\\uC628\\uB2E4.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"$ kubectl get nodes -o custom-columns\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"NAME:{metadata.name},IP:{status.addresses[].address}\"'}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`NAME             IP\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"docker-desktop   \",(0,e.jsx)(n.span,{className:\"token number\",children:\"192.168\"}),`.65.4\n`]})]})}),(0,e.jsx)(n.p,{children:\"Service.spec.ports[].port \\uB178\\uB4DC IP\\uC640 ClusterIP\\uC5D0\\uC11C \\uC218\\uC2E0\\uD560 \\uD3EC\\uD2B8 \\uBC88\\uD638\"}),(0,e.jsx)(n.p,{children:\"Service.spec.ports[].targetPort \\uCEE8\\uD14C\\uC774\\uB108\\uC5D0\\uC11C \\uC218\\uC2E0\\uD560 \\uD3EC\\uD2B8 \\uBC88\\uD638\"}),(0,e.jsx)(n.p,{children:\"\\uC774\\uB807\\uAC8C \\uC124\\uC815\\uD558\\uBA74 \\uC678\\uBD80\\uC5D0\\uC11C 10.178.0.11:8080, 10.178.0.12:8080 \\uC744 \\uD1B5\\uD574 sample-app\\uC758 80 \\uD3EC\\uD2B8\\uB85C \\uD1B5\\uC2E0\\uD560 \\uC218 \\uC788\\uB2E4.\"}),(0,e.jsx)(n.p,{children:\"\\uC77C\\uBC18\\uC801\\uC73C\\uB85C k8s \\uB178\\uB4DC\\uAC00 \\uAC16\\uACE0 \\uC788\\uB294 ip\\uB294 private ip \\uC8FC\\uC18C\\uB85C \\uD560\\uB2F9\\uB418\\uBA70 \\uC774\\uAC83\\uC744 \\uC678\\uBD80 IP \\uB300\\uC5ED\\uACFC \\uD1B5\\uC2E0\\uD558\\uAE30 \\uC704\\uD574\\uC11C\\uB294 reverse proxy\\uB098 port forward\\uB4F1\\uC758 \\uBC29\\uBC95\\uC744 \\uD1B5\\uD574 public ip\\uC640 \\uC5F0\\uACB0\\uD574\\uC57C \\uAC00\\uB2A5\\uD558\\uB2E4.\"}),(0,e.jsxs)(n.p,{children:[\"\\uC77C\\uBC18\\uC801\\uC73C\\uB85C \\uC11C\\uBE44\\uC2A4\\uB97C expose \\uD560\\uB54C\\uB294 \\uC774 externalIP \\uBCF4\\uB2E4\\uB294 \",(0,e.jsx)(n.code,{children:\"NodePort\"}),\", \",(0,e.jsx)(n.code,{children:\"LoadBalencer\"}),\", \",(0,e.jsx)(n.code,{children:\"Ingress\"}),\" \\uC758 \\uC0AC\\uC6A9\\uC774 \\uAD8C\\uC7A5\\uB41C\\uB2E4.\"]}),(0,e.jsxs)(n.h2,{id:\"nodeport-\\uC11C\\uBE44\\uC2A4\",children:[(0,e.jsx)(n.a,{href:\"#nodeport-\\uC11C\\uBE44\\uC2A4\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"NodePort \\uC11C\\uBE44\\uC2A4\"]}),(0,e.jsx)(n.pre,{className:\"language-yaml\",children:(0,e.jsxs)(n.code,{className:\"language-yaml code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"apiVersion\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` v1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"kind\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` Service\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"metadata\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" sample\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`nodeport\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"spec\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"type\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` NodePort\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"ports\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'http-port'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"protocol\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'TCP'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"port\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"8080\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"targetPort\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"80\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"nodePort\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"30080\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"selector\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"app\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" sample\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`app\n`]})]})}),(0,e.jsx)(n.p,{children:\"NodePort \\uC11C\\uBE44\\uC2A4\\uB294 spec.ports[].nodePort\\uC5D0 \\uC9C0\\uC815\\uB41C \\uD3EC\\uD2B8\\uB97C \\uD574\\uB2F9 \\uD074\\uB7EC\\uC2A4\\uD130\\uC5D0 \\uC18D\\uD55C \\uBAA8\\uB4E0 \\uB178\\uB4DC\\uC758 \\uD3EC\\uD2B8\\uC5D0\\uC11C expose\\uD55C\\uB2E4. \\uD574\\uB2F9 \\uD074\\uB7EC\\uC2A4\\uD130 \\uC678\\uBD80\\uC5D0\\uC11C \\uC811\\uADFC\\uD55C \\uC694\\uCCAD\\uC740 export\\uB41C port\\uB85C selector\\uC640 matching\\uB418\\uB294 container\\uC640 \\uD1B5\\uC2E0\\uD560 \\uC218 \\uC788\\uB2E4.\"}),(0,e.jsxs)(n.h4,{id:\"nodeport-type\\uC758-service-resource-manifest\\uC5D0\\uC11C-\\uC9C0\\uC815\\uB418\\uB294-\\uC5EC\\uB7EC\\uAC00\\uC9C0-\\uD3EC\\uD2B8\\uB4E4\",children:[(0,e.jsx)(n.a,{href:\"#nodeport-type\\uC758-service-resource-manifest\\uC5D0\\uC11C-\\uC9C0\\uC815\\uB418\\uB294-\\uC5EC\\uB7EC\\uAC00\\uC9C0-\\uD3EC\\uD2B8\\uB4E4\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"NodePort type\\uC758 Service Resource Manifest\\uC5D0\\uC11C \\uC9C0\\uC815\\uB418\\uB294 \\uC5EC\\uB7EC\\uAC00\\uC9C0 \\uD3EC\\uD2B8\\uB4E4\"]}),(0,e.jsxs)(n.ul,{children:[(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"spec.ports[].port\"}),\" \\uC5D0\\uB294 ClusterIP\\uC5D0\\uC11C \\uC218\\uC2E0\\uD560 \\uD3EC\\uD2B8 \\uBC88\\uD638\"]}),(0,e.jsx)(n.li,{children:\"NodePort \\uC11C\\uBE44\\uC2A4\\uB294 ClusterIP \\uC11C\\uBE44\\uC2A4\\uB97C \\uC0DD\\uC131\\uD558\\uC5EC \\uB0B4\\uBD80 \\uD1B5\\uC2E0\\uC744 \\uC704\\uC784\\uD55C\\uB2E4.\"}),(0,e.jsx)(n.li,{children:\"\\uC77C\\uBC18\\uC801\\uC73C\\uB85C port\\uC640 targetPort\\uB294 \\uAC19\\uC740 \\uAC12\\uC73C\\uB85C \\uC9C0\\uC815\\uD558\\uB294 \\uD3B8\\uC774\\uB2E4.\"}),(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"spec.ports[].targetPort\"}),\"\\uC5D0\\uB294 \\uBAA9\\uC801\\uC9C0 \\uCEE8\\uD14C\\uC774\\uB108 \\uD3EC\\uD2B8 \\uBC88\\uD638\"]}),(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"spec.ports[].nodePort\"}),\" \\uC5D0\\uB294 \\uBAA8\\uB4E0 \\uB178\\uB4DC\\uC5D0\\uC11C \\uC774 \\uC11C\\uBE44\\uC2A4\\uB97C \\uC704\\uD574 expose\\uD560 \\uD3EC\\uD2B8\\uBC88\\uD638\\uB97C \\uC9C0\\uC815\\uD55C\\uB2E4.\",(0,e.jsxs)(n.ul,{children:[(0,e.jsx)(n.li,{children:\"nodePort\\uAC00 \\uC9C0\\uC815\\uB418\\uC9C0 \\uC54A\\uC744 \\uACBD\\uC6B0 \\uBE48 \\uD3EC\\uD2B8\\uBC88\\uD638\\uAC00 \\uC790\\uB3D9\\uC73C\\uB85C \\uC120\\uD0DD\\uB41C\\uB2E4.\"}),(0,e.jsx)(n.li,{children:\"\\uB9CE\\uC740 k8s \\uD658\\uACBD(GKE \\uB4F1)\\uC5D0\\uC11C \\uD3EC\\uD2B8\\uBC88\\uD638 \\uBC94\\uC704\\uB85C 30000 ~ 32767 \\uB9CC \\uD5C8\\uC6A9\\uD55C\\uB2E4.\"})]})]})]}),(0,e.jsx)(n.p,{children:\"ClusterIP-ExternalIPs \\uC720\\uD615\\uC740 \\uC9C0\\uC815\\uB41C \\uB178\\uB4DC\\uB9CC \\uD3EC\\uD2B8\\uB97C \\uC678\\uBD80\\uC5D0 expose \\uD558\\uB294 \\uB370 \\uBE44\\uD574 NodePort type\\uC740 \\uD074\\uB7EC\\uC2A4\\uD130 \\uB0B4 \\uBAA8\\uB4E0 Node\\uC5D0\\uC11C \\uB3D9\\uC77C\\uD55C port\\uB97C \\uC77C\\uAD00\\uC801\\uC73C\\uB85C expose \\uD558\\uB294 \\uB370 \\uCC28\\uC774\\uC810\\uC774 \\uC788\\uB2E4.\"}),(0,e.jsxs)(n.p,{children:[\"example\\uC758 \\uC11C\\uBE44\\uC2A4 manifest\\uB85C \\uC0DD\\uC131\\uD55C \\uC11C\\uBE44\\uC2A4\\uB294 \\uD074\\uB7EC\\uC2A4\\uD130 \\uC678\\uBD80 \\uC0AC\\uC6A9\\uC790\\uAC00 \",(0,e.jsx)(n.code,{children:\"spec.ports[].nodePort\"}),\" \\uC778 30080 \\uD3EC\\uD2B8\\uB85C \\uC811\\uC18D\\uD558\\uC5EC \\uB0B4\\uBD80 \\uC8FC\\uC18C\\uC778 spec.ports[].port\\uC758 \\uB124\\uD2B8\\uC6CC\\uD06C\\uB97C \\uC0AC\\uC6A9\\uD574 8080\\uD3EC\\uD2B8\\uB85C \\uC9C4\\uC785\\uD558\\uC5EC pod\\uC758 80\\uD3EC\\uD2B8\\uB85C \\uD1B5\\uC2E0\\uD560 \\uC218 \\uC788\\uAC8C \\uB41C\\uB2E4.\"]}),(0,e.jsx)(n.p,{children:\"nodePort\\uB294 \\uCFE0\\uBC84\\uB124\\uD2F0\\uC2A4\\uC758 LoadBalancer \\uB9AC\\uC18C\\uC2A4\\uC5D0\\uC11C\\uB3C4 \\uC9C0\\uC815\\uD560 \\uC218 \\uC788\\uB2E4.\"}),(0,e.jsxs)(n.h4,{id:\"\\uB2E4\\uB978-\\uD0C0\\uC785\\uACFC-\\uBE44\\uAD50\",children:[(0,e.jsx)(n.a,{href:\"#\\uB2E4\\uB978-\\uD0C0\\uC785\\uACFC-\\uBE44\\uAD50\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\uB2E4\\uB978 \\uD0C0\\uC785\\uACFC \\uBE44\\uAD50\"]}),(0,e.jsxs)(n.ul,{children:[(0,e.jsx)(n.li,{children:\"ClusterIP\\uB294 \\uD074\\uB7EC\\uC2A4\\uD130 \\uB0B4\\uBD80\\uC5D0\\uC11C\\uB9CC \\uC811\\uADFC \\uAC00\\uB2A5\\uD55C \\uC11C\\uBE44\\uC2A4 \\uB9AC\\uC18C\\uC2A4\"}),(0,e.jsx)(n.li,{children:\"ExternalName\\uC740 \\uC678\\uBD80 \\uB9AC\\uC18C\\uC2A4\\uC758 DNS alias \\uB85C \\uB3D9\\uC791\\uD55C\\uB2E4.\"})]}),(0,e.jsxs)(n.h2,{id:\"endpoint-resource\",children:[(0,e.jsx)(n.a,{href:\"#endpoint-resource\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Endpoint Resource\"]}),(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.code,{children:\"EndPoint\"}),\"\\uB294 \\uC11C\\uBE44\\uC2A4\\uAC00 \\uC5F0\\uACB0\\uB418\\uB294 \\uB124\\uD2B8\\uC6CC\\uD06C \\uC5D4\\uB4DC\\uD3EC\\uC778\\uD2B8\\uC774\\uB2E4.\"]}),(0,e.jsx)(n.p,{children:\"\\uC11C\\uBE44\\uC2A4\\uB97C \\uC0DD\\uC131\\uD588\\uC744 \\uB54C \\uD574\\uB2F9 \\uC11C\\uBE44\\uC2A4\\uAC00 \\uC5B4\\uB5A4 \\uC5D4\\uB4DC\\uD3EC\\uC778\\uD2B8\\uB85C \\uC5F0\\uACB0\\uB418\\uB294\\uC9C0 \\uD655\\uC778\\uD560 \\uC218 \\uC788\\uB2E4.\"}),(0,e.jsx)(n.pre,{className:\"language-bash\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-bash\",children:[(0,e.jsx)(n.span,{className:\"code-line\",children:`kubectl get endpoints\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`kubectl get ep\n`})]})}),(0,e.jsx)(n.p,{children:\"Service selector\\uC5D0 \\uB9E4\\uCE6D\\uB418\\uB294 \\uD30C\\uB4DC\\uAC00 \\uC788\\uC73C\\uBA74 IP\\uB4F1\\uC774 \\uD45C\\uC2DC\\uB41C\\uB2E4.\"}),(0,e.jsx)(n.pre,{className:\"language-yaml\",children:(0,e.jsxs)(n.code,{className:\"language-yaml code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"apiVersion\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` v1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"kind\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` Service\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"metadata\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" my\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`service\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"spec\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"type\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` NodePort\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"selector\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"app\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` myapp\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"ports\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` http\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"nodePort\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"30001\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"port\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"80\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"targetPort\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"80\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"protocol\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` TCP\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"---\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"apiVersion\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` v1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"kind\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` Pod\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"metadata\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` web\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"labels\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"app\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` myapp\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"spec\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"containers\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` app\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"image\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` nginx\n`]})]})}),(0,e.jsx)(n.p,{children:\"\\uC704 manifest\\uB97C \\uC801\\uC6A9\\uD558\\uBA74 Endpoint Controller\\uC5D0 \\uC758\\uD574 \\uD30C\\uB4DC\\uC758 \\uC0DD\\uC131\\uC744 \\uAC10\\uC9C0\\uD558\\uACE0 \\uC5D4\\uB4DC\\uD3EC\\uC778\\uD2B8\\uC5D0 Pod\\uC758 IP\\uAC00 \\uCD94\\uAC00\\uB41C\\uB2E4.\"}),(0,e.jsx)(n.p,{children:\"\\uC5D4\\uB4DC\\uD3EC\\uC778\\uD2B8\\uB294 Pod\\uC758 IP\\uB85C \\uB0B4\\uBD80 \\uCEE8\\uD14C\\uC774\\uB108\\uB4E4\\uC758 Port\\uB97C \\uAD6C\\uBD84\\uD574\\uC11C \\uB77C\\uC6B0\\uD305\\uC744 \\uAD6C\\uBD84\\uD558\\uB294 \\uAE30\\uB2A5\\uC774 \\uAE30\\uBCF8\\uC801\\uC778 \\uAE30\\uB2A5\\uC774\\uB2E4.\"}),(0,e.jsx)(n.pre,{className:\"language-bash\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-Bash\",children:[(0,e.jsx)(n.span,{className:\"code-line\",children:`$ kubectl get endpoints\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`NAME         ENDPOINTS                                AGE\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"my-service   \",(0,e.jsx)(n.span,{className:\"token number\",children:\"10.1\"}),`.0.66:80,10.1.0.68:80,10.1.0.69:80   90m\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# \\uC5D4\\uB4DC\\uD3EC\\uC778\\uD2B8 IP\\uC640 Pod IP \\uC77C\\uCE58 \\uD655\\uC778\\uD558\\uAE30\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"kubectl describe endpoints my-service \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"|\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"grep\"}),\" Addresses \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u0026\u0026\"}),` kubectl describe pod web\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`})]})}),(0,e.jsx)(n.p,{children:\"\\uC5D4\\uB4DC\\uD3EC\\uC778\\uD2B8\\uB294 \\uC544\\uB798\\uC758 \\uACBD\\uC6B0 \\uC218\\uB3D9\\uC73C\\uB85C \\uC0DD\\uC131\\uD574\\uC57C \\uB418\\uB294 \\uACBD\\uC6B0\\uAC00 \\uC788\\uB2E4.\"}),(0,e.jsx)(n.p,{children:\"Endpoints\\uB97C \\uC218\\uB3D9\\uC73C\\uB85C \\uC0DD\\uC131\\uD574\\uC57C\\uD558\\uB294 \\uACBD\\uC6B0(\\uB77C\\uBCA8 \\uC140\\uB809\\uD130\\uAC00 \\uC5C6\\uB294 Service\\uB97C \\uC0DD\\uC131\\uD574\\uC57C\\uD558\\uB294 \\uACBD\\uC6B0)\"}),(0,e.jsxs)(n.ul,{children:[(0,e.jsx)(n.li,{children:\"Service\\uB97C \\uD1B5\\uD574 \\uD074\\uB7EC\\uC2A4\\uD130 \\uC678\\uBD80\\uC5D0 \\uC788\\uB294 \\uC11C\\uBC84\\uB85C \\uD2B8\\uB798\\uD53D\\uC744 \\uBCF4\\uB0B4\\uC57C \\uD558\\uB294 \\uACBD\\uC6B0\"}),(0,e.jsx)(n.li,{children:\"\\uD55C Service\\uC5D0\\uC11C \\uB2E4\\uB978 Namespace \\uB610\\uB294 \\uB2E4\\uB978 \\uD074\\uB7EC\\uC2A4\\uD130\\uC758 Service\\uB97C \\uC9C0\\uC815\\uD558\\uB824\\uACE0 \\uD558\\uB294 \\uACBD\\uC6B0\"})]}),(0,e.jsx)(n.pre,{className:\"language-yaml\",children:(0,e.jsxs)(n.code,{className:\"language-yaml code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"apiVersion\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` v1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"kind\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` Service\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"metadata\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" my\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`service\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"spec\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"type\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` NodePort\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"ports\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` http\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"nodePort\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"30001\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"port\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"80\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"targetPort\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"80\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"protocol\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` TCP\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"---\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"apiVersion\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` v1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"kind\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` Endpoints\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"metadata\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" my\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`service\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"subsets\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"addresses\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"ip\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" 52.78.168.73 \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# \\uC678\\uBD80 \\uC6F9 \\uC11C\\uBC84 IP \\uC8FC\\uC18C\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"ports\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` http\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"port\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"80\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# Endpoints\\uC758 metadata.name\\uACFC ports.name\\uC774 Service\\uC640 \\uC77C\\uCE58\\uD574\\uC57C \\uD55C\\uB2E4\"}),`\n`]})]})}),(0,e.jsxs)(n.table,{children:[(0,e.jsx)(n.thead,{children:(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.th,{children:\"\\uC11C\\uBE44\\uC2A4 \\uC885\\uB958\"}),(0,e.jsx)(n.th,{children:\"IP \\uC5D4\\uB4DC\\uD3EC\\uC778\\uD2B8 \\uB0B4\\uC6A9\"})]})}),(0,e.jsxs)(n.tbody,{children:[(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"ClusterIP\"}),(0,e.jsx)(n.td,{children:\"\\uD074\\uB7EC\\uC2A4\\uD130 \\uB0B4\\uBD80\\uC5D0\\uC11C\\uB9CC \\uD1B5\\uC2E0 \\uAC00\\uB2A5\\uD55C \\uAC00\\uC0C1 IP\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"ExternalIP\"}),(0,e.jsx)(n.td,{children:\"\\uD2B9\\uC815 \\uB178\\uB4DC\\uC758 IP \\uC8FC\\uC18C\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"NodePort\"}),(0,e.jsx)(n.td,{children:\"\\uBAA8\\uB4E0 \\uB178\\uB4DC\\uC758 IP \\uC8FC\\uC18C\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"LoadBalancer\"}),(0,e.jsx)(n.td,{children:\"\\uD074\\uB7EC\\uC2A4\\uD130 \\uC678\\uBD80\\uC5D0\\uC11C \\uC81C\\uACF5\\uB418\\uB294 \\uB85C\\uB4DC \\uBC38\\uB7F0\\uC11C\\uC758 \\uAC00\\uC0C1 IP\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"Headless(None)\"}),(0,e.jsx)(n.td,{children:\"Pod\\uC758 IP \\uC8FC\\uC18C\\uB97C \\uC0AC\\uC6A9\\uD55C DNS \\uB77C\\uC6B4\\uB4DC \\uB85C\\uBE48\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"ExternalName\"}),(0,e.jsx)(n.td,{children:\"CNAME\\uC744 \\uC0AC\\uC6A9\\uD55C \\uB290\\uC2A8\\uD55C \\uC5F0\\uACB0 \\uD655\\uBCF4\"})]}),(0,e.jsxs)(n.tr,{children:[(0,e.jsx)(n.td,{children:\"None-Selector\"}),(0,e.jsx)(n.td,{children:\"\\uC6D0\\uD558\\uB294 \\uBAA9\\uC801\\uC9C0 \\uBA64\\uBC84\\uB97C \\uC124\\uC815\\uD560 \\uC218 \\uC788\\uB294 \\uB2E4\\uC591\\uD55C \\uC5D4\\uB4DC\\uD3EC\\uC778\\uD2B8\"})]})]})]}),(0,e.jsxs)(n.h1,{id:\"loadbalancer-type-service\",children:[(0,e.jsx)(n.a,{href:\"#loadbalancer-type-service\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"LoadBalancer type Service\"]}),(0,e.jsx)(n.p,{children:\"\\uC77C\\uBC18\\uC801\\uC73C\\uB85C LoadBalancer\\uB294 Production Level\\uC5D0\\uC11C \\uC0AC\\uC6A9\\uB418\\uB294 \\uC11C\\uBE44\\uC2A4 \\uB9AC\\uC18C\\uC2A4\\uB2E4.\"}),(0,e.jsx)(n.pre,{className:\"language-yaml\",children:(0,e.jsxs)(n.code,{className:\"language-yaml code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"apiVersion\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` v1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"kind\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` Service\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"metadata\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" sample\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`lb\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"spec\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"type\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` LoadBalancer\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"ports\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'http-port'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"protocol\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'TCP'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"port\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"8080\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"targetPort\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"80\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"nodePort\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"30082\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"selector\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"app\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" sample\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`app\n`]})]})}),(0,e.jsx)(n.p,{children:\"spec.ports[].targetPort: \\uBAA9\\uC801\\uC9C0 \\uCEE8\\uD14C\\uC774\\uB108 \\uD3EC\\uD2B8 \\uBC88\\uD638 spec.ports[].port: LoadBalancer\\uC5D0\\uC11C \\uD560\\uB2F9\\uB418\\uB294 \\uAC00\\uC0C1 IP\\uC640 ClusterIP\\uC5D0\\uC11C \\uC218\\uC2E0\\uD560 \\uD3EC\\uD2B8 \\uBC88\\uD638 spec.ports[].nodePort: \\uBAA8\\uB4E0 \\uCFE0\\uBC84\\uB124\\uD2F0\\uC2A4 \\uB178\\uB4DC IP \\uC8FC\\uC18C\\uC5D0\\uC11C \\uC218\\uC2E0\\uD560 \\uD3EC\\uD2B8 \\uBC88\\uD638\"}),(0,e.jsxs)(n.p,{children:[\"\\uCEE4\\uD53C\\uACE0\\uB798 \",(0,e.jsx)(n.a,{href:\"https://coffeewhale.com/k8s/network/2019/05/30/k8s-network-03/\",children:\"https://coffeewhale.com/k8s/network/2019/05/30/k8s-network-03/\"})]})]})}}var b=g;return I;})();\n;return Component;","toc":[{"value":"서비스 리소스의 필요성","url":"#서비스-리소스의-필요성","depth":2},{"value":"ExternalIP","url":"#externalip","depth":2},{"value":"NodePort 서비스","url":"#nodeport-서비스","depth":2},{"value":"NodePort type의 Service Resource Manifest에서 지정되는 여러가지 포트들","url":"#nodeport-type의-service-resource-manifest에서-지정되는-여러가지-포트들","depth":4},{"value":"다른 타입과 비교","url":"#다른-타입과-비교","depth":4},{"value":"Endpoint Resource","url":"#endpoint-resource","depth":2},{"value":"LoadBalancer type Service","url":"#loadbalancer-type-service","depth":1}],"frontMatter":{"readingTime":{"text":"6 min read","minutes":5.755,"time":345300,"words":1151},"slug":"k8s_manifest-Service","fileName":"k8s_manifest-Service.mdx","title":"K8S manifest - Service","date":"2023-05-16T03:03:00.000Z","lastmod":"2023-05-16","tags":["kubernetes"],"draft":false,"summary":"","layout":"PostSimple"}},"authorDetails":[{"readingTime":{"text":"1 min read","minutes":0.155,"time":9300,"words":31},"slug":["default"],"fileName":"default.md","name":"demian11k","avatar":"/static/images/avatar.png","email":"demian11k@gmail.com","github":"https://github.com/demian9k","date":null}],"prev":{"title":"K8S manifest - Deployment","date":"2023-05-15T03:03:00.000Z","lastmod":"2023-05-15","tags":["kubernetes"],"draft":false,"summary":"","layout":"PostSimple","slug":"k8s_manifest-Deployment"},"next":{"title":"K8S manifest - ReplicaSet","date":"2023-05-16T03:03:00.000Z","lastmod":"2023-05-16","tags":["kubernetes"],"draft":false,"summary":"","layout":"PostSimple","slug":"k8s_manifest-ReplicaSet"}},"__N_SSG":true},"page":"/blog/[...slug]","query":{"slug":["k8s_manifest-Service"]},"buildId":"ZrykKxtWiPyMXxUDniMmQ","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>