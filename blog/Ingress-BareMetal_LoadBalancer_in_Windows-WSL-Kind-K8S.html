<!DOCTYPE html><html lang="en" class="scroll-smooth"><head><meta charSet="utf-8"/><script>!function(){try {var d=document.documentElement.classList;d.remove('light','dark');var e=localStorage.getItem('theme');if("system"===e||(!e&&true)){var t="(prefers-color-scheme: dark)",m=window.matchMedia(t);m.media!==t||m.matches?d.add('dark'):d.add('light')}else if(e) d.add(e)}catch(e){}}()</script><meta content="width=device-width, initial-scale=1" name="viewport"/><title>Hands-On Example: Ingress and Bare Metal Load Balancer in Windows-WSL-Kind-K8S</title><meta name="robots" content="follow, index"/><meta name="description" content=""/><meta property="og:url" content="https://demian9k.github.io/blog/Ingress-BareMetal_LoadBalancer_in_Windows-WSL-Kind-K8S"/><meta property="og:type" content="article"/><meta property="og:site_name" content="demian11k studylog"/><meta property="og:description" content=""/><meta property="og:title" content="Hands-On Example: Ingress and Bare Metal Load Balancer in Windows-WSL-Kind-K8S"/><meta property="og:image" content="https://demian9k.github.io/static/images/twitter-card.png"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site"/><meta name="twitter:title" content="Hands-On Example: Ingress and Bare Metal Load Balancer in Windows-WSL-Kind-K8S"/><meta name="twitter:description" content=""/><meta name="twitter:image" content="https://demian9k.github.io/static/images/twitter-card.png"/><link rel="canonical" href="https://demian9k.github.io/blog/Ingress-BareMetal_LoadBalancer_in_Windows-WSL-Kind-K8S"/><meta property="article:published_time" content="2023-05-12T03:03:00.000Z"/><meta property="article:modified_time" content="2023-05-12T00:00:00.000Z"/><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "Article",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://demian9k.github.io/blog/Ingress-BareMetal_LoadBalancer_in_Windows-WSL-Kind-K8S"
  },
  "headline": "Hands-On Example: Ingress and Bare Metal Load Balancer in Windows-WSL-Kind-K8S",
  "image": [
    {
      "@type": "ImageObject",
      "url": "https://demian9k.github.io/static/images/twitter-card.png"
    }
  ],
  "datePublished": "2023-05-12T03:03:00.000Z",
  "dateModified": "2023-05-12T00:00:00.000Z",
  "author": {
    "@type": "Person",
    "name": "demian11k"
  },
  "publisher": {
    "@type": "Organization",
    "name": "demian11k",
    "logo": {
      "@type": "ImageObject",
      "url": "https://demian9k.github.io/static/images/logo.png"
    }
  },
  "description": ""
}</script><meta name="next-head-count" content="21"/><link rel="apple-touch-icon" sizes="76x76" href="/static/favicons/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/static/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/static/favicons/favicon-16x16.png"/><link rel="manifest" href="/static/favicons/site.webmanifest"/><link rel="mask-icon" href="/static/favicons/safari-pinned-tab.svg" color="#5bbad5"/><meta name="msapplication-TileColor" content="#000000"/><meta name="theme-color" media="(prefers-color-scheme: light)" content="#fff"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#000"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><link rel="preload" href="/_next/static/css/9da9539fac7f1ee9.css" as="style"/><link rel="stylesheet" href="/_next/static/css/9da9539fac7f1ee9.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-1667cddafac2eea3.js" defer=""></script><script src="/_next/static/chunks/main-bfc1a3b6dd286443.js" defer=""></script><script src="/_next/static/chunks/pages/_app-e097d8b875e64e46.js" defer=""></script><script src="/_next/static/chunks/140-77b8ab5a870d524b.js" defer=""></script><script src="/_next/static/chunks/574-40cb695d6b511631.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5B...slug%5D-48fd063b43fdbe6a.js" defer=""></script><script src="/_next/static/_epZdIX6LUAs-N565XCV9/_buildManifest.js" defer=""></script><script src="/_next/static/_epZdIX6LUAs-N565XCV9/_ssgManifest.js" defer=""></script><script src="/_next/static/_epZdIX6LUAs-N565XCV9/_middlewareManifest.js" defer=""></script></head><body class="bg-white text-black antialiased dark:bg-gray-900 dark:text-white"><div id="__next" data-reactroot=""><div class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><div class="flex h-screen flex-col justify-between"><header class="flex items-center justify-between py-10"><div><a aria-label="demian11k.studylog" href="/"><div class="flex items-center justify-between"><div class="mr-3"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%2740%27%20height=%2740%27/%3e"/></span><img alt="A" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="rounded-full object-cover object-center md:h-36 lg:h-48" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="A" srcSet="/_next/static/media/demian_avatar_logo.c12b9855.png?imwidth=48 1x, /_next/static/media/demian_avatar_logo.c12b9855.png?imwidth=96 2x" src="/_next/static/media/demian_avatar_logo.c12b9855.png?imwidth=96" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="rounded-full object-cover object-center md:h-36 lg:h-48" loading="lazy"/></noscript></span></div><div class="hidden h-6 text-2xl font-semibold sm:block">demian11k.studylog</div></div></a></div><div class="flex items-center text-base leading-5"><div class="hidden sm:block"><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/blog">Blog</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/tags">Tags</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/projects">Projects</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/about">About</a></div><button aria-label="Toggle Dark Mode" type="button" class="ml-1 mr-1 h-8 w-8 rounded p-1 sm:ml-4"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg></button><div class="sm:hidden"><button type="button" class="ml-1 mr-1 h-8 w-8 rounded py-1" aria-label="Toggle Menu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg></button><div class="fixed top-0 left-0 z-10 h-full w-full transform bg-gray-200 opacity-95 duration-300 ease-in-out dark:bg-gray-800 translate-x-full"><div class="flex justify-end"><button type="button" class="mr-5 mt-11 h-8 w-8 rounded" aria-label="Toggle Menu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><nav class="fixed mt-8 h-full"><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/blog">Blog</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/tags">Tags</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/projects">Projects</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/about">About</a></div></nav></div></div></div></header><main class="mb-auto"><div class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><div class="fixed right-8 bottom-8 hidden flex-col gap-3 md:hidden"><button aria-label="Scroll To Top" type="button" class="rounded-full bg-gray-200 p-2 text-gray-500 transition-all hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-400 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><article><div><header><div class="space-y-1 border-b border-gray-200 pb-10 text-center dark:border-gray-700"><dl><div><dt class="sr-only">Published on</dt><dd class="text-base font-medium leading-6 text-gray-500 dark:text-gray-400"><time dateTime="2023-05-12T03:03:00.000Z">May 12, 2023</time></dd></div></dl><div><h1 class="text-3xl font-extrabold leading-9 tracking-tight text-gray-900 dark:text-gray-100 sm:text-4xl sm:leading-10 md:text-5xl md:leading-14">Hands-On Example: Ingress and Bare Metal Load Balancer in Windows-WSL-Kind-K8S</h1></div></div></header><div class="divide-y divide-gray-200 pb-8 dark:divide-gray-700 xl:divide-y-0 " style="grid-template-rows:auto 1fr"><div class="divide-y divide-gray-200 dark:divide-gray-700 xl:col-span-3 xl:row-span-2 xl:pb-0"><div class="prose max-w-none pt-10 pb-8 dark:prose-dark"><p>HOST: windows11 WSL2: ubuntu 22.04</p><p>현재 windows host와 wsl-ubuntu에 할당된 nic 주소들은 아래와 같다.</p><p>아래 예제에서는 wsl-ubuntu의 eth0(172.21.103.48) nic를 통해 host와 wsl이 통신할 수 있게 된다.</p><div class="relative"><pre><code class="language-bash code-highlight"><span class="code-line"><span class="token comment"># windows host</span>
</span><span class="code-line"><span class="token comment"># windows host에서 wsl이 활성화될 때 wsl과 통신하기 위해 아래 VNIC을 생성한다</span>
</span><span class="code-line">
</span><span class="code-line">$ <span class="token function">ifconfig</span>
</span><span class="code-line">이더넷 어댑터 vEthernet <span class="token punctuation">(</span>WSL<span class="token punctuation">)</span>:
</span><span class="code-line">   연결별 DNS 접미사. <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">:</span>
</span><span class="code-line">   설명. <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">:</span> Hyper-V Virtual Ethernet Adapter <span class="token comment">#2</span>
</span><span class="code-line">   <span class="token punctuation">..</span>.
</span><span class="code-line">   IPv4 주소 <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">:</span> <span class="token number">172.21</span>.96.1<span class="token punctuation">(</span>기본 설정<span class="token punctuation">)</span>
</span><span class="code-line">   서브넷 마스크 <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">:</span> <span class="token number">255.255</span>.240.0
</span><span class="code-line">   기본 게이트웨이 <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span> <span class="token builtin class-name">:</span>
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line"><span class="token comment"># wsl-ubuntu</span>
</span><span class="code-line"><span class="token comment"># 172.21.96.1/20 대역에 속한 ip가 할당된다.</span>
</span><span class="code-line">$ <span class="token function">ip</span> addr
</span><span class="code-line">eth0: <span class="token variable assign-left">flags</span><span class="token operator">=</span><span class="token number">416</span><span class="token operator"><span class="token file-descriptor important">3</span>&lt;</span>UP,BROADCAST,RUNNING,MULTICAST<span class="token operator">&gt;</span>  mtu <span class="token number">1500</span>
</span><span class="code-line">        inet <span class="token number">172.21</span>.103.48  netmask <span class="token number">255.255</span>.240.0  broadcast <span class="token number">172.21</span>.111.255
</span><span class="code-line">        inet6 fe80::215:5dff:fe16:fc8d  prefixlen <span class="token number">64</span>  scopeid 0x2<span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>link<span class="token operator">&gt;</span>
</span><span class="code-line">        ether 00:15:5d:16:fc:8d  txqueuelen <span class="token number">1000</span>  <span class="token punctuation">(</span>Ethernet<span class="token punctuation">)</span>
</span><span class="code-line">        RX packets <span class="token number">1226853</span>  bytes <span class="token number">1592700826</span> <span class="token punctuation">(</span><span class="token number">1.5</span> GB<span class="token punctuation">)</span>
</span><span class="code-line">        RX errors <span class="token number">0</span>  dropped <span class="token number">0</span>  overruns <span class="token number">0</span>  frame <span class="token number">0</span>
</span><span class="code-line">        TX packets <span class="token number">193048</span>  bytes <span class="token number">15357327</span> <span class="token punctuation">(</span><span class="token number">15.3</span> MB<span class="token punctuation">)</span>
</span><span class="code-line">        TX errors <span class="token number">0</span>  dropped <span class="token number">0</span> overruns <span class="token number">0</span>  carrier <span class="token number">0</span>  collisions <span class="token number">0</span>
</span></code></pre></div><h3 id="install-docker"><a href="#install-docker" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>install docker</h3><p>ubuntu에 container를 제공할 수 있는 docker를 설치한다.</p><p><a target="_blank" rel="noopener noreferrer" href="https://docs.docker.com/desktop/networking/">https://docs.docker.com/desktop/networking/</a> 에 따르면 docker desktop은 windows host, linux container 환경일 때 port-forwarding 없이 host to container 통신이 가능하지 않다.</p><p>wsl에 직접 docker를 설치하면 가능해진다.</p><div class="relative"><pre><code class="language-bash code-highlight"><span class="code-line"><span class="token comment">#wsl-ubuntu</span>
</span><span class="code-line"><span class="token function">curl</span> -fsSL https://get.docker.com -o get-docker.sh
</span><span class="code-line"><span class="token function">sudo</span> <span class="token function">sh</span> get-docker.sh
</span></code></pre></div><p>docker 기본 설치시 기본 bridge 네트워크가 생성된다. 그러나 kind는 기본값으로 설치시 자체적인 bridge network를 생성하므로 이 네트워크를 사용하지는 않는다.</p><div class="relative"><pre><code class="language-bash code-highlight"><span class="code-line">$ <span class="token function">ifconfig</span>
</span><span class="code-line">
</span><span class="code-line">docker0: <span class="token variable assign-left">flags</span><span class="token operator">=</span><span class="token number">416</span><span class="token operator"><span class="token file-descriptor important">3</span>&lt;</span>UP,BROADCAST,RUNNING,MULTICAST<span class="token operator">&gt;</span>  mtu <span class="token number">1500</span>
</span><span class="code-line">        inet <span class="token number">172.17</span>.0.1  netmask <span class="token number">255.255</span>.0.0  broadcast <span class="token number">172.17</span>.255.255
</span><span class="code-line">        inet6 fe80::42:2eff:fe24:522d  prefixlen <span class="token number">64</span>  scopeid 0x2<span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>link<span class="token operator">&gt;</span>
</span><span class="code-line">        ether 02:42:2e:24:52:2d  txqueuelen <span class="token number">0</span>  <span class="token punctuation">(</span>Ethernet<span class="token punctuation">)</span>
</span><span class="code-line">        RX packets <span class="token number">59</span>  bytes <span class="token number">25381</span> <span class="token punctuation">(</span><span class="token number">25.3</span> KB<span class="token punctuation">)</span>
</span><span class="code-line">        RX errors <span class="token number">0</span>  dropped <span class="token number">0</span>  overruns <span class="token number">0</span>  frame <span class="token number">0</span>
</span><span class="code-line">        TX packets <span class="token number">68</span>  bytes <span class="token number">6378</span> <span class="token punctuation">(</span><span class="token number">6.3</span> KB<span class="token punctuation">)</span>
</span><span class="code-line">        TX errors <span class="token number">0</span>  dropped <span class="token number">0</span> overruns <span class="token number">0</span>  carrier <span class="token number">0</span>  collisions <span class="token number">0</span>
</span></code></pre></div><h3 id="install-kind"><a href="#install-kind" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>install kind</h3><div class="relative"><pre><code class="language-bash code-highlight"><span class="code-line"><span class="token comment"># wsl-ubuntu</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment"># For AMD64 / x86_64</span>
</span><span class="code-line">$ <span class="token punctuation">[</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">uname</span> -m<span class="token variable">)</span></span> <span class="token operator">=</span> x86_64 <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token function">curl</span> -Lo ./kind https://kind.sigs.k8s.io/dl/v0.20.0/kind-linux-amd64
</span><span class="code-line"><span class="token comment"># For ARM64</span>
</span><span class="code-line">$ <span class="token punctuation">[</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">uname</span> -m<span class="token variable">)</span></span> <span class="token operator">=</span> aarch64 <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token function">curl</span> -Lo ./kind https://kind.sigs.k8s.io/dl/v0.20.0/kind-linux-arm64
</span><span class="code-line">$ <span class="token function">chmod</span> +x ./kind
</span><span class="code-line">$ <span class="token function">sudo</span> <span class="token function">mv</span> ./kind /usr/local/bin/kind
</span></code></pre></div><p>kind-config.yaml</p><div class="relative"><pre><code class="code-highlight language-yaml"><span class="code-line"><span class="token atrule key">kind</span><span class="token punctuation">:</span> Cluster
</span><span class="code-line"><span class="token atrule key">apiVersion</span><span class="token punctuation">:</span> kind.x<span class="token punctuation">-</span>k8s.io/v1alpha4
</span><span class="code-line"><span class="token atrule key">networking</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token comment"># WARNING: It is _strongly_ recommended that you keep this the default</span>
</span><span class="code-line">  <span class="token comment"># (127.0.0.1) for security reasons. However it is possible to change this.</span>
</span><span class="code-line">  <span class="token atrule key">apiServerAddress</span><span class="token punctuation">:</span> <span class="token string">&#x27;127.0.0.1&#x27;</span>
</span><span class="code-line">  <span class="token comment"># By default the API server listens on a random open port.</span>
</span><span class="code-line">  <span class="token comment"># You may choose a specific port but probably don&#x27;t need to in most cases.</span>
</span><span class="code-line">  <span class="token comment"># Using a random port makes it easier to spin up multiple clusters.</span>
</span><span class="code-line">  <span class="token atrule key">apiServerPort</span><span class="token punctuation">:</span> <span class="token number">6443</span>
</span><span class="code-line"><span class="token atrule key">nodes</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token punctuation">-</span> <span class="token atrule key">role</span><span class="token punctuation">:</span> control<span class="token punctuation">-</span>plane
</span><span class="code-line">    <span class="token atrule key">extraPortMappings</span><span class="token punctuation">:</span>
</span><span class="code-line">      <span class="token punctuation">-</span> <span class="token atrule key">containerPort</span><span class="token punctuation">:</span> <span class="token number">80</span>
</span><span class="code-line">        <span class="token atrule key">hostPort</span><span class="token punctuation">:</span> <span class="token number">8080</span>
</span><span class="code-line">        <span class="token atrule key">protocol</span><span class="token punctuation">:</span> TCP
</span><span class="code-line">        <span class="token atrule key">listenAddress</span><span class="token punctuation">:</span> 127.0.0.1
</span><span class="code-line">      <span class="token punctuation">-</span> <span class="token atrule key">containerPort</span><span class="token punctuation">:</span> <span class="token number">443</span>
</span><span class="code-line">        <span class="token atrule key">hostPort</span><span class="token punctuation">:</span> <span class="token number">9000</span>
</span><span class="code-line">        <span class="token atrule key">protocol</span><span class="token punctuation">:</span> TCP
</span><span class="code-line">        <span class="token atrule key">listenAddress</span><span class="token punctuation">:</span> 127.0.0.1
</span><span class="code-line">  <span class="token punctuation">-</span> <span class="token atrule key">role</span><span class="token punctuation">:</span> worker
</span><span class="code-line">  <span class="token punctuation">-</span> <span class="token atrule key">role</span><span class="token punctuation">:</span> worker
</span></code></pre></div><div class="relative"><pre><code class="language-bash code-highlight"><span class="code-line"><span class="token comment"># wsl-ubuntu</span>
</span><span class="code-line">$ kind create cluster --config kind-config.yaml
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">### kubectl 설치</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">#### wsl에 kubectl 설치</span>
</span><span class="code-line">
</span><span class="code-line">kind의 control-plane node에 접근하면 kubectl을 사용 가능하지만 여러모로 불편한 점이 있으므로
</span><span class="code-line">wsl-ubuntu에서 kubectl을 사용하기 위해 설정한다.
</span><span class="code-line">```bash
</span><span class="code-line"><span class="token comment"># wsl-ubuntu</span>
</span><span class="code-line"><span class="token function">curl</span> -LO <span class="token string">&quot;https://dl.k8s.io/release/<span class="token variable"><span class="token variable">$(</span><span class="token function">curl</span> -L -s https://dl.k8s.io/release/stable.txt<span class="token variable">)</span></span>/bin/linux/amd64/kubectl&quot;</span>
</span><span class="code-line"><span class="token function">sudo</span> <span class="token function">install</span> -o demian -g demian -m 0755 kubectl /usr/local/bin/kubectl
</span><span class="code-line">
</span><span class="code-line"><span class="token comment"># install 이후 /root/.kube 설치되면 sudo를 붙여야 할 수 있으므로</span>
</span><span class="code-line"><span class="token comment"># kube config를 user home으로 이동시킨다.</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token function">sudo</span> <span class="token function">cp</span> -r /root/.kube <span class="token constant environment">$HOME</span>/.kube
</span><span class="code-line"><span class="token function">sudo</span> <span class="token function">chown</span> -R <span class="token constant environment">$USER</span> <span class="token constant environment">$HOME</span>/.kube
</span><span class="code-line">
</span></code></pre></div><h4 id="windowshost에-kubeconfig-복사"><a href="#windowshost에-kubeconfig-복사" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>windows(host)에 kubeconfig 복사</h4><p>windows host에서 kind cluster에 접근하기 위해 ubuntu에서 kind k8s cluster를 만들 때 생성되는 kube config를 host로 복사한다. (kubectl 및 OpenLens 등으로 접근 가능)</p><div class="relative"><pre><code class="language-bash code-highlight"><span class="code-line"><span class="token comment"># wsl-ubuntu</span>
</span><span class="code-line"><span class="token function">cp</span> /mnt/c/Users/<span class="token constant environment">$USER</span>/.kube/config /home/<span class="token constant environment">$HOME</span>/.kube/config
</span></code></pre></div><h1 id="containerk8s-node-에-할당된-ip-확인"><a href="#containerk8s-node-에-할당된-ip-확인" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>container(K8S node) 에 할당된 ip 확인,</h1><div class="relative"><pre><code class="language-bash code-highlight"><span class="code-line">$ kubectl get nodes -o wide
</span><span class="code-line">
</span><span class="code-line"><span class="token comment"># wsl-ubuntu</span>
</span><span class="code-line">NAME                 STATUS   ROLES           AGE     VERSION   INTERNAL-IP   EXTERNAL-IP   OS-IMAGE                         KERNEL-VERSION                      CONTAINER-RUNTIME
</span><span class="code-line">kind-control-plane   Ready    control-plane   3h55m   v1.27.3   <span class="token number">172.18</span>.0.2    <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>        Debian GNU/Linux <span class="token number">11</span> <span class="token punctuation">(</span>bullseye<span class="token punctuation">)</span>   <span class="token number">5.15</span>.90.1-microsoft-standard-WSL2   containerd://1.7.1
</span><span class="code-line">kind-worker          Ready    <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>          3h55m   v1.27.3   <span class="token number">172.18</span>.0.3    <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>        Debian GNU/Linux <span class="token number">11</span> <span class="token punctuation">(</span>bullseye<span class="token punctuation">)</span>   <span class="token number">5.15</span>.90.1-microsoft-standard-WSL2   containerd://1.7.1
</span><span class="code-line">kind-worker2         Ready    <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>          3h55m   v1.27.3   <span class="token number">172.18</span>.0.4    <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>        Debian GNU/Linux <span class="token number">11</span> <span class="token punctuation">(</span>bullseye<span class="token punctuation">)</span>   <span class="token number">5.15</span>.90.1-microsoft-standard-WSL2   containerd://1.7.1
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line"><span class="token comment"># docker에서 kind가 사용중인 container network 정보 확인하기</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">#kind cluster 생성시 container사이 통신을 위해 docker의 bridge 네트워크가 생성되며</span>
</span><span class="code-line"><span class="token comment">#기본적으로 kind라는 이름을 가진다.</span>
</span><span class="code-line">$ docker network <span class="token function">ls</span>
</span><span class="code-line">NETWORK ID     NAME                      DRIVER    SCOPE
</span><span class="code-line">fa9ea33b4b04   <span class="token function">host</span>                      <span class="token function">host</span>      <span class="token builtin class-name">local</span>
</span><span class="code-line">f62034f53c1a   kind                      bridge    <span class="token builtin class-name">local</span>
</span><span class="code-line">
</span><span class="code-line">$ docker inspect network kind
</span></code></pre></div><div class="relative"><pre><code class="code-highlight language-json"><span class="code-line"><span class="token punctuation">[</span>
</span><span class="code-line">  <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;kind&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;Id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;7130bee69dd1a7e566dc15f1de9017a005d82c51597548b278780ea11f1b52df&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;Created&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2023-08-04T09:48:46.934534908+09:00&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;Scope&quot;</span><span class="token operator">:</span> <span class="token string">&quot;local&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;Driver&quot;</span><span class="token operator">:</span> <span class="token string">&quot;bridge&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;EnableIPv6&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;IPAM&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token property">&quot;Driver&quot;</span><span class="token operator">:</span> <span class="token string">&quot;default&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token property">&quot;Options&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token property">&quot;Config&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
</span><span class="code-line">        <span class="token punctuation">{</span>
</span><span class="code-line">          <span class="token property">&quot;Subnet&quot;</span><span class="token operator">:</span> <span class="token string">&quot;172.18.0.0/16&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">          <span class="token property">&quot;Gateway&quot;</span><span class="token operator">:</span> <span class="token string">&quot;172.18.0.1&quot;</span>
</span><span class="code-line">        <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token punctuation">{</span>
</span><span class="code-line">          <span class="token property">&quot;Subnet&quot;</span><span class="token operator">:</span> <span class="token string">&quot;fc00:f853:ccd:e793::/64&quot;</span>
</span><span class="code-line">        <span class="token punctuation">}</span>
</span><span class="code-line">      <span class="token punctuation">]</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;Internal&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;Attachable&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;Ingress&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;ConfigFrom&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token property">&quot;Network&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;ConfigOnly&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;Containers&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token property">&quot;6590a32dd8178e465063b19fd94dc8b26932a6a1d6437d3927b13b6fe7e68cc7&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;kind-worker2&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token property">&quot;EndpointID&quot;</span><span class="token operator">:</span> <span class="token string">&quot;66dd147435ba2def40896371b7731e90958ba5d78086b3b5f5f52d27d6e771dc&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token property">&quot;MacAddress&quot;</span><span class="token operator">:</span> <span class="token string">&quot;02:42:ac:12:00:04&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token property">&quot;IPv4Address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;172.18.0.4/16&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token property">&quot;IPv6Address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;fc00:f853:ccd:e793::4/64&quot;</span>
</span><span class="code-line">      <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token property">&quot;ab200dc169e932f057bfe732f36317aab2f3a589d51a1cb6c1e21b7e1ac25175&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;kind-control-plane&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token property">&quot;EndpointID&quot;</span><span class="token operator">:</span> <span class="token string">&quot;817a449d55bb6cad3377baeaf3ae4d8106c398c3a1023561a217a6885d1b46ac&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token property">&quot;MacAddress&quot;</span><span class="token operator">:</span> <span class="token string">&quot;02:42:ac:12:00:02&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token property">&quot;IPv4Address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;172.18.0.2/16&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token property">&quot;IPv6Address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;fc00:f853:ccd:e793::2/64&quot;</span>
</span><span class="code-line">      <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token property">&quot;f34fb47a71a57d434a427680df9c69ba932c7996bcf085bb93f50ae53f7c1749&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;kind-worker&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token property">&quot;EndpointID&quot;</span><span class="token operator">:</span> <span class="token string">&quot;09396b5bf5025ce975667833bc3f8eb8d4a3f0cb4b05be812b562da3474a337f&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token property">&quot;MacAddress&quot;</span><span class="token operator">:</span> <span class="token string">&quot;02:42:ac:12:00:03&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token property">&quot;IPv4Address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;172.18.0.3/16&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token property">&quot;IPv6Address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;fc00:f853:ccd:e793::3/64&quot;</span>
</span><span class="code-line">      <span class="token punctuation">}</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;Options&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token property">&quot;com.docker.network.bridge.enable_ip_masquerade&quot;</span><span class="token operator">:</span> <span class="token string">&quot;true&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token property">&quot;com.docker.network.driver.mtu&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1500&quot;</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;Labels&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">]</span>
</span></code></pre></div><p>wsl-ubuntu와 kind node container가 통신할 수 있게 bridge NIC가 생성된다.</p><div class="relative"><pre><code class="language-bash code-highlight"><span class="code-line">$ <span class="token function">ifconfig</span>
</span><span class="code-line">
</span><span class="code-line">br-7130bee69dd1: <span class="token variable assign-left">flags</span><span class="token operator">=</span><span class="token number">416</span><span class="token operator"><span class="token file-descriptor important">3</span>&lt;</span>UP,BROADCAST,RUNNING,MULTICAST<span class="token operator">&gt;</span>  mtu <span class="token number">1500</span>
</span><span class="code-line">        inet <span class="token number">172.18</span>.0.1  netmask <span class="token number">255.255</span>.0.0  broadcast <span class="token number">172.18</span>.255.255
</span><span class="code-line">        inet6 fc00:f853:ccd:e793::1  prefixlen <span class="token number">64</span>  scopeid 0x<span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>global<span class="token operator">&gt;</span>
</span><span class="code-line">        inet6 fe80::1  prefixlen <span class="token number">64</span>  scopeid 0x2<span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>link<span class="token operator">&gt;</span>
</span><span class="code-line">        inet6 fe80::42:f9ff:feef:ea41  prefixlen <span class="token number">64</span>  scopeid 0x2<span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>link<span class="token operator">&gt;</span>
</span><span class="code-line">        ether 02:42:f9:ef:ea:41  txqueuelen <span class="token number">0</span>  <span class="token punctuation">(</span>Ethernet<span class="token punctuation">)</span>
</span><span class="code-line">        RX packets <span class="token number">109883</span>  bytes <span class="token number">13379612</span> <span class="token punctuation">(</span><span class="token number">13.3</span> MB<span class="token punctuation">)</span>
</span><span class="code-line">        RX errors <span class="token number">0</span>  dropped <span class="token number">0</span>  overruns <span class="token number">0</span>  frame <span class="token number">0</span>
</span><span class="code-line">        TX packets <span class="token number">136401</span>  bytes <span class="token number">850557312</span> <span class="token punctuation">(</span><span class="token number">850.5</span> MB<span class="token punctuation">)</span>
</span><span class="code-line">        TX errors <span class="token number">0</span>  dropped <span class="token number">0</span> overruns <span class="token number">0</span>  carrier <span class="token number">0</span>  collisions <span class="token number">0</span>
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line">$ brctl show
</span><span class="code-line">
</span><span class="code-line">bridge name     bridge <span class="token function">id</span>               STP enabled     interfaces
</span><span class="code-line">br-7130bee69dd1         <span class="token number">8000</span>.0242f9efea41       no              veth101f980
</span><span class="code-line">                                                       veth1382ea2
</span></code></pre></div><h3 id="kind-cluster-통신-테스트"><a href="#kind-cluster-통신-테스트" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>kind cluster 통신 테스트</h3><ol><li>test deployment, nodeport service 설치, test</li><li>Apply Ingress-Controller, LoadBalancer</li><li>Apply L2 MetalLB CustomResources</li></ol><div class="relative"><pre><code class="code-highlight language-yaml"><span class="code-line">kubectl apply <span class="token punctuation">-</span>f <span class="token punctuation">-</span> &lt;&lt;EOF
</span><span class="code-line"><span class="token atrule key">apiVersion</span><span class="token punctuation">:</span> apps/v1
</span><span class="code-line"><span class="token atrule key">kind</span><span class="token punctuation">:</span> Deployment
</span><span class="code-line"><span class="token atrule key">metadata</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">name</span><span class="token punctuation">:</span> hello<span class="token punctuation">-</span>world
</span><span class="code-line"><span class="token atrule key">spec</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">selector</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token atrule key">matchLabels</span><span class="token punctuation">:</span>
</span><span class="code-line">      <span class="token atrule key">run</span><span class="token punctuation">:</span> load<span class="token punctuation">-</span>balancer<span class="token punctuation">-</span>example
</span><span class="code-line">  <span class="token atrule key">replicas</span><span class="token punctuation">:</span> <span class="token number">2</span>
</span><span class="code-line">  <span class="token atrule key">template</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token atrule key">metadata</span><span class="token punctuation">:</span>
</span><span class="code-line">      <span class="token atrule key">labels</span><span class="token punctuation">:</span>
</span><span class="code-line">        <span class="token atrule key">run</span><span class="token punctuation">:</span> load<span class="token punctuation">-</span>balancer<span class="token punctuation">-</span>example
</span><span class="code-line">    <span class="token atrule key">spec</span><span class="token punctuation">:</span>
</span><span class="code-line">      <span class="token atrule key">containers</span><span class="token punctuation">:</span>
</span><span class="code-line">        <span class="token punctuation">-</span> <span class="token atrule key">name</span><span class="token punctuation">:</span> hello<span class="token punctuation">-</span>world
</span><span class="code-line">          <span class="token atrule key">image</span><span class="token punctuation">:</span> gcr.io/google<span class="token punctuation">-</span>samples/node<span class="token punctuation">-</span>hello<span class="token punctuation">:</span><span class="token number">1.0</span> <span class="token comment">#이미지는 /로 요청했을 때 &quot;Hello Kubernetes&quot; 문자열을 응답하는 서버이다.</span>
</span><span class="code-line">          <span class="token atrule key">ports</span><span class="token punctuation">:</span>
</span><span class="code-line">            <span class="token punctuation">-</span> <span class="token atrule key">containerPort</span><span class="token punctuation">:</span> <span class="token number">8080</span>
</span><span class="code-line">              <span class="token atrule key">protocol</span><span class="token punctuation">:</span> TCP
</span><span class="code-line">EOF
</span></code></pre></div><div class="relative"><pre><code class="code-highlight language-yaml"><span class="code-line">kubectl apply <span class="token punctuation">-</span>f <span class="token punctuation">-</span> &lt;&lt;EOF
</span><span class="code-line"><span class="token atrule key">apiVersion</span><span class="token punctuation">:</span> v1
</span><span class="code-line"><span class="token atrule key">kind</span><span class="token punctuation">:</span> Service
</span><span class="code-line"><span class="token atrule key">metadata</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">name</span><span class="token punctuation">:</span> example<span class="token punctuation">-</span>service
</span><span class="code-line">  <span class="token atrule key">namespace</span><span class="token punctuation">:</span> default
</span><span class="code-line"><span class="token atrule key">spec</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">ports</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token punctuation">-</span> <span class="token atrule key">nodePort</span><span class="token punctuation">:</span> <span class="token number">31349</span>
</span><span class="code-line">      <span class="token atrule key">port</span><span class="token punctuation">:</span> <span class="token number">8080</span>
</span><span class="code-line">      <span class="token atrule key">protocol</span><span class="token punctuation">:</span> TCP
</span><span class="code-line">      <span class="token atrule key">targetPort</span><span class="token punctuation">:</span> <span class="token number">8080</span>
</span><span class="code-line">  <span class="token atrule key">selector</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token atrule key">run</span><span class="token punctuation">:</span> load<span class="token punctuation">-</span>balancer<span class="token punctuation">-</span>example
</span><span class="code-line">  <span class="token atrule key">type</span><span class="token punctuation">:</span> NodePort
</span><span class="code-line">EOF
</span><span class="code-line">
</span><span class="code-line"><span class="token comment"># loadbalancer로 working 하는지 확인하기</span>
</span><span class="code-line">kubectl apply <span class="token punctuation">-</span>f <span class="token punctuation">-</span> &lt;&lt;EOF
</span><span class="code-line"><span class="token atrule key">apiVersion</span><span class="token punctuation">:</span> v1
</span><span class="code-line"><span class="token atrule key">kind</span><span class="token punctuation">:</span> Service
</span><span class="code-line"><span class="token atrule key">metadata</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">name</span><span class="token punctuation">:</span> example<span class="token punctuation">-</span>service
</span><span class="code-line"><span class="token atrule key">spec</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">type</span><span class="token punctuation">:</span> LoadBalancer
</span><span class="code-line">  <span class="token atrule key">ports</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token punctuation">-</span> <span class="token atrule key">name</span><span class="token punctuation">:</span> <span class="token string">&quot;http-port&quot;</span>
</span><span class="code-line">      <span class="token atrule key">protocol</span><span class="token punctuation">:</span> TCP
</span><span class="code-line">      <span class="token atrule key">port</span><span class="token punctuation">:</span> <span class="token number">8080</span>
</span><span class="code-line">      <span class="token atrule key">targetPort</span><span class="token punctuation">:</span> <span class="token number">8080</span>
</span><span class="code-line">  <span class="token atrule key">selector</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token atrule key">run</span><span class="token punctuation">:</span> load<span class="token punctuation">-</span>balancer<span class="token punctuation">-</span>example
</span><span class="code-line">EOF
</span></code></pre></div><h4><a href="#" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a></h4><div class="relative"><pre><code class="language-bash code-highlight"><span class="code-line"><span class="token comment"># wsl-ubuntu</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment"># deploy 확인</span>
</span><span class="code-line">kubectl get deploy -o wide
</span><span class="code-line">NAME          READY   UP-TO-DATE   AVAILABLE   AGE    CONTAINERS    IMAGES                                 SELECTOR
</span><span class="code-line">hello-world   <span class="token number">2</span>/2     <span class="token number">2</span>            <span class="token number">2</span>           158m   hello-world   gcr.io/google-samples/node-hello:1.0   <span class="token variable assign-left">run</span><span class="token operator">=</span>load-balancer-example
</span><span class="code-line">
</span><span class="code-line"><span class="token comment"># deploy 확인</span>
</span><span class="code-line">kubectl get pods -o wide
</span><span class="code-line">NAME                           READY   STATUS    RESTARTS   AGE    IP           NODE           NOMINATED NODE   READINESS GATES
</span><span class="code-line">hello-world-7dc9558f6d-5x62v   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          156m   <span class="token number">10.244</span>.2.2   kind-worker2   <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>           <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>
</span><span class="code-line">hello-world-7dc9558f6d-zr5jd   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          156m   <span class="token number">10.244</span>.1.2   kind-worker    <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>           <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment"># svc에서 node port 확인</span>
</span><span class="code-line">kubectl get svc -o wide
</span><span class="code-line">NAME              TYPE        CLUSTER-IP      EXTERNAL-IP   PORT<span class="token punctuation">(</span>S<span class="token punctuation">)</span>          AGE     SELECTOR
</span><span class="code-line">example-service   NodePort    <span class="token number">10.96</span>.159.239   <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>        <span class="token number">8080</span>:31349/TCP   156m    <span class="token variable assign-left">run</span><span class="token operator">=</span>load-balancer-example
</span><span class="code-line">kubernetes        ClusterIP   <span class="token number">10.96</span>.0.1       <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>        <span class="token number">443</span>/TCP          4h23m   <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line"><span class="token comment"># 클러스터 외부(wsl-ubuntu)에서 &lt;node1 ip&gt;:&lt;nodePort&gt; 로 테스트</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token function">curl</span> <span class="token number">172.18</span>.0.4:31349
</span><span class="code-line">Hello Kubernetes<span class="token operator">!</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token function">curl</span> <span class="token number">172.18</span>.0.2:31349
</span><span class="code-line">Hello Kubernetes<span class="token operator">!</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token function">curl</span> <span class="token number">172.18</span>.0.3:31349
</span><span class="code-line">Hello Kubernetes<span class="token operator">!</span>
</span></code></pre></div><h4 id="apply-ingress-controller-loadbalancer"><a href="#apply-ingress-controller-loadbalancer" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Apply Ingress-Controller, LoadBalancer</h4><p>nginx-ingress-controller, metalLB 설치</p><div class="relative"><pre><code class="language-bash code-highlight"><span class="code-line"><span class="token comment">#ingress-nginx</span>
</span><span class="code-line">kubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.8.0/deploy/static/provider/cloud/deploy.yaml
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">#metalLB</span>
</span><span class="code-line">kubectl apply -f https://raw.githubusercontent.com/metallb/metallb/v0.13.10/config/manifests/metallb-native.yaml
</span><span class="code-line">
</span><span class="code-line">$ kubectl get all -n metallb-system
</span><span class="code-line">NAME                              READY   STATUS    RESTARTS   AGE
</span><span class="code-line">pod/controller-595f88d88f-qz4fx   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          90m
</span><span class="code-line">pod/speaker-lkzsx                 <span class="token number">1</span>/1     Running   <span class="token number">0</span>          90m
</span><span class="code-line">pod/speaker-vbxjq                 <span class="token number">1</span>/1     Running   <span class="token number">0</span>          90m
</span><span class="code-line">pod/speaker-wxqbc                 <span class="token number">1</span>/1     Running   <span class="token number">0</span>          90m
</span><span class="code-line">
</span><span class="code-line">NAME                      TYPE        CLUSTER-IP     EXTERNAL-IP   PORT<span class="token punctuation">(</span>S<span class="token punctuation">)</span>   AGE
</span><span class="code-line">service/webhook-service   ClusterIP   <span class="token number">10.96</span>.44.101   <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>        <span class="token number">443</span>/TCP   90m
</span><span class="code-line">
</span><span class="code-line">NAME                     DESIRED   CURRENT   READY   UP-TO-DATE   AVAILABLE   NODE SELECTOR            AGE
</span><span class="code-line">daemonset.apps/speaker   <span class="token number">3</span>         <span class="token number">3</span>         <span class="token number">3</span>       <span class="token number">3</span>            <span class="token number">3</span>           kubernetes.io/os<span class="token operator">=</span>linux   90m
</span><span class="code-line">
</span><span class="code-line">NAME                         READY   UP-TO-DATE   AVAILABLE   AGE
</span><span class="code-line">deployment.apps/controller   <span class="token number">1</span>/1     <span class="token number">1</span>            <span class="token number">1</span>           90m
</span><span class="code-line">
</span><span class="code-line">NAME                                    DESIRED   CURRENT   READY   AGE
</span><span class="code-line">replicaset.apps/controller-595f88d88f   <span class="token number">1</span>         <span class="token number">1</span>         <span class="token number">1</span>       90m
</span></code></pre></div><h4 id="apply-l2-metallb-customresources"><a href="#apply-l2-metallb-customresources" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Apply L2 MetalLB CustomResources</h4><div class="relative"><pre><code class="code-highlight language-yaml"><span class="code-line">kubectl apply <span class="token punctuation">-</span>f <span class="token punctuation">-</span> &lt;&lt;EOF
</span><span class="code-line"><span class="token atrule key">apiVersion</span><span class="token punctuation">:</span> metallb.io/v1beta1
</span><span class="code-line"><span class="token atrule key">kind</span><span class="token punctuation">:</span> IPAddressPool
</span><span class="code-line"><span class="token atrule key">metadata</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">name</span><span class="token punctuation">:</span> first<span class="token punctuation">-</span>pool
</span><span class="code-line">  <span class="token atrule key">namespace</span><span class="token punctuation">:</span> metallb<span class="token punctuation">-</span>system
</span><span class="code-line"><span class="token atrule key">spec</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">addresses</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token punctuation">-</span> 172.18.0.10<span class="token punctuation">-</span>172.18.0.50
</span><span class="code-line"><span class="token punctuation">---</span>
</span><span class="code-line"><span class="token atrule key">apiVersion</span><span class="token punctuation">:</span> metallb.io/v1beta1
</span><span class="code-line"><span class="token atrule key">kind</span><span class="token punctuation">:</span> L2Advertisement
</span><span class="code-line"><span class="token atrule key">metadata</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">name</span><span class="token punctuation">:</span> my<span class="token punctuation">-</span>network<span class="token punctuation">-</span>l2
</span><span class="code-line">  <span class="token atrule key">namespace</span><span class="token punctuation">:</span> metallb<span class="token punctuation">-</span>system
</span><span class="code-line"><span class="token atrule key">spec</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">ipAddressPools</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token punctuation">-</span> first<span class="token punctuation">-</span>pool
</span><span class="code-line">EOF
</span></code></pre></div><h4 id="customresources-적용-결과-확인-및-ingress-external-ip-할당-확인"><a href="#customresources-적용-결과-확인-및-ingress-external-ip-할당-확인" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>CustomResources 적용 결과 확인 및 ingress external-ip 할당 확인</h4><div class="relative"><pre><code class="language-bash code-highlight"><span class="code-line">
</span><span class="code-line">$ kubectl get IPAddressPool,L2Advertisement -n metallb-system
</span><span class="code-line">NAME                                  AUTO ASSIGN   AVOID BUGGY IPS   ADDRESSES
</span><span class="code-line">ipaddresspool.metallb.io/first-pool   <span class="token boolean">true</span>          <span class="token boolean">false</span>             <span class="token punctuation">[</span><span class="token string">&quot;172.18.0.10-172.18.0.50&quot;</span><span class="token punctuation">]</span>
</span><span class="code-line">
</span><span class="code-line">NAME                                       IPADDRESSPOOLS   IPADDRESSPOOL SELECTORS   INTERFACES
</span><span class="code-line">l2advertisement.metallb.io/my-network-l2   <span class="token punctuation">[</span><span class="token string">&quot;first-pool&quot;</span><span class="token punctuation">]</span>
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line">$ kubectl get all -n ingress-nginx
</span><span class="code-line">NAME                                            READY   STATUS      RESTARTS   AGE
</span><span class="code-line">pod/ingress-nginx-admission-create-7v5ml        <span class="token number">0</span>/1     Completed   <span class="token number">0</span>          94m
</span><span class="code-line">pod/ingress-nginx-admission-patch-9t97z         <span class="token number">0</span>/1     Completed   <span class="token number">2</span>          94m
</span><span class="code-line">pod/ingress-nginx-controller-7fcc694bd4-2shfd   <span class="token number">1</span>/1     Running     <span class="token number">0</span>          94m
</span><span class="code-line">
</span><span class="code-line"><span class="token comment"># metallb의 first-pool advertisement를 통해 172.18.0.10 번이 LoadBalancer에 할당되었다.</span>
</span><span class="code-line">NAME                                         TYPE           CLUSTER-IP      EXTERNAL-IP   PORT<span class="token punctuation">(</span>S<span class="token punctuation">)</span>                      AGE
</span><span class="code-line">service/ingress-nginx-controller             LoadBalancer   <span class="token number">10.96</span>.149.76    <span class="token number">172.18</span>.0.10   <span class="token number">80</span>:32547/TCP,443:32331/TCP   94m
</span><span class="code-line">service/ingress-nginx-controller-admission   ClusterIP      <span class="token number">10.96</span>.220.228   <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>        <span class="token number">443</span>/TCP                      94m
</span><span class="code-line">
</span><span class="code-line">NAME                                       READY   UP-TO-DATE   AVAILABLE   AGE
</span><span class="code-line">deployment.apps/ingress-nginx-controller   <span class="token number">1</span>/1     <span class="token number">1</span>            <span class="token number">1</span>           94m
</span><span class="code-line">
</span><span class="code-line">NAME                                                  DESIRED   CURRENT   READY   AGE
</span><span class="code-line">replicaset.apps/ingress-nginx-controller-7fcc694bd4   <span class="token number">1</span>         <span class="token number">1</span>         <span class="token number">1</span>       94m
</span><span class="code-line">
</span><span class="code-line">NAME                                       COMPLETIONS   DURATION   AGE
</span><span class="code-line">job.batch/ingress-nginx-admission-create   <span class="token number">1</span>/1           41s        94m
</span><span class="code-line">job.batch/ingress-nginx-admission-patch    <span class="token number">1</span>/1           56s        94m
</span></code></pre></div><h4 id="ingress-리소스-적용-및-test"><a href="#ingress-리소스-적용-및-test" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Ingress 리소스 적용 및 test</h4><div class="relative"><pre><code class="code-highlight language-yaml"><span class="code-line">kubectl apply <span class="token punctuation">-</span>f <span class="token punctuation">-</span> &lt;&lt;EOF
</span><span class="code-line"><span class="token atrule key">apiVersion</span><span class="token punctuation">:</span> networking.k8s.io/v1
</span><span class="code-line"><span class="token atrule key">kind</span><span class="token punctuation">:</span> Ingress
</span><span class="code-line"><span class="token atrule key">metadata</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">name</span><span class="token punctuation">:</span> hello<span class="token punctuation">-</span>ingress
</span><span class="code-line">  <span class="token atrule key">annotations</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token atrule key">nginx.ingress.kubernetes.io/rewrite-target</span><span class="token punctuation">:</span> /
</span><span class="code-line"><span class="token atrule key">spec</span><span class="token punctuation">:</span>
</span><span class="code-line">  <span class="token atrule key">ingressClassName</span><span class="token punctuation">:</span> nginx
</span><span class="code-line">  <span class="token atrule key">rules</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token punctuation">-</span> <span class="token atrule key">http</span><span class="token punctuation">:</span>
</span><span class="code-line">        <span class="token atrule key">paths</span><span class="token punctuation">:</span>
</span><span class="code-line">          <span class="token punctuation">-</span> <span class="token atrule key">path</span><span class="token punctuation">:</span> /hello
</span><span class="code-line">            <span class="token atrule key">pathType</span><span class="token punctuation">:</span> Prefix
</span><span class="code-line">            <span class="token atrule key">backend</span><span class="token punctuation">:</span>
</span><span class="code-line">              <span class="token atrule key">service</span><span class="token punctuation">:</span>
</span><span class="code-line">                <span class="token atrule key">name</span><span class="token punctuation">:</span> example<span class="token punctuation">-</span>service
</span><span class="code-line">                <span class="token atrule key">port</span><span class="token punctuation">:</span>
</span><span class="code-line">                  <span class="token atrule key">number</span><span class="token punctuation">:</span> <span class="token number">8080</span>
</span><span class="code-line">
</span></code></pre></div><h4 id="ingress-external-ip를-통해-서비스에-접근"><a href="#ingress-external-ip를-통해-서비스에-접근" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>ingress external ip를 통해 서비스에 접근</h4><div class="relative"><pre><code class="language-bash code-highlight"><span class="code-line"><span class="token comment">#wsl-ubuntu</span>
</span><span class="code-line"><span class="token function">curl</span> <span class="token number">172.18</span>.0.10/hello
</span><span class="code-line">Hello Kubernetes<span class="token operator">!</span>
</span></code></pre></div><p>kubectl의 port-forward로 host에서 접근하기</p><div class="relative"><pre><code class="language-bash code-highlight"><span class="code-line"><span class="token comment">#62322 포트를 해당 pod의 8080 port 연결</span>
</span><span class="code-line"><span class="token comment">#Service도 가능</span>
</span><span class="code-line">kubectl port-forward hello-world-7dc9558f6d-kwmrn <span class="token number">62322</span>:8080
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">#background에서 실행하기</span>
</span><span class="code-line">kubectl port-forward <span class="token punctuation">[</span>resource-name<span class="token punctuation">]</span> <span class="token punctuation">[</span>local-port<span class="token punctuation">]</span>:<span class="token punctuation">[</span>resource-port<span class="token punctuation">]</span> <span class="token operator">&amp;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment"># 종료시에는 아래와 같이 프로세스를 찾아 종료</span>
</span><span class="code-line"><span class="token function">ps</span> -ef <span class="token operator">|</span> <span class="token function">grep</span> port-forward
</span><span class="code-line">
</span><span class="code-line"><span class="token comment"># windows host to wsl docker service등으로 접속할 때 사용가능</span>
</span></code></pre></div></div></div><div id="comment"></div><footer><div class="flex flex-col text-sm font-medium sm:flex-row sm:justify-between sm:text-base"><div class="pt-4 xl:pt-8"><a class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/blog/k8s_network">← <!-- -->K8S network</a></div><div class="pt-4 xl:pt-8"><a class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/blog/k8s_manifest-Pod">K8S manifest - Pod<!-- --> →</a></div></div></footer></div></div></article></div></main><footer><div class="mt-16 flex flex-col items-center"><div class="mb-3 flex space-x-4"><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="mailto:demian11k@gmail.com"><span class="sr-only">mail</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="fill-current text-gray-700 hover:text-blue-500 dark:text-gray-200 dark:hover:text-blue-400 h-6 w-6"><path d="M2.003 5.884 10 9.882l7.997-3.998A2 2 0 0 0 16 4H4a2 2 0 0 0-1.997 1.884z"></path><path d="m18 8.118-8 4-8-4V14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8.118z"></path></svg></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://github.com/demian9k"><span class="sr-only">github</span><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="fill-current text-gray-700 hover:text-blue-500 dark:text-gray-200 dark:hover:text-blue-400 h-6 w-6"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></a></div><div class="mb-2 flex space-x-2 text-sm text-gray-500 dark:text-gray-400"><div>demian11k</div><div> • </div><div>© 2023</div><div> • </div><a href="/">demian11k studylog</a></div></div></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"mdxSource":"var Component=(()=\u003e{var t=Object.create;var l=Object.defineProperty;var d=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var m=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty;var i=a=\u003el(a,\"__esModule\",{value:!0});var N=(a,s)=\u003e()=\u003e(s||a((s={exports:{}}).exports,s),s.exports),u=(a,s)=\u003e{i(a);for(var c in s)l(a,c,{get:s[c],enumerable:!0})},k=(a,s,c)=\u003e{if(s\u0026\u0026typeof s==\"object\"||typeof s==\"function\")for(let n of p(s))!h.call(a,n)\u0026\u0026n!==\"default\"\u0026\u0026l(a,n,{get:()=\u003es[n],enumerable:!(c=d(s,n))||c.enumerable});return a},b=a=\u003ek(i(l(a!=null?t(m(a)):{},\"default\",a\u0026\u0026a.__esModule\u0026\u0026\"default\"in a?{get:()=\u003ea.default,enumerable:!0}:{value:a,enumerable:!0})),a);var o=N((w,r)=\u003e{r.exports=_jsx_runtime});var E={};u(E,{default:()=\u003ef,frontmatter:()=\u003eg});var e=b(o()),g={title:\"Hands-On Example: Ingress and Bare Metal Load Balancer in Windows-WSL-Kind-K8S\",date:new Date(168386058e4),lastmod:\"2023-05-12\",tags:[\"kubernetes\"],draft:!1,summary:\"\",layout:\"PostSimple\"};function y(a={}){let{wrapper:s}=a.components||{};return s?(0,e.jsx)(s,Object.assign({},a,{children:(0,e.jsx)(c,{})})):c();function c(){let n=Object.assign({p:\"p\",pre:\"pre\",code:\"code\",span:\"span\",h3:\"h3\",a:\"a\",h4:\"h4\",h1:\"h1\",ol:\"ol\",li:\"li\"},a.components);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(n.p,{children:\"HOST: windows11 WSL2: ubuntu 22.04\"}),(0,e.jsx)(n.p,{children:\"\\uD604\\uC7AC windows host\\uC640 wsl-ubuntu\\uC5D0 \\uD560\\uB2F9\\uB41C nic \\uC8FC\\uC18C\\uB4E4\\uC740 \\uC544\\uB798\\uC640 \\uAC19\\uB2E4.\"}),(0,e.jsx)(n.p,{children:\"\\uC544\\uB798 \\uC608\\uC81C\\uC5D0\\uC11C\\uB294 wsl-ubuntu\\uC758 eth0(172.21.103.48) nic\\uB97C \\uD1B5\\uD574 host\\uC640 wsl\\uC774 \\uD1B5\\uC2E0\\uD560 \\uC218 \\uC788\\uAC8C \\uB41C\\uB2E4.\"}),(0,e.jsx)(n.pre,{className:\"language-bash\",children:(0,e.jsxs)(n.code,{className:\"language-bash code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# windows host\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# windows host\\uC5D0\\uC11C wsl\\uC774 \\uD65C\\uC131\\uD654\\uB420 \\uB54C wsl\\uACFC \\uD1B5\\uC2E0\\uD558\\uAE30 \\uC704\\uD574 \\uC544\\uB798 VNIC\\uC744 \\uC0DD\\uC131\\uD55C\\uB2E4\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"$ \",(0,e.jsx)(n.span,{className:\"token function\",children:\"ifconfig\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"\\uC774\\uB354\\uB137 \\uC5B4\\uB311\\uD130 vEthernet \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"WSL\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`:\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"   \\uC5F0\\uACB0\\uBCC4 DNS \\uC811\\uBBF8\\uC0AC. \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\".\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\".\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\".\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"   \\uC124\\uBA85. \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\".\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\".\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\".\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\".\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\".\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\".\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\".\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\".\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\".\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\".\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\".\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\":\"}),\" Hyper-V Virtual Ethernet Adapter \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"#2\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"   \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"..\"}),`.\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"   IPv4 \\uC8FC\\uC18C \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\".\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\".\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\".\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\".\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\".\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\".\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\".\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\".\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\".\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"172.21\"}),\".96.1\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"\\uAE30\\uBCF8 \\uC124\\uC815\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"   \\uC11C\\uBE0C\\uB137 \\uB9C8\\uC2A4\\uD06C \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\".\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\".\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\".\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\".\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\".\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\".\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\".\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"255.255\"}),`.240.0\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"   \\uAE30\\uBCF8 \\uAC8C\\uC774\\uD2B8\\uC6E8\\uC774 \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\".\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\".\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\".\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\".\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\".\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\".\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\":\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# wsl-ubuntu\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# 172.21.96.1/20 \\uB300\\uC5ED\\uC5D0 \\uC18D\\uD55C ip\\uAC00 \\uD560\\uB2F9\\uB41C\\uB2E4.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"$ \",(0,e.jsx)(n.span,{className:\"token function\",children:\"ip\"}),` addr\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"eth0: \",(0,e.jsx)(n.span,{className:\"token variable assign-left\",children:\"flags\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"416\"}),(0,e.jsxs)(n.span,{className:\"token operator\",children:[(0,e.jsx)(n.span,{className:\"token file-descriptor important\",children:\"3\"}),\"\u003c\"]}),\"UP,BROADCAST,RUNNING,MULTICAST\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),\"  mtu \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1500\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        inet \",(0,e.jsx)(n.span,{className:\"token number\",children:\"172.21\"}),\".103.48  netmask \",(0,e.jsx)(n.span,{className:\"token number\",children:\"255.255\"}),\".240.0  broadcast \",(0,e.jsx)(n.span,{className:\"token number\",children:\"172.21\"}),`.111.255\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        inet6 fe80::215:5dff:fe16:fc8d  prefixlen \",(0,e.jsx)(n.span,{className:\"token number\",children:\"64\"}),\"  scopeid 0x2\",(0,e.jsxs)(n.span,{className:\"token operator\",children:[(0,e.jsx)(n.span,{className:\"token file-descriptor important\",children:\"0\"}),\"\u003c\"]}),\"link\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        ether 00:15:5d:16:fc:8d  txqueuelen \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1000\"}),\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"Ethernet\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        RX packets \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1226853\"}),\"  bytes \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1592700826\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1.5\"}),\" GB\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        RX errors \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),\"  dropped \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),\"  overruns \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),\"  frame \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        TX packets \",(0,e.jsx)(n.span,{className:\"token number\",children:\"193048\"}),\"  bytes \",(0,e.jsx)(n.span,{className:\"token number\",children:\"15357327\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"15.3\"}),\" MB\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        TX errors \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),\"  dropped \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),\" overruns \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),\"  carrier \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),\"  collisions \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),`\n`]})]})}),(0,e.jsxs)(n.h3,{id:\"install-docker\",children:[(0,e.jsx)(n.a,{href:\"#install-docker\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"install docker\"]}),(0,e.jsx)(n.p,{children:\"ubuntu\\uC5D0 container\\uB97C \\uC81C\\uACF5\\uD560 \\uC218 \\uC788\\uB294 docker\\uB97C \\uC124\\uCE58\\uD55C\\uB2E4.\"}),(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.a,{href:\"https://docs.docker.com/desktop/networking/\",children:\"https://docs.docker.com/desktop/networking/\"}),\" \\uC5D0 \\uB530\\uB974\\uBA74 docker desktop\\uC740 windows host, linux container \\uD658\\uACBD\\uC77C \\uB54C port-forwarding \\uC5C6\\uC774 host to container \\uD1B5\\uC2E0\\uC774 \\uAC00\\uB2A5\\uD558\\uC9C0 \\uC54A\\uB2E4.\"]}),(0,e.jsx)(n.p,{children:\"wsl\\uC5D0 \\uC9C1\\uC811 docker\\uB97C \\uC124\\uCE58\\uD558\\uBA74 \\uAC00\\uB2A5\\uD574\\uC9C4\\uB2E4.\"}),(0,e.jsx)(n.pre,{className:\"language-bash\",children:(0,e.jsxs)(n.code,{className:\"language-bash code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"#wsl-ubuntu\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"curl\"}),` -fsSL https://get.docker.com -o get-docker.sh\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"sudo\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"sh\"}),` get-docker.sh\n`]})]})}),(0,e.jsx)(n.p,{children:\"docker \\uAE30\\uBCF8 \\uC124\\uCE58\\uC2DC \\uAE30\\uBCF8 bridge \\uB124\\uD2B8\\uC6CC\\uD06C\\uAC00 \\uC0DD\\uC131\\uB41C\\uB2E4. \\uADF8\\uB7EC\\uB098 kind\\uB294 \\uAE30\\uBCF8\\uAC12\\uC73C\\uB85C \\uC124\\uCE58\\uC2DC \\uC790\\uCCB4\\uC801\\uC778 bridge network\\uB97C \\uC0DD\\uC131\\uD558\\uBBC0\\uB85C \\uC774 \\uB124\\uD2B8\\uC6CC\\uD06C\\uB97C \\uC0AC\\uC6A9\\uD558\\uC9C0\\uB294 \\uC54A\\uB294\\uB2E4.\"}),(0,e.jsx)(n.pre,{className:\"language-bash\",children:(0,e.jsxs)(n.code,{className:\"language-bash code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"$ \",(0,e.jsx)(n.span,{className:\"token function\",children:\"ifconfig\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"docker0: \",(0,e.jsx)(n.span,{className:\"token variable assign-left\",children:\"flags\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"416\"}),(0,e.jsxs)(n.span,{className:\"token operator\",children:[(0,e.jsx)(n.span,{className:\"token file-descriptor important\",children:\"3\"}),\"\u003c\"]}),\"UP,BROADCAST,RUNNING,MULTICAST\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),\"  mtu \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1500\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        inet \",(0,e.jsx)(n.span,{className:\"token number\",children:\"172.17\"}),\".0.1  netmask \",(0,e.jsx)(n.span,{className:\"token number\",children:\"255.255\"}),\".0.0  broadcast \",(0,e.jsx)(n.span,{className:\"token number\",children:\"172.17\"}),`.255.255\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        inet6 fe80::42:2eff:fe24:522d  prefixlen \",(0,e.jsx)(n.span,{className:\"token number\",children:\"64\"}),\"  scopeid 0x2\",(0,e.jsxs)(n.span,{className:\"token operator\",children:[(0,e.jsx)(n.span,{className:\"token file-descriptor important\",children:\"0\"}),\"\u003c\"]}),\"link\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        ether 02:42:2e:24:52:2d  txqueuelen \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"Ethernet\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        RX packets \",(0,e.jsx)(n.span,{className:\"token number\",children:\"59\"}),\"  bytes \",(0,e.jsx)(n.span,{className:\"token number\",children:\"25381\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"25.3\"}),\" KB\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        RX errors \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),\"  dropped \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),\"  overruns \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),\"  frame \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        TX packets \",(0,e.jsx)(n.span,{className:\"token number\",children:\"68\"}),\"  bytes \",(0,e.jsx)(n.span,{className:\"token number\",children:\"6378\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"6.3\"}),\" KB\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        TX errors \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),\"  dropped \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),\" overruns \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),\"  carrier \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),\"  collisions \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),`\n`]})]})}),(0,e.jsxs)(n.h3,{id:\"install-kind\",children:[(0,e.jsx)(n.a,{href:\"#install-kind\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"install kind\"]}),(0,e.jsx)(n.pre,{className:\"language-bash\",children:(0,e.jsxs)(n.code,{className:\"language-bash code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# wsl-ubuntu\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# For AMD64 / x86_64\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"$ \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\" \",(0,e.jsxs)(n.span,{className:\"token variable\",children:[(0,e.jsx)(n.span,{className:\"token variable\",children:\"$(\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"uname\"}),\" -m\",(0,e.jsx)(n.span,{className:\"token variable\",children:\")\"})]}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" x86_64 \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u0026\u0026\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"curl\"}),` -Lo ./kind https://kind.sigs.k8s.io/dl/v0.20.0/kind-linux-amd64\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# For ARM64\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"$ \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\" \",(0,e.jsxs)(n.span,{className:\"token variable\",children:[(0,e.jsx)(n.span,{className:\"token variable\",children:\"$(\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"uname\"}),\" -m\",(0,e.jsx)(n.span,{className:\"token variable\",children:\")\"})]}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" aarch64 \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u0026\u0026\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"curl\"}),` -Lo ./kind https://kind.sigs.k8s.io/dl/v0.20.0/kind-linux-arm64\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"$ \",(0,e.jsx)(n.span,{className:\"token function\",children:\"chmod\"}),` +x ./kind\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"$ \",(0,e.jsx)(n.span,{className:\"token function\",children:\"sudo\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"mv\"}),` ./kind /usr/local/bin/kind\n`]})]})}),(0,e.jsx)(n.p,{children:\"kind-config.yaml\"}),(0,e.jsx)(n.pre,{className:\"language-yaml\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-yaml\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"kind\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` Cluster\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"apiVersion\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" kind.x\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`k8s.io/v1alpha4\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"networking\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# WARNING: It is _strongly_ recommended that you keep this the default\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# (127.0.0.1) for security reasons. However it is possible to change this.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"apiServerAddress\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'127.0.0.1'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# By default the API server listens on a random open port.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# You may choose a specific port but probably don't need to in most cases.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# Using a random port makes it easier to spin up multiple clusters.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"apiServerPort\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"6443\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"nodes\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"role\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" control\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`plane\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"extraPortMappings\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"containerPort\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"80\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"hostPort\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"8080\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"protocol\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` TCP\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"listenAddress\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` 127.0.0.1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"containerPort\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"443\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"hostPort\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"9000\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"protocol\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` TCP\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"listenAddress\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` 127.0.0.1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"role\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` worker\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"role\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` worker\n`]})]})}),(0,e.jsx)(n.pre,{className:\"language-bash\",children:(0,e.jsxs)(n.code,{className:\"language-bash code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# wsl-ubuntu\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`$ kind create cluster --config kind-config.yaml\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"### kubectl \\uC124\\uCE58\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"#### wsl\\uC5D0 kubectl \\uC124\\uCE58\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`kind\\uC758 control-plane node\\uC5D0 \\uC811\\uADFC\\uD558\\uBA74 kubectl\\uC744 \\uC0AC\\uC6A9 \\uAC00\\uB2A5\\uD558\\uC9C0\\uB9CC \\uC5EC\\uB7EC\\uBAA8\\uB85C \\uBD88\\uD3B8\\uD55C \\uC810\\uC774 \\uC788\\uC73C\\uBBC0\\uB85C\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`wsl-ubuntu\\uC5D0\\uC11C kubectl\\uC744 \\uC0AC\\uC6A9\\uD558\\uAE30 \\uC704\\uD574 \\uC124\\uC815\\uD55C\\uB2E4.\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:\"```bash\\n\"}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# wsl-ubuntu\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"curl\"}),\" -LO \",(0,e.jsxs)(n.span,{className:\"token string\",children:['\"https://dl.k8s.io/release/',(0,e.jsxs)(n.span,{className:\"token variable\",children:[(0,e.jsx)(n.span,{className:\"token variable\",children:\"$(\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"curl\"}),\" -L -s https://dl.k8s.io/release/stable.txt\",(0,e.jsx)(n.span,{className:\"token variable\",children:\")\"})]}),'/bin/linux/amd64/kubectl\"']}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"sudo\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"install\"}),` -o demian -g demian -m 0755 kubectl /usr/local/bin/kubectl\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# install \\uC774\\uD6C4 /root/.kube \\uC124\\uCE58\\uB418\\uBA74 sudo\\uB97C \\uBD99\\uC5EC\\uC57C \\uD560 \\uC218 \\uC788\\uC73C\\uBBC0\\uB85C\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# kube config\\uB97C user home\\uC73C\\uB85C \\uC774\\uB3D9\\uC2DC\\uD0A8\\uB2E4.\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"sudo\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"cp\"}),\" -r /root/.kube \",(0,e.jsx)(n.span,{className:\"token constant environment\",children:\"$HOME\"}),`/.kube\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"sudo\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"chown\"}),\" -R \",(0,e.jsx)(n.span,{className:\"token constant environment\",children:\"$USER\"}),\" \",(0,e.jsx)(n.span,{className:\"token constant environment\",children:\"$HOME\"}),`/.kube\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`})]})}),(0,e.jsxs)(n.h4,{id:\"windowshost\\uC5D0-kubeconfig-\\uBCF5\\uC0AC\",children:[(0,e.jsx)(n.a,{href:\"#windowshost\\uC5D0-kubeconfig-\\uBCF5\\uC0AC\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"windows(host)\\uC5D0 kubeconfig \\uBCF5\\uC0AC\"]}),(0,e.jsx)(n.p,{children:\"windows host\\uC5D0\\uC11C kind cluster\\uC5D0 \\uC811\\uADFC\\uD558\\uAE30 \\uC704\\uD574 ubuntu\\uC5D0\\uC11C kind k8s cluster\\uB97C \\uB9CC\\uB4E4 \\uB54C \\uC0DD\\uC131\\uB418\\uB294 kube config\\uB97C host\\uB85C \\uBCF5\\uC0AC\\uD55C\\uB2E4. (kubectl \\uBC0F OpenLens \\uB4F1\\uC73C\\uB85C \\uC811\\uADFC \\uAC00\\uB2A5)\"}),(0,e.jsx)(n.pre,{className:\"language-bash\",children:(0,e.jsxs)(n.code,{className:\"language-bash code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# wsl-ubuntu\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"cp\"}),\" /mnt/c/Users/\",(0,e.jsx)(n.span,{className:\"token constant environment\",children:\"$USER\"}),\"/.kube/config /home/\",(0,e.jsx)(n.span,{className:\"token constant environment\",children:\"$HOME\"}),`/.kube/config\n`]})]})}),(0,e.jsxs)(n.h1,{id:\"containerk8s-node-\\uC5D0-\\uD560\\uB2F9\\uB41C-ip-\\uD655\\uC778\",children:[(0,e.jsx)(n.a,{href:\"#containerk8s-node-\\uC5D0-\\uD560\\uB2F9\\uB41C-ip-\\uD655\\uC778\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"container(K8S node) \\uC5D0 \\uD560\\uB2F9\\uB41C ip \\uD655\\uC778,\"]}),(0,e.jsx)(n.pre,{className:\"language-bash\",children:(0,e.jsxs)(n.code,{className:\"language-bash code-highlight\",children:[(0,e.jsx)(n.span,{className:\"code-line\",children:`$ kubectl get nodes -o wide\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# wsl-ubuntu\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`NAME                 STATUS   ROLES           AGE     VERSION   INTERNAL-IP   EXTERNAL-IP   OS-IMAGE                         KERNEL-VERSION                      CONTAINER-RUNTIME\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"kind-control-plane   Ready    control-plane   3h55m   v1.27.3   \",(0,e.jsx)(n.span,{className:\"token number\",children:\"172.18\"}),\".0.2    \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"none\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),\"        Debian GNU/Linux \",(0,e.jsx)(n.span,{className:\"token number\",children:\"11\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"bullseye\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\"   \",(0,e.jsx)(n.span,{className:\"token number\",children:\"5.15\"}),`.90.1-microsoft-standard-WSL2   containerd://1.7.1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"kind-worker          Ready    \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"none\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),\"          3h55m   v1.27.3   \",(0,e.jsx)(n.span,{className:\"token number\",children:\"172.18\"}),\".0.3    \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"none\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),\"        Debian GNU/Linux \",(0,e.jsx)(n.span,{className:\"token number\",children:\"11\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"bullseye\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\"   \",(0,e.jsx)(n.span,{className:\"token number\",children:\"5.15\"}),`.90.1-microsoft-standard-WSL2   containerd://1.7.1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"kind-worker2         Ready    \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"none\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),\"          3h55m   v1.27.3   \",(0,e.jsx)(n.span,{className:\"token number\",children:\"172.18\"}),\".0.4    \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"none\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),\"        Debian GNU/Linux \",(0,e.jsx)(n.span,{className:\"token number\",children:\"11\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"bullseye\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\"   \",(0,e.jsx)(n.span,{className:\"token number\",children:\"5.15\"}),`.90.1-microsoft-standard-WSL2   containerd://1.7.1\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# docker\\uC5D0\\uC11C kind\\uAC00 \\uC0AC\\uC6A9\\uC911\\uC778 container network \\uC815\\uBCF4 \\uD655\\uC778\\uD558\\uAE30\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"#kind cluster \\uC0DD\\uC131\\uC2DC container\\uC0AC\\uC774 \\uD1B5\\uC2E0\\uC744 \\uC704\\uD574 docker\\uC758 bridge \\uB124\\uD2B8\\uC6CC\\uD06C\\uAC00 \\uC0DD\\uC131\\uB418\\uBA70\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"#\\uAE30\\uBCF8\\uC801\\uC73C\\uB85C kind\\uB77C\\uB294 \\uC774\\uB984\\uC744 \\uAC00\\uC9C4\\uB2E4.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"$ docker network \",(0,e.jsx)(n.span,{className:\"token function\",children:\"ls\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`NETWORK ID     NAME                      DRIVER    SCOPE\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"fa9ea33b4b04   \",(0,e.jsx)(n.span,{className:\"token function\",children:\"host\"}),\"                      \",(0,e.jsx)(n.span,{className:\"token function\",children:\"host\"}),\"      \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\"local\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"f62034f53c1a   kind                      bridge    \",(0,e.jsx)(n.span,{className:\"token builtin class-name\",children:\"local\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`$ docker inspect network kind\n`})]})}),(0,e.jsx)(n.pre,{className:\"language-json\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-json\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"Name\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"kind\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"Id\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"7130bee69dd1a7e566dc15f1de9017a005d82c51597548b278780ea11f1b52df\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"Created\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"2023-08-04T09:48:46.934534908+09:00\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"Scope\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"local\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"Driver\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"bridge\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"EnableIPv6\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"true\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"IPAM\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"Driver\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"default\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"Options\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"Config\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"Subnet\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"172.18.0.0/16\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"Gateway\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"172.18.0.1\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"Subnet\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"fc00:f853:ccd:e793::/64\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"Internal\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"false\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"Attachable\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"false\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"Ingress\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"false\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"ConfigFrom\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"Network\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"ConfigOnly\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"false\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"Containers\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"6590a32dd8178e465063b19fd94dc8b26932a6a1d6437d3927b13b6fe7e68cc7\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"Name\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"kind-worker2\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"EndpointID\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"66dd147435ba2def40896371b7731e90958ba5d78086b3b5f5f52d27d6e771dc\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"MacAddress\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"02:42:ac:12:00:04\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"IPv4Address\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"172.18.0.4/16\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"IPv6Address\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"fc00:f853:ccd:e793::4/64\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"ab200dc169e932f057bfe732f36317aab2f3a589d51a1cb6c1e21b7e1ac25175\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"Name\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"kind-control-plane\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"EndpointID\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"817a449d55bb6cad3377baeaf3ae4d8106c398c3a1023561a217a6885d1b46ac\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"MacAddress\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"02:42:ac:12:00:02\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"IPv4Address\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"172.18.0.2/16\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"IPv6Address\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"fc00:f853:ccd:e793::2/64\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"f34fb47a71a57d434a427680df9c69ba932c7996bcf085bb93f50ae53f7c1749\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"Name\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"kind-worker\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"EndpointID\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"09396b5bf5025ce975667833bc3f8eb8d4a3f0cb4b05be812b562da3474a337f\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"MacAddress\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"02:42:ac:12:00:03\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"IPv4Address\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"172.18.0.3/16\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"IPv6Address\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"fc00:f853:ccd:e793::3/64\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"Options\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"com.docker.network.bridge.enable_ip_masquerade\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"true\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"com.docker.network.driver.mtu\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"1500\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"Labels\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"wsl-ubuntu\\uC640 kind node container\\uAC00 \\uD1B5\\uC2E0\\uD560 \\uC218 \\uC788\\uAC8C bridge NIC\\uAC00 \\uC0DD\\uC131\\uB41C\\uB2E4.\"}),(0,e.jsx)(n.pre,{className:\"language-bash\",children:(0,e.jsxs)(n.code,{className:\"language-bash code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"$ \",(0,e.jsx)(n.span,{className:\"token function\",children:\"ifconfig\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"br-7130bee69dd1: \",(0,e.jsx)(n.span,{className:\"token variable assign-left\",children:\"flags\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"416\"}),(0,e.jsxs)(n.span,{className:\"token operator\",children:[(0,e.jsx)(n.span,{className:\"token file-descriptor important\",children:\"3\"}),\"\u003c\"]}),\"UP,BROADCAST,RUNNING,MULTICAST\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),\"  mtu \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1500\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        inet \",(0,e.jsx)(n.span,{className:\"token number\",children:\"172.18\"}),\".0.1  netmask \",(0,e.jsx)(n.span,{className:\"token number\",children:\"255.255\"}),\".0.0  broadcast \",(0,e.jsx)(n.span,{className:\"token number\",children:\"172.18\"}),`.255.255\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        inet6 fc00:f853:ccd:e793::1  prefixlen \",(0,e.jsx)(n.span,{className:\"token number\",children:\"64\"}),\"  scopeid 0x\",(0,e.jsxs)(n.span,{className:\"token operator\",children:[(0,e.jsx)(n.span,{className:\"token file-descriptor important\",children:\"0\"}),\"\u003c\"]}),\"global\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        inet6 fe80::1  prefixlen \",(0,e.jsx)(n.span,{className:\"token number\",children:\"64\"}),\"  scopeid 0x2\",(0,e.jsxs)(n.span,{className:\"token operator\",children:[(0,e.jsx)(n.span,{className:\"token file-descriptor important\",children:\"0\"}),\"\u003c\"]}),\"link\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        inet6 fe80::42:f9ff:feef:ea41  prefixlen \",(0,e.jsx)(n.span,{className:\"token number\",children:\"64\"}),\"  scopeid 0x2\",(0,e.jsxs)(n.span,{className:\"token operator\",children:[(0,e.jsx)(n.span,{className:\"token file-descriptor important\",children:\"0\"}),\"\u003c\"]}),\"link\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        ether 02:42:f9:ef:ea:41  txqueuelen \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"Ethernet\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        RX packets \",(0,e.jsx)(n.span,{className:\"token number\",children:\"109883\"}),\"  bytes \",(0,e.jsx)(n.span,{className:\"token number\",children:\"13379612\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"13.3\"}),\" MB\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        RX errors \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),\"  dropped \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),\"  overruns \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),\"  frame \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        TX packets \",(0,e.jsx)(n.span,{className:\"token number\",children:\"136401\"}),\"  bytes \",(0,e.jsx)(n.span,{className:\"token number\",children:\"850557312\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"850.5\"}),\" MB\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        TX errors \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),\"  dropped \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),\" overruns \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),\"  carrier \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),\"  collisions \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`$ brctl show\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"bridge name     bridge \",(0,e.jsx)(n.span,{className:\"token function\",children:\"id\"}),`               STP enabled     interfaces\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"br-7130bee69dd1         \",(0,e.jsx)(n.span,{className:\"token number\",children:\"8000\"}),`.0242f9efea41       no              veth101f980\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`                                                       veth1382ea2\n`})]})}),(0,e.jsxs)(n.h3,{id:\"kind-cluster-\\uD1B5\\uC2E0-\\uD14C\\uC2A4\\uD2B8\",children:[(0,e.jsx)(n.a,{href:\"#kind-cluster-\\uD1B5\\uC2E0-\\uD14C\\uC2A4\\uD2B8\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"kind cluster \\uD1B5\\uC2E0 \\uD14C\\uC2A4\\uD2B8\"]}),(0,e.jsxs)(n.ol,{children:[(0,e.jsx)(n.li,{children:\"test deployment, nodeport service \\uC124\\uCE58, test\"}),(0,e.jsx)(n.li,{children:\"Apply Ingress-Controller, LoadBalancer\"}),(0,e.jsx)(n.li,{children:\"Apply L2 MetalLB CustomResources\"})]}),(0,e.jsx)(n.pre,{className:\"language-yaml\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-yaml\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"kubectl apply \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"f \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),` \u003c\u003cEOF\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"apiVersion\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` apps/v1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"kind\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` Deployment\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"metadata\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" hello\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`world\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"spec\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"selector\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"matchLabels\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"run\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" load\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"balancer\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`example\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"replicas\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"template\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"metadata\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"labels\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"run\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" load\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"balancer\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`example\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"spec\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"containers\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" hello\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`world\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"image\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" gcr.io/google\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"samples/node\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"hello\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1.0\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:'#\\uC774\\uBBF8\\uC9C0\\uB294 /\\uB85C \\uC694\\uCCAD\\uD588\\uC744 \\uB54C \"Hello Kubernetes\" \\uBB38\\uC790\\uC5F4\\uC744 \\uC751\\uB2F5\\uD558\\uB294 \\uC11C\\uBC84\\uC774\\uB2E4.'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"ports\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"containerPort\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"8080\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"              \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"protocol\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` TCP\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`EOF\n`})]})}),(0,e.jsx)(n.pre,{className:\"language-yaml\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-yaml\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"kubectl apply \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"f \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),` \u003c\u003cEOF\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"apiVersion\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` v1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"kind\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` Service\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"metadata\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" example\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`service\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"namespace\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` default\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"spec\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"ports\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"nodePort\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"31349\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"port\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"8080\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"protocol\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` TCP\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"targetPort\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"8080\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"selector\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"run\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" load\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"balancer\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`example\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"type\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` NodePort\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`EOF\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# loadbalancer\\uB85C working \\uD558\\uB294\\uC9C0 \\uD655\\uC778\\uD558\\uAE30\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"kubectl apply \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"f \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),` \u003c\u003cEOF\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"apiVersion\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` v1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"kind\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` Service\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"metadata\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" example\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`service\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"spec\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"type\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` LoadBalancer\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"ports\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"http-port\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"protocol\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` TCP\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"port\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"8080\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"targetPort\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"8080\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"selector\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"run\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" load\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"balancer\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`example\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`EOF\n`})]})}),(0,e.jsx)(n.h4,{children:(0,e.jsx)(n.a,{href:\"#\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})})}),(0,e.jsx)(n.pre,{className:\"language-bash\",children:(0,e.jsxs)(n.code,{className:\"language-bash code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# wsl-ubuntu\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# deploy \\uD655\\uC778\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`kubectl get deploy -o wide\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`NAME          READY   UP-TO-DATE   AVAILABLE   AGE    CONTAINERS    IMAGES                                 SELECTOR\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"hello-world   \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2\"}),\"/2     \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2\"}),\"            \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2\"}),\"           158m   hello-world   gcr.io/google-samples/node-hello:1.0   \",(0,e.jsx)(n.span,{className:\"token variable assign-left\",children:\"run\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),`load-balancer-example\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# deploy \\uD655\\uC778\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`kubectl get pods -o wide\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`NAME                           READY   STATUS    RESTARTS   AGE    IP           NODE           NOMINATED NODE   READINESS GATES\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"hello-world-7dc9558f6d-5x62v   \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),\"/1     Running   \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),\"          156m   \",(0,e.jsx)(n.span,{className:\"token number\",children:\"10.244\"}),\".2.2   kind-worker2   \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"none\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),\"           \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"none\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"hello-world-7dc9558f6d-zr5jd   \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),\"/1     Running   \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),\"          156m   \",(0,e.jsx)(n.span,{className:\"token number\",children:\"10.244\"}),\".1.2   kind-worker    \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"none\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),\"           \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"none\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# svc\\uC5D0\\uC11C node port \\uD655\\uC778\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`kubectl get svc -o wide\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"NAME              TYPE        CLUSTER-IP      EXTERNAL-IP   PORT\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"S\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`          AGE     SELECTOR\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"example-service   NodePort    \",(0,e.jsx)(n.span,{className:\"token number\",children:\"10.96\"}),\".159.239   \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"none\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),\"        \",(0,e.jsx)(n.span,{className:\"token number\",children:\"8080\"}),\":31349/TCP   156m    \",(0,e.jsx)(n.span,{className:\"token variable assign-left\",children:\"run\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),`load-balancer-example\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"kubernetes        ClusterIP   \",(0,e.jsx)(n.span,{className:\"token number\",children:\"10.96\"}),\".0.1       \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"none\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),\"        \",(0,e.jsx)(n.span,{className:\"token number\",children:\"443\"}),\"/TCP          4h23m   \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"none\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# \\uD074\\uB7EC\\uC2A4\\uD130 \\uC678\\uBD80(wsl-ubuntu)\\uC5D0\\uC11C \u003cnode1 ip\u003e:\u003cnodePort\u003e \\uB85C \\uD14C\\uC2A4\\uD2B8\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"curl\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"172.18\"}),`.0.4:31349\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"Hello Kubernetes\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"curl\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"172.18\"}),`.0.2:31349\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"Hello Kubernetes\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"curl\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"172.18\"}),`.0.3:31349\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"Hello Kubernetes\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!\"}),`\n`]})]})}),(0,e.jsxs)(n.h4,{id:\"apply-ingress-controller-loadbalancer\",children:[(0,e.jsx)(n.a,{href:\"#apply-ingress-controller-loadbalancer\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Apply Ingress-Controller, LoadBalancer\"]}),(0,e.jsx)(n.p,{children:\"nginx-ingress-controller, metalLB \\uC124\\uCE58\"}),(0,e.jsx)(n.pre,{className:\"language-bash\",children:(0,e.jsxs)(n.code,{className:\"language-bash code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"#ingress-nginx\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`kubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.8.0/deploy/static/provider/cloud/deploy.yaml\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"#metalLB\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`kubectl apply -f https://raw.githubusercontent.com/metallb/metallb/v0.13.10/config/manifests/metallb-native.yaml\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`$ kubectl get all -n metallb-system\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`NAME                              READY   STATUS    RESTARTS   AGE\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"pod/controller-595f88d88f-qz4fx   \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),\"/1     Running   \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),`          90m\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"pod/speaker-lkzsx                 \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),\"/1     Running   \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),`          90m\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"pod/speaker-vbxjq                 \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),\"/1     Running   \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),`          90m\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"pod/speaker-wxqbc                 \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),\"/1     Running   \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),`          90m\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"NAME                      TYPE        CLUSTER-IP     EXTERNAL-IP   PORT\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"S\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`   AGE\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"service/webhook-service   ClusterIP   \",(0,e.jsx)(n.span,{className:\"token number\",children:\"10.96\"}),\".44.101   \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"none\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),\"        \",(0,e.jsx)(n.span,{className:\"token number\",children:\"443\"}),`/TCP   90m\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`NAME                     DESIRED   CURRENT   READY   UP-TO-DATE   AVAILABLE   NODE SELECTOR            AGE\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"daemonset.apps/speaker   \",(0,e.jsx)(n.span,{className:\"token number\",children:\"3\"}),\"         \",(0,e.jsx)(n.span,{className:\"token number\",children:\"3\"}),\"         \",(0,e.jsx)(n.span,{className:\"token number\",children:\"3\"}),\"       \",(0,e.jsx)(n.span,{className:\"token number\",children:\"3\"}),\"            \",(0,e.jsx)(n.span,{className:\"token number\",children:\"3\"}),\"           kubernetes.io/os\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),`linux   90m\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`NAME                         READY   UP-TO-DATE   AVAILABLE   AGE\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"deployment.apps/controller   \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),\"/1     \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),\"            \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),`           90m\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`NAME                                    DESIRED   CURRENT   READY   AGE\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"replicaset.apps/controller-595f88d88f   \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),\"         \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),\"         \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),`       90m\n`]})]})}),(0,e.jsxs)(n.h4,{id:\"apply-l2-metallb-customresources\",children:[(0,e.jsx)(n.a,{href:\"#apply-l2-metallb-customresources\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Apply L2 MetalLB CustomResources\"]}),(0,e.jsx)(n.pre,{className:\"language-yaml\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-yaml\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"kubectl apply \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"f \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),` \u003c\u003cEOF\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"apiVersion\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` metallb.io/v1beta1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"kind\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` IPAddressPool\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"metadata\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" first\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`pool\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"namespace\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" metallb\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`system\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"spec\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"addresses\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" 172.18.0.10\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`172.18.0.50\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"---\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"apiVersion\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` metallb.io/v1beta1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"kind\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` L2Advertisement\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"metadata\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" my\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"network\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`l2\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"namespace\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" metallb\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`system\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"spec\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"ipAddressPools\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" first\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`pool\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`EOF\n`})]})}),(0,e.jsxs)(n.h4,{id:\"customresources-\\uC801\\uC6A9-\\uACB0\\uACFC-\\uD655\\uC778-\\uBC0F-ingress-external-ip-\\uD560\\uB2F9-\\uD655\\uC778\",children:[(0,e.jsx)(n.a,{href:\"#customresources-\\uC801\\uC6A9-\\uACB0\\uACFC-\\uD655\\uC778-\\uBC0F-ingress-external-ip-\\uD560\\uB2F9-\\uD655\\uC778\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"CustomResources \\uC801\\uC6A9 \\uACB0\\uACFC \\uD655\\uC778 \\uBC0F ingress external-ip \\uD560\\uB2F9 \\uD655\\uC778\"]}),(0,e.jsx)(n.pre,{className:\"language-bash\",children:(0,e.jsxs)(n.code,{className:\"language-bash code-highlight\",children:[(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`$ kubectl get IPAddressPool,L2Advertisement -n metallb-system\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`NAME                                  AUTO ASSIGN   AVOID BUGGY IPS   ADDRESSES\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"ipaddresspool.metallb.io/first-pool   \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"true\"}),\"          \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"false\"}),\"             \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"172.18.0.10-172.18.0.50\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`NAME                                       IPADDRESSPOOLS   IPADDRESSPOOL SELECTORS   INTERFACES\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"l2advertisement.metallb.io/my-network-l2   \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"first-pool\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`$ kubectl get all -n ingress-nginx\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`NAME                                            READY   STATUS      RESTARTS   AGE\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"pod/ingress-nginx-admission-create-7v5ml        \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),\"/1     Completed   \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),`          94m\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"pod/ingress-nginx-admission-patch-9t97z         \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),\"/1     Completed   \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2\"}),`          94m\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"pod/ingress-nginx-controller-7fcc694bd4-2shfd   \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),\"/1     Running     \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),`          94m\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# metallb\\uC758 first-pool advertisement\\uB97C \\uD1B5\\uD574 172.18.0.10 \\uBC88\\uC774 LoadBalancer\\uC5D0 \\uD560\\uB2F9\\uB418\\uC5C8\\uB2E4.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"NAME                                         TYPE           CLUSTER-IP      EXTERNAL-IP   PORT\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"S\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`                      AGE\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"service/ingress-nginx-controller             LoadBalancer   \",(0,e.jsx)(n.span,{className:\"token number\",children:\"10.96\"}),\".149.76    \",(0,e.jsx)(n.span,{className:\"token number\",children:\"172.18\"}),\".0.10   \",(0,e.jsx)(n.span,{className:\"token number\",children:\"80\"}),`:32547/TCP,443:32331/TCP   94m\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"service/ingress-nginx-controller-admission   ClusterIP      \",(0,e.jsx)(n.span,{className:\"token number\",children:\"10.96\"}),\".220.228   \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"none\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),\"        \",(0,e.jsx)(n.span,{className:\"token number\",children:\"443\"}),`/TCP                      94m\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`NAME                                       READY   UP-TO-DATE   AVAILABLE   AGE\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"deployment.apps/ingress-nginx-controller   \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),\"/1     \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),\"            \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),`           94m\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`NAME                                                  DESIRED   CURRENT   READY   AGE\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"replicaset.apps/ingress-nginx-controller-7fcc694bd4   \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),\"         \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),\"         \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),`       94m\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`NAME                                       COMPLETIONS   DURATION   AGE\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"job.batch/ingress-nginx-admission-create   \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),`/1           41s        94m\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"job.batch/ingress-nginx-admission-patch    \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),`/1           56s        94m\n`]})]})}),(0,e.jsxs)(n.h4,{id:\"ingress-\\uB9AC\\uC18C\\uC2A4-\\uC801\\uC6A9-\\uBC0F-test\",children:[(0,e.jsx)(n.a,{href:\"#ingress-\\uB9AC\\uC18C\\uC2A4-\\uC801\\uC6A9-\\uBC0F-test\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Ingress \\uB9AC\\uC18C\\uC2A4 \\uC801\\uC6A9 \\uBC0F test\"]}),(0,e.jsx)(n.pre,{className:\"language-yaml\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-yaml\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"kubectl apply \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\"f \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),` \u003c\u003cEOF\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"apiVersion\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` networking.k8s.io/v1\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"kind\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` Ingress\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"metadata\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" hello\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`ingress\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"annotations\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"nginx.ingress.kubernetes.io/rewrite-target\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` /\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"spec\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"ingressClassName\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` nginx\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"rules\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"http\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"paths\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"path\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` /hello\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"pathType\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),` Prefix\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"backend\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"              \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"service\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" example\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\"}),`service\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"port\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                  \",(0,e.jsx)(n.span,{className:\"token atrule key\",children:\"number\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"8080\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`})]})}),(0,e.jsxs)(n.h4,{id:\"ingress-external-ip\\uB97C-\\uD1B5\\uD574-\\uC11C\\uBE44\\uC2A4\\uC5D0-\\uC811\\uADFC\",children:[(0,e.jsx)(n.a,{href:\"#ingress-external-ip\\uB97C-\\uD1B5\\uD574-\\uC11C\\uBE44\\uC2A4\\uC5D0-\\uC811\\uADFC\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"ingress external ip\\uB97C \\uD1B5\\uD574 \\uC11C\\uBE44\\uC2A4\\uC5D0 \\uC811\\uADFC\"]}),(0,e.jsx)(n.pre,{className:\"language-bash\",children:(0,e.jsxs)(n.code,{className:\"language-bash code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"#wsl-ubuntu\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"curl\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"172.18\"}),`.0.10/hello\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"Hello Kubernetes\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"kubectl\\uC758 port-forward\\uB85C host\\uC5D0\\uC11C \\uC811\\uADFC\\uD558\\uAE30\"}),(0,e.jsx)(n.pre,{className:\"language-bash\",children:(0,e.jsxs)(n.code,{className:\"language-bash code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"#62322 \\uD3EC\\uD2B8\\uB97C \\uD574\\uB2F9 pod\\uC758 8080 port \\uC5F0\\uACB0\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"#Service\\uB3C4 \\uAC00\\uB2A5\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"kubectl port-forward hello-world-7dc9558f6d-kwmrn \",(0,e.jsx)(n.span,{className:\"token number\",children:\"62322\"}),`:8080\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"#background\\uC5D0\\uC11C \\uC2E4\\uD589\\uD558\\uAE30\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"kubectl port-forward \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"resource-name\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"local-port\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\":\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"resource-port\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u0026\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# \\uC885\\uB8CC\\uC2DC\\uC5D0\\uB294 \\uC544\\uB798\\uC640 \\uAC19\\uC774 \\uD504\\uB85C\\uC138\\uC2A4\\uB97C \\uCC3E\\uC544 \\uC885\\uB8CC\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"ps\"}),\" -ef \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"|\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"grep\"}),` port-forward\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# windows host to wsl docker service\\uB4F1\\uC73C\\uB85C \\uC811\\uC18D\\uD560 \\uB54C \\uC0AC\\uC6A9\\uAC00\\uB2A5\"}),`\n`]})]})})]})}}var f=y;return E;})();\n;return Component;","toc":[{"value":"install docker","url":"#install-docker","depth":3},{"value":"install kind","url":"#install-kind","depth":3},{"value":"windows(host)에 kubeconfig 복사","url":"#windowshost에-kubeconfig-복사","depth":4},{"value":"container(K8S node) 에 할당된 ip 확인,","url":"#containerk8s-node-에-할당된-ip-확인","depth":1},{"value":"kind cluster 통신 테스트","url":"#kind-cluster-통신-테스트","depth":3},{"value":"","url":"#","depth":4},{"value":"Apply Ingress-Controller, LoadBalancer","url":"#apply-ingress-controller-loadbalancer","depth":4},{"value":"Apply L2 MetalLB CustomResources","url":"#apply-l2-metallb-customresources","depth":4},{"value":"CustomResources 적용 결과 확인 및 ingress external-ip 할당 확인","url":"#customresources-적용-결과-확인-및-ingress-external-ip-할당-확인","depth":4},{"value":"Ingress 리소스 적용 및 test","url":"#ingress-리소스-적용-및-test","depth":4},{"value":"ingress external ip를 통해 서비스에 접근","url":"#ingress-external-ip를-통해-서비스에-접근","depth":4}],"frontMatter":{"readingTime":{"text":"14 min read","minutes":13.41,"time":804600,"words":2682},"slug":"Ingress-BareMetal_LoadBalancer_in_Windows-WSL-Kind-K8S","fileName":"Ingress-BareMetal_LoadBalancer_in_Windows-WSL-Kind-K8S.mdx","title":"Hands-On Example: Ingress and Bare Metal Load Balancer in Windows-WSL-Kind-K8S","date":"2023-05-12T03:03:00.000Z","lastmod":"2023-05-12","tags":["kubernetes"],"draft":false,"summary":"","layout":"PostSimple"}},"authorDetails":[{"readingTime":{"text":"1 min read","minutes":0.155,"time":9300,"words":31},"slug":["default"],"fileName":"default.md","name":"demian11k","avatar":"/static/images/avatar.png","email":"demian11k@gmail.com","github":"https://github.com/demian9k","date":null}],"prev":{"title":"K8S network","date":"2023-05-12T03:03:00.000Z","lastmod":"2023-05-12","tags":["kubernetes"],"draft":false,"summary":"","layout":"PostSimple","slug":"k8s_network"},"next":{"title":"K8S manifest - Pod","date":"2023-05-15T01:01:00.000Z","lastmod":"2023-05-15","tags":["kubernetes"],"draft":false,"summary":"","layout":"PostSimple","slug":"k8s_manifest-Pod"}},"__N_SSG":true},"page":"/blog/[...slug]","query":{"slug":["Ingress-BareMetal_LoadBalancer_in_Windows-WSL-Kind-K8S"]},"buildId":"_epZdIX6LUAs-N565XCV9","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>