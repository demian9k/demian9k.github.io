{"pageProps":{"post":{"mdxSource":"var Component=(()=>{var d=Object.create;var l=Object.defineProperty;var r=Object.getOwnPropertyDescriptor;var t=Object.getOwnPropertyNames;var p=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty;var i=s=>l(s,\"__esModule\",{value:!0});var N=(s,a)=>()=>(a||s((a={exports:{}}).exports,a),a.exports),k=(s,a)=>{i(s);for(var c in a)l(s,c,{get:a[c],enumerable:!0})},u=(s,a,c)=>{if(a&&typeof a==\"object\"||typeof a==\"function\")for(let n of t(a))!h.call(s,n)&&n!==\"default\"&&l(s,n,{get:()=>a[n],enumerable:!(c=r(a,n))||c.enumerable});return s},g=s=>u(i(l(s!=null?d(p(s)):{},\"default\",s&&s.__esModule&&\"default\"in s?{get:()=>s.default,enumerable:!0}:{value:s,enumerable:!0})),s);var m=N((T,o)=>{o.exports=_jsx_runtime});var x={};k(x,{default:()=>f,frontmatter:()=>y});var e=g(m()),y={title:\"ssh-keygen ca\",date:new Date(169155018e4),lastmod:\"2023-08-09\",tags:[\"ssh\"],draft:!1,summary:\"\",layout:\"PostSimple\"};function b(s={}){let{wrapper:a}=s.components||{};return a?(0,e.jsx)(a,Object.assign({},s,{children:(0,e.jsx)(c,{})})):c();function c(){let n=Object.assign({p:\"p\",pre:\"pre\",code:\"code\",span:\"span\"},s.components);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(n.p,{children:\"This article is written to help you understand the process of signing a user certificate with a CA certificate.\"}),(0,e.jsx)(n.pre,{className:\"language-bash\",children:(0,e.jsxs)(n.code,{className:\"language-bash code-highlight\",children:[(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# ca \\uC778\\uC99D\\uC11C \\uC0DD\\uC131\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`$ ssh-keygen -t ed25519 -f id_ca\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# Generating public/private ed25519 key pair.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# Enter passphrase (empty for no passphrase):\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# Enter same passphrase again:\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# Your identification has been saved in id_ca\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# Your public key has been saved in id_ca.pub\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# The key fingerprint is:\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# SHA256:WSl1xC/eT7i1xSLLxX/0+xrMrBYJNo9NCLMtkHIt24s demian@DESKTOP-K8O1SPU\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# The key's randomart image is:\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# +--[ED25519 256]--+\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# |       o  .oo    |\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# |    . = +. o.    |\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# |     o =.=o. .   |\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# |      . ++* o .  |\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# |       .S+ O = o |\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# |      E . . B+* *|\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# |           . ==O+|\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# |            +..o=|\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# |           .. .o=|\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# +----[SHA256]-----+\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# user \\uC778\\uC99D\\uC11C \\uC0DD\\uC131\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`$ ssh-keygen -t ed25519 -f id_user\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# Generating public/private ed25519 key pair.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# Enter passphrase (empty for no passphrase):\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# Enter same passphrase again:\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# Your identification has been saved in id_user\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# Your public key has been saved in id_user.pub\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# The key fingerprint is:\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# SHA256:rQOxhlgRX96exeZPVsC5ToyfnyzyLVAwgpAIRa8TWTM demian@DESKTOP-K8O1SPU\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# The key's randomart image is:\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# +--[ED25519 256]--+\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# | .+o+Eo o    ... |\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# |   .++o+ o +  o. |\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# |   o..o . o *o ..|\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# |   oo. o o =..+. |\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# |  .o. + S + o+o. |\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# |    .. . . . ++  |\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# |        o   . o..|\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# |         . . o.o.|\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# |            o.o. |\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# +----[SHA256]-----+\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# CA key(id_ca) \\uD30C\\uC77C\\uACFC id_user.pub\\uD30C\\uC77C\\uB85C id_user-cert.pub \\uD30C\\uC77C \\uC0DD\\uC131\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# -s \\uACF5\\uAC1C\\uD0A4\\uC5D0 \\uC0AC\\uC778\\uD560 CA key \\uD30C\\uC77C \\uACBD\\uB85C\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# -I\\uB294 certificate_identity \\uB97C \\uC9C0\\uC815\\uD558\\uBA70 \\uAD00\\uB9AC \\uB4F1\\uC744 \\uC704\\uD55C \\uBA54\\uD0C0\\uB370\\uC774\\uD130\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# -V\\uB294 \\uC778\\uC99D\\uC11C \\uC720\\uD6A8\\uAE30\\uAC04\\uC744 52\\uC8FC(1\\uB144)\\uB85C \\uC9C0\\uC815\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# -z\\uB294 \\uC0DD\\uC131\\uB420 cert.pub \\uD30C\\uC77C\\uC5D0 \\uD3EC\\uD568\\uB420 serial_number\\uB97C \\uC9C0\\uC815\\uD55C\\uB2E4. \\uC774 \\uBC88\\uD638\\uB294 cert.pub\\uD30C\\uC77C\\uC5D0 \\uD3EC\\uD568\\uB41C \\uAC19\\uC740 CA\\uC758 \\uC778\\uC99D\\uC11C\\uC640 \\uAD6C\\uBCC4\\uD558\\uAE30\\uC704\\uD574 \\uC0AC\\uC6A9\\uB429\\uB2C8\\uB2E4.\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"$ ssh-keygen -s id_ca -I lee -n lee,admin -V +52w -z \",(0,e.jsx)(n.span,{className:\"token number\",children:\"12345\"}),` id_user.pub\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"Signed user key id_user-cert.pub: \",(0,e.jsx)(n.span,{className:\"token function\",children:\"id\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"lee\"'}),\" serial \",(0,e.jsx)(n.span,{className:\"token number\",children:\"12345\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"for\"}),\" lee,admin valid from \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2023\"}),\"-08-09T09:47:00 to \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2024\"}),`-08-07T09:48:32\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# -f \\uB294 key file\\uC744 \\uC9C0\\uC815\\uD55C\\uB2E4.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"# -L\\uC740 cert.pub \\uD30C\\uC77C\\uC5D0 \\uC788\\uB294 \\uC778\\uC99D\\uC11C\\uB4E4\\uC758 \\uBAA9\\uB85D\\uC744 \\uCD9C\\uB825\\uD558\\uB294 \\uC635\\uC158\\uC774\\uB2E4.\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`$ ssh-keygen -L -f id_user-cert.pub\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`id_user-cert.pub:\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`        Type: ssh-ed25519-cert-v01@openssh.com user certificate\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`        Public key: ED25519-CERT SHA256:rQOxhlgRX96exeZPVsC5ToyfnyzyLVAwgpAIRa8TWTM\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        Signing CA: ED25519 SHA256:WSl1xC/eT7i1xSLLxX/0+xrMrBYJNo9NCLMtkHIt24s \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"using ssh-ed25519\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        Key ID: \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"lee\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        Serial: \",(0,e.jsx)(n.span,{className:\"token number\",children:\"12345\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        Valid: from \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2023\"}),\"-08-09T09:47:00 to \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2024\"}),`-08-07T09:48:32\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`        Principals:\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`                lee\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`                admin\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        Critical Options: \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"none\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`        Extensions:\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`                permit-X11-forwarding\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`                permit-agent-forwarding\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`                permit-port-forwarding\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`                permit-pty\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`                permit-user-rc\n`})]})})]})}}var f=b;return x;})();\n;return Component;","toc":[],"frontMatter":{"readingTime":{"text":"3 min read","minutes":2.525,"time":151500,"words":505},"slug":"ssh-keygen ca","fileName":"ssh-keygen ca.mdx","title":"ssh-keygen ca","date":"2023-08-09T03:03:00.000Z","lastmod":"2023-08-09","tags":["ssh"],"draft":false,"summary":"","layout":"PostSimple"}},"authorDetails":[{"readingTime":{"text":"1 min read","minutes":0.155,"time":9300,"words":31},"slug":["default"],"fileName":"default.md","name":"demian11k","avatar":"/static/images/avatar.png","email":"demian11k@gmail.com","github":"https://github.com/demian9k","date":null}],"prev":{"title":"jetbrain ide http client","date":"2023-07-20T03:03:00.000Z","lastmod":"2023-07-20","tags":["http"],"draft":false,"summary":"","layout":"PostSimple","slug":"jetbrain_ide_httpclient"},"next":{"title":"install gitlab_wsl_docker-compose","date":"2023-08-25T03:03:00.000Z","lastmod":"2023-08-25","tags":["git"],"draft":false,"summary":"","layout":"PostSimple","slug":"install-gitlab_docker-compose"}},"__N_SSG":true}